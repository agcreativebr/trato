"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/(app)/workspaces/[workspaceId]/boards/[boardId]/page",{

/***/ "(app-pages-browser)/./components/KanbanBoard.tsx":
/*!************************************!*\
  !*** ./components/KanbanBoard.tsx ***!
  \************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   KanbanBoard: function() { return /* binding */ KanbanBoard; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @dnd-kit/core */ \"(app-pages-browser)/./node_modules/@dnd-kit/core/dist/core.esm.js\");\n/* harmony import */ var _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @dnd-kit/sortable */ \"(app-pages-browser)/./node_modules/@dnd-kit/sortable/dist/sortable.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _KanbanList__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./KanbanList */ \"(app-pages-browser)/./components/KanbanList.tsx\");\n/* harmony import */ var _KanbanCard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./KanbanCard */ \"(app-pages-browser)/./components/KanbanCard.tsx\");\n/* harmony import */ var _lib_supabase_client__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/supabase-client */ \"(app-pages-browser)/./lib/supabase-client.ts\");\n/* harmony import */ var _barrel_optimize_names_Filter_Plus_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=Filter,Plus!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/filter.js\");\n/* harmony import */ var _barrel_optimize_names_Filter_Plus_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=Filter,Plus!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/plus.js\");\n/* harmony import */ var _components_card_CardModal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/card/CardModal */ \"(app-pages-browser)/./components/card/CardModal.tsx\");\n/* harmony import */ var _lib_storage_url_cache__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/lib/storage-url-cache */ \"(app-pages-browser)/./lib/storage-url-cache.ts\");\n/* harmony import */ var _components_ui_Popover__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/ui/Popover */ \"(app-pages-browser)/./components/ui/Popover.tsx\");\n/* harmony import */ var _components_ui_Button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/ui/Button */ \"(app-pages-browser)/./components/ui/Button.tsx\");\n/* __next_internal_client_entry_do_not_use__ KanbanBoard auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction KanbanBoard(param) {\n    let { boardId, workspaceId } = param;\n    var _labelsAnchorRef_current, _membersAnchorRef_current;\n    _s();\n    const supabase = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(()=>(0,_lib_supabase_client__WEBPACK_IMPORTED_MODULE_6__.getSupabaseBrowserClient)(), []);\n    const [lists, setLists] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);\n    const [cardsByList, setCardsByList] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({});\n    const sensors = (0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.useSensors)((0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.useSensor)(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.PointerSensor, {\n        activationConstraint: {\n            distance: 3\n        }\n    }));\n    const [openCardId, setOpenCardId] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [membersByCard, setMembersByCard] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({});\n    const [labelsIndex, setLabelsIndex] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({});\n    const [attachmentsCountByCard, setAttachmentsCountByCard] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({});\n    const [commentsCountByCard, setCommentsCountByCard] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({});\n    const [settings, setSettings] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({\n        auto_start_on_create: false,\n        due_offset_minutes: 0,\n        due_soon_threshold_minutes: 1440\n    });\n    const [labelsByCard, setLabelsByCard] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({});\n    const [activeDragId, setActiveDragId] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [overListId, setOverListId] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [draggingListId, setDraggingListId] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [cardPlaceholder, setCardPlaceholder] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const activeOverlay = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(()=>{\n        if (!activeDragId) return null;\n        const [lId, cId] = activeDragId.split(\":\");\n        var _cardsByList_lId;\n        const arr = (_cardsByList_lId = cardsByList[lId]) !== null && _cardsByList_lId !== void 0 ? _cardsByList_lId : [];\n        const base = arr.find((c)=>c.id === cId);\n        if (!base) return null;\n        var _membersByCard_base_id, _labelsByCard_base_id, _attachmentsCountByCard_base_id, _commentsCountByCard_base_id;\n        return {\n            listId: lId,\n            card: {\n                ...base,\n                members: (_membersByCard_base_id = membersByCard[base.id]) !== null && _membersByCard_base_id !== void 0 ? _membersByCard_base_id : [],\n                labels: (_labelsByCard_base_id = labelsByCard[base.id]) !== null && _labelsByCard_base_id !== void 0 ? _labelsByCard_base_id : [],\n                attachmentsCount: (_attachmentsCountByCard_base_id = attachmentsCountByCard[base.id]) !== null && _attachmentsCountByCard_base_id !== void 0 ? _attachmentsCountByCard_base_id : 0,\n                commentsCount: (_commentsCountByCard_base_id = commentsCountByCard[base.id]) !== null && _commentsCountByCard_base_id !== void 0 ? _commentsCountByCard_base_id : 0\n            }\n        };\n    }, [\n        activeDragId,\n        cardsByList,\n        membersByCard,\n        labelsByCard,\n        attachmentsCountByCard,\n        commentsCountByCard\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{\n        let mounted = true;\n        (async ()=>{\n            const { data: ls } = await supabase.from(\"lists\").select(\"*\").eq(\"board_id\", boardId).order(\"position\", {\n                ascending: true\n            });\n            const { data: cs } = await supabase.from(\"cards\").select(\"*\").eq(\"board_id\", boardId).is(\"archived_at\", null).order(\"position\", {\n                ascending: true\n            });\n            if (!mounted) return;\n            setLists(ls !== null && ls !== void 0 ? ls : []);\n            const map = {};\n            for (const l of ls !== null && ls !== void 0 ? ls : []){\n                map[l.id] = (cs !== null && cs !== void 0 ? cs : []).filter((c)=>c.list_id === l.id);\n            }\n            setCardsByList(map);\n            // Prefetch das capas para evitar latência ao abrir modal\n            const coverPaths = (cs !== null && cs !== void 0 ? cs : []).map((c)=>c.cover_path).filter(Boolean);\n            if (coverPaths.length) {\n                try {\n                    await Promise.all(coverPaths.map(async (p)=>{\n                        const { data: one } = await supabase.storage.from(\"attachments\").createSignedUrl(p, 60 * 10);\n                        if (one === null || one === void 0 ? void 0 : one.signedUrl) {\n                            (0,_lib_storage_url_cache__WEBPACK_IMPORTED_MODULE_8__.setCachedSignedUrl)(p, one.signedUrl, 600);\n                        }\n                    }));\n                } catch (e) {}\n            }\n            // fetch members for all cards\n            const cardIds = (cs !== null && cs !== void 0 ? cs : []).map((c)=>c.id);\n            if (cardIds.length) {\n                const { data: cm } = await supabase.from(\"card_members\").select(\"*\").in(\"card_id\", cardIds);\n                const userIds = Array.from(new Set((cm !== null && cm !== void 0 ? cm : []).map((m)=>m.user_id)));\n                const { data: profiles } = await supabase.from(\"user_profiles\").select(\"*\").in(\"id\", userIds);\n                const pMap = new Map((profiles !== null && profiles !== void 0 ? profiles : []).map((p)=>[\n                        p.id,\n                        p\n                    ]));\n                const byCard = {};\n                for (const c of cm !== null && cm !== void 0 ? cm : []){\n                    var _byCard_c_card_id;\n                    byCard[c.card_id] = (_byCard_c_card_id = byCard[c.card_id]) !== null && _byCard_c_card_id !== void 0 ? _byCard_c_card_id : [];\n                    const prof = pMap.get(c.user_id);\n                    var _prof_display_name, _prof_avatar_url;\n                    byCard[c.card_id].push({\n                        id: c.user_id,\n                        name: (_prof_display_name = prof === null || prof === void 0 ? void 0 : prof.display_name) !== null && _prof_display_name !== void 0 ? _prof_display_name : null,\n                        avatar_url: (_prof_avatar_url = prof === null || prof === void 0 ? void 0 : prof.avatar_url) !== null && _prof_avatar_url !== void 0 ? _prof_avatar_url : null\n                    });\n                }\n                setMembersByCard(byCard);\n            }\n            // Carrega membros do workspace para popular filtro mesmo sem atribuição\n            try {\n                const { authFetch } = await __webpack_require__.e(/*! import() */ \"_app-pages-browser_lib_auth-fetch_ts\").then(__webpack_require__.bind(__webpack_require__, /*! @/lib/auth-fetch */ \"(app-pages-browser)/./lib/auth-fetch.ts\"));\n                const res = await authFetch(\"/api/workspaces/members?workspaceId=\".concat(workspaceId));\n                const json = await res.json();\n                var _json_data;\n                const extras = ((_json_data = json === null || json === void 0 ? void 0 : json.data) !== null && _json_data !== void 0 ? _json_data : []).map((m)=>{\n                    var _m_profile;\n                    var _m_profile_display_name;\n                    return {\n                        id: m.user_id,\n                        name: (_m_profile_display_name = (_m_profile = m.profile) === null || _m_profile === void 0 ? void 0 : _m_profile.display_name) !== null && _m_profile_display_name !== void 0 ? _m_profile_display_name : null\n                    };\n                });\n                setMembersByCard((prev)=>{\n                    const copy = {\n                        ...prev\n                    };\n                    copy[\"_workspace_members\"] = extras;\n                    return copy;\n                });\n            } catch (e) {}\n            // fetch labels for all cards\n            const { data: allLabels } = await supabase.from(\"labels\").select(\"*\").eq(\"board_id\", boardId);\n            const { data: cardLabels } = await supabase.from(\"card_labels\").select(\"*\").in(\"card_id\", cardIds);\n            const labelMap = new Map((allLabels !== null && allLabels !== void 0 ? allLabels : []).map((l)=>[\n                    l.id,\n                    l\n                ]));\n            setLabelsIndex(Object.fromEntries((allLabels !== null && allLabels !== void 0 ? allLabels : []).map((l)=>[\n                    l.id,\n                    {\n                        id: l.id,\n                        name: l.name,\n                        color: l.color\n                    }\n                ])));\n            const byCardLabels = {};\n            for (const cl of cardLabels !== null && cardLabels !== void 0 ? cardLabels : []){\n                const lab = labelMap.get(cl.label_id);\n                if (!lab) continue;\n                var _byCardLabels_cl_card_id;\n                byCardLabels[cl.card_id] = (_byCardLabels_cl_card_id = byCardLabels[cl.card_id]) !== null && _byCardLabels_cl_card_id !== void 0 ? _byCardLabels_cl_card_id : [];\n                byCardLabels[cl.card_id].push({\n                    id: lab.id,\n                    name: lab.name,\n                    color: lab.color\n                });\n            }\n            setLabelsByCard(byCardLabels);\n            // fetch attachments count per card\n            const { data: atts } = await supabase.from(\"attachments\").select(\"card_id\");\n            const countMap = {};\n            for (const a of atts !== null && atts !== void 0 ? atts : []){\n                var _countMap_a_card_id;\n                countMap[a.card_id] = ((_countMap_a_card_id = countMap[a.card_id]) !== null && _countMap_a_card_id !== void 0 ? _countMap_a_card_id : 0) + 1;\n            }\n            setAttachmentsCountByCard(countMap);\n            // fetch comments count per card\n            const { data: cms } = await supabase.from(\"card_comments\").select(\"card_id\");\n            const cCount = {};\n            for (const c of cms !== null && cms !== void 0 ? cms : []){\n                var _cCount_c_card_id;\n                cCount[c.card_id] = ((_cCount_c_card_id = cCount[c.card_id]) !== null && _cCount_c_card_id !== void 0 ? _cCount_c_card_id : 0) + 1;\n            }\n            setCommentsCountByCard(cCount);\n            // settings\n            const { data: st } = await supabase.from(\"board_settings\").select(\"*\").eq(\"board_id\", boardId).maybeSingle();\n            if (st) setSettings({\n                auto_start_on_create: st.auto_start_on_create,\n                due_offset_minutes: st.due_offset_minutes,\n                due_soon_threshold_minutes: st.due_soon_threshold_minutes\n            });\n        })();\n        return ()=>{\n            mounted = false;\n        };\n    }, [\n        boardId,\n        supabase\n    ]);\n    // Realtime\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{\n        const channel = supabase.channel(\"board:\".concat(boardId)).on(\"postgres_changes\", {\n            event: \"*\",\n            schema: \"public\",\n            table: \"lists\",\n            filter: \"board_id=eq.\".concat(boardId)\n        }, (payload)=>{\n            setLists((prev)=>{\n                if (payload.eventType === \"INSERT\") return [\n                    ...prev,\n                    payload.new\n                ].sort((a, b)=>a.position - b.position);\n                if (payload.eventType === \"UPDATE\") return prev.map((l)=>l.id === payload.new.id ? payload.new : l).sort((a, b)=>a.position - b.position);\n                if (payload.eventType === \"DELETE\") return prev.filter((l)=>l.id !== payload.old.id);\n                return prev;\n            });\n        }).on(\"postgres_changes\", {\n            event: \"*\",\n            schema: \"public\",\n            table: \"cards\",\n            filter: \"board_id=eq.\".concat(boardId)\n        }, (payload)=>{\n            setCardsByList((prev)=>{\n                const updated = {\n                    ...prev\n                };\n                if (payload.eventType === \"INSERT\") {\n                    var _payload_new;\n                    if ((_payload_new = payload.new) === null || _payload_new === void 0 ? void 0 : _payload_new.archived_at) return updated;\n                    const listId = payload.new.list_id;\n                    var _updated_listId;\n                    updated[listId] = [\n                        ...(_updated_listId = updated[listId]) !== null && _updated_listId !== void 0 ? _updated_listId : [],\n                        payload.new\n                    ].sort((a, b)=>a.position - b.position);\n                } else if (payload.eventType === \"UPDATE\") {\n                    var _payload_new1;\n                    // remove from old list if moved\n                    for (const key of Object.keys(updated)){\n                        var _updated_key;\n                        updated[key] = ((_updated_key = updated[key]) !== null && _updated_key !== void 0 ? _updated_key : []).filter((c)=>c.id !== payload.new.id);\n                    }\n                    if ((_payload_new1 = payload.new) === null || _payload_new1 === void 0 ? void 0 : _payload_new1.archived_at) {\n                        // arquivado: não reintroduzir\n                        return updated;\n                    }\n                    const listId = payload.new.list_id;\n                    var _updated_listId1;\n                    updated[listId] = [\n                        ...(_updated_listId1 = updated[listId]) !== null && _updated_listId1 !== void 0 ? _updated_listId1 : [],\n                        payload.new\n                    ].sort((a, b)=>a.position - b.position);\n                } else if (payload.eventType === \"DELETE\") {\n                    for (const key of Object.keys(updated)){\n                        var _updated_key1;\n                        updated[key] = ((_updated_key1 = updated[key]) !== null && _updated_key1 !== void 0 ? _updated_key1 : []).filter((c)=>c.id !== payload.old.id);\n                    }\n                }\n                return updated;\n            });\n        }).subscribe();\n        // card_labels realtime\n        const channel2 = supabase.channel(\"labels:\".concat(boardId)).on(\"postgres_changes\", {\n            event: \"*\",\n            schema: \"public\",\n            table: \"card_labels\"\n        }, (payload)=>{\n            var _payload_new, _payload_old;\n            var _payload_new_card_id;\n            const cardId = (_payload_new_card_id = (_payload_new = payload.new) === null || _payload_new === void 0 ? void 0 : _payload_new.card_id) !== null && _payload_new_card_id !== void 0 ? _payload_new_card_id : (_payload_old = payload.old) === null || _payload_old === void 0 ? void 0 : _payload_old.card_id;\n            // atualiza somente se o card existe neste board\n            const exists = Object.values(cardsByList).some((arr)=>(arr !== null && arr !== void 0 ? arr : []).some((c)=>c.id === cardId));\n            if (!exists) return;\n            setLabelsByCard((prev)=>{\n                const copy = {\n                    ...prev\n                };\n                if (payload.eventType === \"INSERT\") {\n                    const lab = labelsIndex[payload.new.label_id];\n                    if (lab) {\n                        var _copy_cardId;\n                        copy[cardId] = [\n                            ...(_copy_cardId = copy[cardId]) !== null && _copy_cardId !== void 0 ? _copy_cardId : [],\n                            lab\n                        ];\n                    }\n                } else if (payload.eventType === \"DELETE\") {\n                    var _copy_cardId1;\n                    copy[cardId] = ((_copy_cardId1 = copy[cardId]) !== null && _copy_cardId1 !== void 0 ? _copy_cardId1 : []).filter((l)=>l.id !== payload.old.label_id);\n                }\n                return copy;\n            });\n        }).subscribe();\n        // attachments realtime\n        const channel3 = supabase.channel(\"attachments:\".concat(boardId)).on(\"postgres_changes\", {\n            event: \"*\",\n            schema: \"public\",\n            table: \"attachments\"\n        }, (payload)=>{\n            var _payload_new, _payload_old;\n            var _payload_new_card_id;\n            const cardId = (_payload_new_card_id = (_payload_new = payload.new) === null || _payload_new === void 0 ? void 0 : _payload_new.card_id) !== null && _payload_new_card_id !== void 0 ? _payload_new_card_id : (_payload_old = payload.old) === null || _payload_old === void 0 ? void 0 : _payload_old.card_id;\n            setAttachmentsCountByCard((prev)=>{\n                const copy = {\n                    ...prev\n                };\n                if (payload.eventType === \"INSERT\") {\n                    var _copy_cardId;\n                    copy[cardId] = ((_copy_cardId = copy[cardId]) !== null && _copy_cardId !== void 0 ? _copy_cardId : 0) + 1;\n                } else if (payload.eventType === \"DELETE\") {\n                    var _copy_cardId1;\n                    copy[cardId] = Math.max(0, ((_copy_cardId1 = copy[cardId]) !== null && _copy_cardId1 !== void 0 ? _copy_cardId1 : 1) - 1);\n                }\n                return copy;\n            });\n        }).subscribe();\n        // comments realtime\n        const channel4 = supabase.channel(\"comments:\".concat(boardId)).on(\"postgres_changes\", {\n            event: \"*\",\n            schema: \"public\",\n            table: \"card_comments\"\n        }, (payload)=>{\n            var _payload_new, _payload_old;\n            var _payload_new_card_id;\n            const cardId = (_payload_new_card_id = (_payload_new = payload.new) === null || _payload_new === void 0 ? void 0 : _payload_new.card_id) !== null && _payload_new_card_id !== void 0 ? _payload_new_card_id : (_payload_old = payload.old) === null || _payload_old === void 0 ? void 0 : _payload_old.card_id;\n            setCommentsCountByCard((prev)=>{\n                const copy = {\n                    ...prev\n                };\n                var _copy_cardId, _copy_cardId1;\n                if (payload.eventType === \"INSERT\") copy[cardId] = ((_copy_cardId = copy[cardId]) !== null && _copy_cardId !== void 0 ? _copy_cardId : 0) + 1;\n                else if (payload.eventType === \"DELETE\") copy[cardId] = Math.max(0, ((_copy_cardId1 = copy[cardId]) !== null && _copy_cardId1 !== void 0 ? _copy_cardId1 : 1) - 1);\n                return copy;\n            });\n        }).subscribe();\n        // card_members realtime\n        const channel5 = supabase.channel(\"members:\".concat(boardId)).on(\"postgres_changes\", {\n            event: \"*\",\n            schema: \"public\",\n            table: \"card_members\"\n        }, async (payload)=>{\n            var _payload_new, _payload_old;\n            var _payload_new_card_id;\n            const cardId = (_payload_new_card_id = (_payload_new = payload.new) === null || _payload_new === void 0 ? void 0 : _payload_new.card_id) !== null && _payload_new_card_id !== void 0 ? _payload_new_card_id : (_payload_old = payload.old) === null || _payload_old === void 0 ? void 0 : _payload_old.card_id;\n            // garante que o card pertence a este board\n            const exists = Object.values(cardsByList).some((arr)=>(arr !== null && arr !== void 0 ? arr : []).some((c)=>c.id === cardId));\n            if (!exists) return;\n            if (payload.eventType === \"INSERT\") {\n                try {\n                    const userId = payload.new.user_id;\n                    const { data: prof } = await supabase.from(\"user_profiles\").select(\"id, display_name, avatar_url\").eq(\"id\", userId).maybeSingle();\n                    setMembersByCard((prev)=>{\n                        const copy = {\n                            ...prev\n                        };\n                        var _copy_cardId;\n                        const arr = (_copy_cardId = copy[cardId]) !== null && _copy_cardId !== void 0 ? _copy_cardId : [];\n                        var _prof_display_name, _prof_avatar_url;\n                        copy[cardId] = [\n                            ...arr,\n                            {\n                                id: userId,\n                                name: (_prof_display_name = prof === null || prof === void 0 ? void 0 : prof.display_name) !== null && _prof_display_name !== void 0 ? _prof_display_name : null,\n                                avatar_url: (_prof_avatar_url = prof === null || prof === void 0 ? void 0 : prof.avatar_url) !== null && _prof_avatar_url !== void 0 ? _prof_avatar_url : null\n                            }\n                        ];\n                        return copy;\n                    });\n                } catch (e) {}\n            } else if (payload.eventType === \"DELETE\") {\n                const userId = payload.old.user_id;\n                setMembersByCard((prev)=>{\n                    const copy = {\n                        ...prev\n                    };\n                    var _copy_cardId;\n                    copy[cardId] = ((_copy_cardId = copy[cardId]) !== null && _copy_cardId !== void 0 ? _copy_cardId : []).filter((m)=>m.id !== userId);\n                    return copy;\n                });\n            }\n        }).subscribe();\n        return ()=>{\n            supabase.removeChannel(channel);\n            supabase.removeChannel(channel2);\n            supabase.removeChannel(channel3);\n            supabase.removeChannel(channel4);\n            supabase.removeChannel(channel5);\n        };\n    }, [\n        boardId,\n        supabase,\n        cardsByList,\n        labelsIndex\n    ]);\n    // Listener opcional para forçar refresh de meta (labels/comentários) de um cartão\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{\n        async function onRefreshMeta(e) {\n            var _e_detail;\n            const cardId = e === null || e === void 0 ? void 0 : (_e_detail = e.detail) === null || _e_detail === void 0 ? void 0 : _e_detail.cardId;\n            if (!cardId) return;\n            const { data: cls } = await supabase.from(\"card_labels\").select(\"label_id\").eq(\"card_id\", cardId);\n            const labs = (cls !== null && cls !== void 0 ? cls : []).map((x)=>labelsIndex[x.label_id]).filter(Boolean);\n            setLabelsByCard((prev)=>({\n                    ...prev,\n                    [cardId]: labs\n                }));\n            const { count } = await supabase.from(\"card_comments\").select(\"*\", {\n                count: \"exact\",\n                head: true\n            }).eq(\"card_id\", cardId);\n            setCommentsCountByCard((prev)=>{\n                var _prev_cardId;\n                return {\n                    ...prev,\n                    [cardId]: typeof count === \"number\" ? count : (_prev_cardId = prev[cardId]) !== null && _prev_cardId !== void 0 ? _prev_cardId : 0\n                };\n            });\n        }\n        window.addEventListener(\"card:refresh-meta\", onRefreshMeta);\n        return ()=>window.removeEventListener(\"card:refresh-meta\", onRefreshMeta);\n    }, [\n        supabase,\n        labelsIndex\n    ]);\n    async function addList() {\n        var _prompt;\n        const name = (_prompt = prompt(\"Nome da lista:\")) === null || _prompt === void 0 ? void 0 : _prompt.trim();\n        if (!name) return;\n        const maxPos = lists.length ? Math.max(...lists.map((l)=>l.position)) : 0;\n        await supabase.from(\"lists\").insert({\n            name,\n            board_id: boardId,\n            position: maxPos + 100\n        });\n    }\n    async function addCard(listId, title) {\n        const t = title.trim();\n        if (!t) return;\n        var _cardsByList_listId;\n        const cards = (_cardsByList_listId = cardsByList[listId]) !== null && _cardsByList_listId !== void 0 ? _cardsByList_listId : [];\n        const maxPos = cards.length ? Math.max(...cards.map((c)=>c.position)) : 0;\n        const now = new Date();\n        const start_date = settings.auto_start_on_create ? now.toISOString() : null;\n        const due_date = settings.due_offset_minutes > 0 ? new Date(now.getTime() + settings.due_offset_minutes * 60000).toISOString() : null;\n        const { authFetch } = await __webpack_require__.e(/*! import() */ \"_app-pages-browser_lib_auth-fetch_ts\").then(__webpack_require__.bind(__webpack_require__, /*! @/lib/auth-fetch */ \"(app-pages-browser)/./lib/auth-fetch.ts\"));\n        await authFetch(\"/api/cards\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                title: t,\n                board_id: boardId,\n                list_id: listId,\n                position: maxPos + 100,\n                description: null,\n                due_date\n            })\n        });\n    }\n    // Filtros do quadro\n    const [filters, setFilters] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({\n        query: \"\",\n        labelIds: [],\n        memberIds: [],\n        due: \"all\"\n    });\n    const labelsAnchorRef = react__WEBPACK_IMPORTED_MODULE_3__.useRef(null);\n    const membersAnchorRef = react__WEBPACK_IMPORTED_MODULE_3__.useRef(null);\n    const [labelsOpen, setLabelsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const [membersOpen, setMembersOpen] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const allMembers = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(()=>{\n        const map = new Map();\n        for (const key of Object.keys(membersByCard)){\n            const arr = membersByCard[key];\n            for (const m of arr !== null && arr !== void 0 ? arr : []){\n                if (!(m === null || m === void 0 ? void 0 : m.id)) continue;\n                var _m_name;\n                if (!map.has(m.id)) map.set(m.id, {\n                    id: m.id,\n                    name: (_m_name = m.name) !== null && _m_name !== void 0 ? _m_name : null\n                });\n            }\n        }\n        return Array.from(map.values());\n    }, [\n        membersByCard\n    ]);\n    function cardMatchesFilters(card) {\n        const q = filters.query.trim().toLowerCase();\n        if (q) {\n            var _card_title;\n            const title = ((_card_title = card.title) !== null && _card_title !== void 0 ? _card_title : \"\").toLowerCase();\n            var _card_description;\n            const desc = ((_card_description = card.description) !== null && _card_description !== void 0 ? _card_description : \"\").toLowerCase();\n            if (!title.includes(q) && !desc.includes(q)) return false;\n        }\n        if (filters.labelIds.length) {\n            var _labelsByCard_card_id;\n            const labs = (_labelsByCard_card_id = labelsByCard[card.id]) !== null && _labelsByCard_card_id !== void 0 ? _labelsByCard_card_id : [];\n            const labSet = new Set(labs.map((l)=>l.id));\n            const match = filters.labelIds.some((id)=>labSet.has(id));\n            if (!match) return false;\n        }\n        if (filters.memberIds.length) {\n            var _membersByCard_card_id;\n            const ms = (_membersByCard_card_id = membersByCard[card.id]) !== null && _membersByCard_card_id !== void 0 ? _membersByCard_card_id : [];\n            const mSet = new Set(ms.map((m)=>m.id).filter(Boolean));\n            const match = filters.memberIds.some((id)=>mSet.has(id));\n            if (!match) return false;\n        }\n        if (filters.due !== \"all\") {\n            const d = card.due_date ? new Date(card.due_date) : null;\n            const now = new Date();\n            const startOfToday = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n            const endOfToday = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 23, 59, 59, 999);\n            if (filters.due === \"none\") {\n                if (d) return false;\n            } else if (!d) {\n                return false;\n            } else if (filters.due === \"overdue\") {\n                if (d.getTime() >= now.getTime()) return false;\n            } else if (filters.due === \"today\") {\n                if (d.getTime() < startOfToday.getTime() || d.getTime() > endOfToday.getTime()) return false;\n            } else if (filters.due === \"week\") {\n                const in7 = new Date(now.getTime() + 7 * 24 * 60 * 60 * 1000);\n                if (d.getTime() < startOfToday.getTime() || d.getTime() > in7.getTime()) return false;\n            }\n        }\n        return true;\n    }\n    function findCardLocation(cardId) {\n        for(let i = 0; i < lists.length; i++){\n            var _cardsByList_lists_i_id;\n            const cs = (_cardsByList_lists_i_id = cardsByList[lists[i].id]) !== null && _cardsByList_lists_i_id !== void 0 ? _cardsByList_lists_i_id : [];\n            const idx = cs.findIndex((c)=>c.id === cardId);\n            if (idx >= 0) return {\n                listIndex: i,\n                cardIndex: idx\n            };\n        }\n        return null;\n    }\n    function computePosition(prev, next) {\n        if (prev != null && next != null) return (prev + next) / 2;\n        if (prev != null) return prev + 100;\n        if (next != null) return next - 100;\n        return 100;\n    }\n    function onDragStart(event) {\n        const id = String(event.active.id);\n        setActiveDragId(id);\n        if (id.startsWith(\"container:\")) {\n            setDraggingListId(id.replace(\"container:\", \"\"));\n        }\n        // limpa placeholder de cartões\n        if (!id.startsWith(\"container:\")) setCardPlaceholder(null);\n    }\n    function onDragOver(event) {\n        var _event_over, _event_active;\n        const overId = ((_event_over = event.over) === null || _event_over === void 0 ? void 0 : _event_over.id) ? String(event.over.id) : null;\n        const activeId = ((_event_active = event.active) === null || _event_active === void 0 ? void 0 : _event_active.id) ? String(event.active.id) : null;\n        if (!overId || !activeId) return;\n        if (activeId.startsWith(\"container:\")) {\n            let toListId = overId;\n            if (overId.startsWith(\"container:\")) toListId = overId.replace(\"container:\", \"\");\n            else if (overId.startsWith(\"list:\")) toListId = overId.replace(\"list:\", \"\");\n            setOverListId(toListId);\n        } else {\n            setOverListId(null);\n            // placeholder para cartões: calcula target e índice de inserção\n            const activeParts = activeId.split(\":\");\n            if (activeParts.length === 2) {\n                let toListId;\n                if (overId.startsWith(\"list:\")) toListId = overId.replace(\"list:\", \"\");\n                else if (overId.includes(\":\")) toListId = overId.split(\":\")[0];\n                else toListId = overId;\n                if (lists.some((l)=>l.id === toListId)) {\n                    var _cardsByList_toListId;\n                    const targetCards = ((_cardsByList_toListId = cardsByList[toListId]) !== null && _cardsByList_toListId !== void 0 ? _cardsByList_toListId : []).filter((c)=>c.id !== activeParts[1]);\n                    let insertIndex = targetCards.length;\n                    if (!overId.startsWith(\"list:\") && overId.includes(\":\")) {\n                        const overCardId = overId.split(\":\")[1];\n                        const idx = targetCards.findIndex((c)=>c.id === overCardId);\n                        if (idx >= 0) insertIndex = idx;\n                    }\n                    setCardPlaceholder({\n                        listId: toListId,\n                        index: insertIndex\n                    });\n                } else {\n                    setCardPlaceholder(null);\n                }\n            }\n        }\n    }\n    async function onDragEnd(event) {\n        var _targetListCards_insertIndex;\n        setActiveDragId(null);\n        setDraggingListId(null);\n        setOverListId(null);\n        setCardPlaceholder(null);\n        const { active, over } = event;\n        if (!over) return;\n        const activeId = String(active.id); // format: <listId>:<cardId>\n        const overId = String(over.id); // pode ser list:<listId> OU <listId>:<cardId>\n        // Reordenar listas (mesmo quando over é o droppable interno da lista)\n        if (activeId.startsWith(\"container:\")) {\n            const fromListId = activeId.replace(\"container:\", \"\");\n            let toListId = overId;\n            if (overId.startsWith(\"container:\")) toListId = overId.replace(\"container:\", \"\");\n            else if (overId.startsWith(\"list:\")) toListId = overId.replace(\"list:\", \"\");\n            else toListId = overId;\n            if (!toListId || fromListId === toListId) return;\n            const fromIndex = lists.findIndex((l)=>l.id === fromListId);\n            const toIndex = lists.findIndex((l)=>l.id === toListId);\n            if (fromIndex < 0 || toIndex < 0) return;\n            const next = [\n                ...lists\n            ];\n            const [moved] = next.splice(fromIndex, 1);\n            next.splice(toIndex, 0, moved);\n            setLists(next);\n            const prevPos = toIndex > 0 ? next[toIndex - 1].position : undefined;\n            const nextPos = toIndex < next.length - 1 ? next[toIndex + 1].position : undefined;\n            const newPos = computePosition(prevPos, nextPos);\n            await supabase.from(\"lists\").update({\n                position: newPos\n            }).eq(\"id\", moved.id);\n            return;\n        }\n        // Reordenar listas\n        if (activeId.startsWith(\"container:\") && overId.startsWith(\"container:\")) {\n            const fromListId = activeId.replace(\"container:\", \"\");\n            const toListId = overId.replace(\"container:\", \"\");\n            if (fromListId !== toListId) {\n                const fromIndex = lists.findIndex((l)=>l.id === fromListId);\n                const toIndex = lists.findIndex((l)=>l.id === toListId);\n                if (fromIndex >= 0 && toIndex >= 0) {\n                    const next = [\n                        ...lists\n                    ];\n                    const [moved] = next.splice(fromIndex, 1);\n                    next.splice(toIndex, 0, moved);\n                    setLists(next);\n                    const prevPos = toIndex > 0 ? next[toIndex - 1].position : undefined;\n                    const nextPos = toIndex < next.length - 1 ? next[toIndex + 1].position : undefined;\n                    const newPos = computePosition(prevPos, nextPos);\n                    await supabase.from(\"lists\").update({\n                        position: newPos\n                    }).eq(\"id\", moved.id);\n                }\n            }\n            return;\n        }\n        const activeParts = activeId.split(\":\");\n        const fromListId = activeParts[0];\n        const cardId = activeParts[1];\n        let toListId;\n        if (overId.startsWith(\"list:\")) {\n            toListId = overId.replace(\"list:\", \"\");\n        } else if (overId.startsWith(\"container:\")) {\n            // quando o alvo é o container externo da lista (sortable das listas)\n            toListId = overId.replace(\"container:\", \"\");\n        } else {\n            // formato <listId>:<cardId>\n            toListId = overId.split(\":\")[0];\n        }\n        // sanity: garante que é uma lista válida\n        if (!lists.some((l)=>l.id === toListId)) return;\n        var _cardsByList_toListId;\n        const targetListCards = ((_cardsByList_toListId = cardsByList[toListId]) !== null && _cardsByList_toListId !== void 0 ? _cardsByList_toListId : []).filter((c)=>c.id !== cardId);\n        // índice de inserção: se estiver sobre um card, antes dele; se sobre a lista, no final\n        let insertIndex = targetListCards.length;\n        if (!overId.startsWith(\"list:\") && !overId.startsWith(\"container:\")) {\n            const overCardId = overId.split(\":\")[1];\n            const idx = targetListCards.findIndex((c)=>c.id === overCardId);\n            if (idx >= 0) insertIndex = idx;\n        }\n        // calcula posição nova pela média dos vizinhos\n        const prevPos = insertIndex > 0 ? targetListCards[insertIndex - 1].position : undefined;\n        const nextPos = insertIndex < targetListCards.length ? (_targetListCards_insertIndex = targetListCards[insertIndex]) === null || _targetListCards_insertIndex === void 0 ? void 0 : _targetListCards_insertIndex.position : undefined;\n        const newPos = computePosition(prevPos, nextPos);\n        // UI otimista com possibilidade de rollback\n        const prevState = cardsByList;\n        const nextState = {};\n        var _prevState_k;\n        for (const k of Object.keys(prevState))nextState[k] = [\n            ...(_prevState_k = prevState[k]) !== null && _prevState_k !== void 0 ? _prevState_k : []\n        ];\n        // remove do antigo\n        for (const k of Object.keys(nextState)){\n            var _nextState_k;\n            nextState[k] = ((_nextState_k = nextState[k]) !== null && _nextState_k !== void 0 ? _nextState_k : []).filter((c)=>c.id !== cardId);\n        }\n        var _prevState_fromListId;\n        // pega dados do card para manter metadados\n        const moved = ((_prevState_fromListId = prevState[fromListId]) !== null && _prevState_fromListId !== void 0 ? _prevState_fromListId : []).find((c)=>c.id === cardId);\n        if (!moved) return;\n        const newCard = {\n            ...moved,\n            list_id: toListId,\n            position: newPos\n        };\n        var _nextState_toListId;\n        const arr = (_nextState_toListId = nextState[toListId]) !== null && _nextState_toListId !== void 0 ? _nextState_toListId : [];\n        arr.splice(insertIndex, 0, newCard);\n        nextState[toListId] = arr;\n        setCardsByList(nextState);\n        // persistência via API (service role) — evita bloqueios de RLS\n        try {\n            const { authFetch } = await __webpack_require__.e(/*! import() */ \"_app-pages-browser_lib_auth-fetch_ts\").then(__webpack_require__.bind(__webpack_require__, /*! @/lib/auth-fetch */ \"(app-pages-browser)/./lib/auth-fetch.ts\"));\n            const res = await authFetch(\"/api/cards/move\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    id: cardId,\n                    list_id: toListId,\n                    position: newPos\n                })\n            });\n            if (!res.ok) {\n                // rollback se falhar\n                setCardsByList(prevState);\n            }\n        } catch (e) {\n            setCardsByList(prevState);\n        }\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"px-6 mt-4 h-full flex flex-col gap-3\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-full bg-white/80 backdrop-blur border border-neutral-200 rounded-xl px-3 py-2 shadow-sm\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-wrap items-center gap-2\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"inline-flex items-center gap-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Filter_Plus_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                    size: 16\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                    lineNumber: 816,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-sm font-medium\",\n                                    children: \"Filtros\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                    lineNumber: 817,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                            lineNumber: 815,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            className: \"border rounded px-2 py-1 text-sm\",\n                            placeholder: \"Buscar (t\\xedtulo ou descri\\xe7\\xe3o)\",\n                            value: filters.query,\n                            onChange: (e)=>setFilters((f)=>({\n                                        ...f,\n                                        query: e.target.value\n                                    }))\n                        }, void 0, false, {\n                            fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                            lineNumber: 819,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            ref: labelsAnchorRef,\n                            className: \"px-2 py-1 text-sm rounded border hover:bg-neutral-50\",\n                            onClick: ()=>setLabelsOpen(true),\n                            title: \"Filtrar por etiquetas\",\n                            children: \"Etiquetas\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                            lineNumber: 825,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Popover__WEBPACK_IMPORTED_MODULE_9__.Popover, {\n                            open: labelsOpen,\n                            onClose: ()=>setLabelsOpen(false),\n                            anchorRect: (_labelsAnchorRef_current = labelsAnchorRef.current) === null || _labelsAnchorRef_current === void 0 ? void 0 : _labelsAnchorRef_current.getBoundingClientRect(),\n                            width: 260,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"p-2 space-y-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-sm font-semibold px-1\",\n                                        children: \"Etiquetas\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                        lineNumber: 840,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"max-h-60 overflow-auto pr-1\",\n                                        children: [\n                                            Object.values(labelsIndex).length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm text-neutral-500 px-1 py-1\",\n                                                children: \"Nenhuma etiqueta\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                                lineNumber: 843,\n                                                columnNumber: 19\n                                            }, this),\n                                            Object.values(labelsIndex).map((l)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    className: \"flex items-center gap-2 px-1 py-1 text-sm\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                            type: \"checkbox\",\n                                                            checked: filters.labelIds.includes(l.id),\n                                                            onChange: (e)=>{\n                                                                setFilters((f)=>{\n                                                                    const set = new Set(f.labelIds);\n                                                                    if (e.target.checked) set.add(l.id);\n                                                                    else set.delete(l.id);\n                                                                    return {\n                                                                        ...f,\n                                                                        labelIds: Array.from(set)\n                                                                    };\n                                                                });\n                                                            }\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                                            lineNumber: 847,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"inline-block h-3 w-6 rounded-full border\",\n                                                            style: {\n                                                                backgroundColor: l.color\n                                                            }\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                                            lineNumber: 859,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"truncate\",\n                                                            children: l.name\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                                            lineNumber: 863,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, l.id, true, {\n                                                    fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                                    lineNumber: 846,\n                                                    columnNumber: 19\n                                                }, this))\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                        lineNumber: 841,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                lineNumber: 839,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                            lineNumber: 833,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            ref: membersAnchorRef,\n                            className: \"px-2 py-1 text-sm rounded border hover:bg-neutral-50\",\n                            onClick: ()=>setMembersOpen(true),\n                            title: \"Filtrar por membros\",\n                            children: \"Membros\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                            lineNumber: 869,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Popover__WEBPACK_IMPORTED_MODULE_9__.Popover, {\n                            open: membersOpen,\n                            onClose: ()=>setMembersOpen(false),\n                            anchorRect: (_membersAnchorRef_current = membersAnchorRef.current) === null || _membersAnchorRef_current === void 0 ? void 0 : _membersAnchorRef_current.getBoundingClientRect(),\n                            width: 260,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"p-2 space-y-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-sm font-semibold px-1\",\n                                        children: \"Membros\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                        lineNumber: 884,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"max-h-60 overflow-auto pr-1\",\n                                        children: [\n                                            allMembers.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm text-neutral-500 px-1 py-1\",\n                                                children: \"Nenhum membro\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                                lineNumber: 887,\n                                                columnNumber: 19\n                                            }, this),\n                                            allMembers.map((m)=>/*#__PURE__*/ {\n                                                var _m_name;\n                                                return (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    className: \"flex items-center gap-2 px-1 py-1 text-sm\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                            type: \"checkbox\",\n                                                            checked: filters.memberIds.includes(m.id),\n                                                            onChange: (e)=>{\n                                                                setFilters((f)=>{\n                                                                    const set = new Set(f.memberIds);\n                                                                    if (e.target.checked) set.add(m.id);\n                                                                    else set.delete(m.id);\n                                                                    return {\n                                                                        ...f,\n                                                                        memberIds: Array.from(set)\n                                                                    };\n                                                                });\n                                                            }\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                                            lineNumber: 891,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"truncate\",\n                                                            children: (_m_name = m.name) !== null && _m_name !== void 0 ? _m_name : m.id\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                                            lineNumber: 903,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, m.id, true, {\n                                                    fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                                    lineNumber: 890,\n                                                    columnNumber: 19\n                                                }, this);\n                                            })\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                        lineNumber: 885,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                lineNumber: 883,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                            lineNumber: 877,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                            className: \"border rounded px-2 py-1 text-sm\",\n                            value: filters.due,\n                            onChange: (e)=>setFilters((f)=>({\n                                        ...f,\n                                        due: e.target.value\n                                    })),\n                            title: \"Vencimento\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                    value: \"all\",\n                                    children: \"Todas as datas\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                    lineNumber: 915,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                    value: \"overdue\",\n                                    children: \"Atrasados\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                    lineNumber: 916,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                    value: \"today\",\n                                    children: \"Hoje\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                    lineNumber: 917,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                    value: \"week\",\n                                    children: \"Pr\\xf3ximos 7 dias\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                    lineNumber: 918,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                    value: \"none\",\n                                    children: \"Sem data\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                    lineNumber: 919,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                            lineNumber: 909,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Button__WEBPACK_IMPORTED_MODULE_10__.Button, {\n                            variant: \"ghost\",\n                            onClick: ()=>setFilters({\n                                    query: \"\",\n                                    labelIds: [],\n                                    memberIds: [],\n                                    due: \"all\"\n                                }),\n                            children: \"Limpar\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                            lineNumber: 921,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                    lineNumber: 814,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                lineNumber: 813,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex gap-4 overflow-x-auto overflow-y-hidden pb-6 h-full\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.DndContext, {\n                        sensors: sensors,\n                        collisionDetection: _dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.closestCenter,\n                        onDragStart: onDragStart,\n                        onDragOver: onDragOver,\n                        onDragEnd: onDragEnd,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-start gap-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_2__.SortableContext, {\n                                        items: lists.map((l)=>\"container:\".concat(l.id)),\n                                        strategy: _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_2__.horizontalListSortingStrategy,\n                                        children: lists.map((l)=>/*#__PURE__*/ {\n                                            var _cardsByList_l_id;\n                                            return (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    draggingListId && overListId === l.id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-80 min-w-[20rem] rounded-xl border-2 border-dashed border-sky-400 bg-sky-100/40 self-stretch transition-all\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                                        lineNumber: 946,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_KanbanList__WEBPACK_IMPORTED_MODULE_4__.KanbanList, {\n                                                        list: l,\n                                                        boardId: boardId,\n                                                        workspaceId: workspaceId,\n                                                        cards: ((_cardsByList_l_id = cardsByList[l.id]) !== null && _cardsByList_l_id !== void 0 ? _cardsByList_l_id : []).filter(cardMatchesFilters).map((c)=>{\n                                                            var _membersByCard_c_id, _labelsByCard_c_id, _attachmentsCountByCard_c_id, _commentsCountByCard_c_id;\n                                                            return {\n                                                                ...c,\n                                                                onOpen: ()=>setOpenCardId(c.id),\n                                                                members: (_membersByCard_c_id = membersByCard[c.id]) !== null && _membersByCard_c_id !== void 0 ? _membersByCard_c_id : [],\n                                                                labels: (_labelsByCard_c_id = labelsByCard[c.id]) !== null && _labelsByCard_c_id !== void 0 ? _labelsByCard_c_id : [],\n                                                                attachmentsCount: (_attachmentsCountByCard_c_id = attachmentsCountByCard[c.id]) !== null && _attachmentsCountByCard_c_id !== void 0 ? _attachmentsCountByCard_c_id : 0,\n                                                                commentsCount: (_commentsCountByCard_c_id = commentsCountByCard[c.id]) !== null && _commentsCountByCard_c_id !== void 0 ? _commentsCountByCard_c_id : 0\n                                                            };\n                                                        }),\n                                                        placeholderIndex: cardPlaceholder && cardPlaceholder.listId === l.id ? cardPlaceholder.index : null,\n                                                        onAddCard: (title)=>addCard(l.id, title),\n                                                        allLists: lists,\n                                                        onMoveList: async (dir)=>{\n                                                            const idx = lists.findIndex((x)=>x.id === l.id);\n                                                            const swapIdx = dir === \"left\" ? idx - 1 : idx + 1;\n                                                            if (swapIdx < 0 || swapIdx >= lists.length) return;\n                                                            const a = lists[idx];\n                                                            const b = lists[swapIdx];\n                                                            // UI otimista\n                                                            setLists((prev)=>{\n                                                                const copy = [\n                                                                    ...prev\n                                                                ];\n                                                                copy[idx] = b;\n                                                                copy[swapIdx] = a;\n                                                                return copy;\n                                                            });\n                                                            // troca posições no banco\n                                                            await Promise.all([\n                                                                supabase.from(\"lists\").update({\n                                                                    position: b.position\n                                                                }).eq(\"id\", a.id),\n                                                                supabase.from(\"lists\").update({\n                                                                    position: a.position\n                                                                }).eq(\"id\", b.id)\n                                                            ]);\n                                                        },\n                                                        onCopyList: async ()=>{\n                                                            await fetch(\"/api/lists/copy\", {\n                                                                method: \"POST\",\n                                                                headers: {\n                                                                    \"Content-Type\": \"application/json\"\n                                                                },\n                                                                body: JSON.stringify({\n                                                                    list_id: l.id,\n                                                                    target_board_id: boardId,\n                                                                    name: \"\".concat(l.name, \" (C\\xf3pia)\")\n                                                                })\n                                                            });\n                                                        },\n                                                        onMoveListTo: async (targetBoardId, positionIndex)=>{\n                                                            // UI otimista\n                                                            const prevLists = lists;\n                                                            const prevCardsByList = cardsByList;\n                                                            try {\n                                                                if (targetBoardId === boardId) {\n                                                                    // mover dentro do mesmo quadro: reordenar localmente pelo índice escolhido\n                                                                    const fromIdx = lists.findIndex((x)=>x.id === l.id);\n                                                                    const toIdx = Math.min(Math.max(positionIndex - 1, 0), lists.length - 1);\n                                                                    if (fromIdx !== -1 && toIdx !== fromIdx) {\n                                                                        const next = [\n                                                                            ...lists\n                                                                        ];\n                                                                        const [moved] = next.splice(fromIdx, 1);\n                                                                        next.splice(toIdx, 0, moved);\n                                                                        setLists(next);\n                                                                    }\n                                                                } else {\n                                                                    // mover para outro quadro: remove localmente\n                                                                    setLists((prev)=>prev.filter((x)=>x.id !== l.id));\n                                                                    const { [l.id]: _removed, ...rest } = cardsByList;\n                                                                    setCardsByList(rest);\n                                                                }\n                                                                // persistir no servidor\n                                                                await fetch(\"/api/lists/move\", {\n                                                                    method: \"POST\",\n                                                                    headers: {\n                                                                        \"Content-Type\": \"application/json\"\n                                                                    },\n                                                                    body: JSON.stringify({\n                                                                        list_id: l.id,\n                                                                        target_board_id: targetBoardId,\n                                                                        positionIndex\n                                                                    })\n                                                                });\n                                                            } catch (e) {\n                                                                // rollback\n                                                                setLists(prevLists);\n                                                                setCardsByList(prevCardsByList);\n                                                            }\n                                                        },\n                                                        onMoveAllCards: async (targetListId)=>{\n                                                            var _cardsByList_l_id;\n                                                            const fromCards = ((_cardsByList_l_id = cardsByList[l.id]) !== null && _cardsByList_l_id !== void 0 ? _cardsByList_l_id : []).slice().sort((a, b)=>a.position - b.position);\n                                                            // UI otimista\n                                                            setCardsByList((prev)=>{\n                                                                const copy = {};\n                                                                var _prev_k;\n                                                                for (const k of Object.keys(prev))copy[k] = [\n                                                                    ...(_prev_k = prev[k]) !== null && _prev_k !== void 0 ? _prev_k : []\n                                                                ];\n                                                                var _copy_l_id;\n                                                                const moving = (_copy_l_id = copy[l.id]) !== null && _copy_l_id !== void 0 ? _copy_l_id : [];\n                                                                var _copy_targetListId;\n                                                                copy[targetListId] = [\n                                                                    ...(_copy_targetListId = copy[targetListId]) !== null && _copy_targetListId !== void 0 ? _copy_targetListId : [],\n                                                                    ...moving.map((c, i)=>({\n                                                                            ...c,\n                                                                            list_id: targetListId,\n                                                                            position: (i + 1) * 100\n                                                                        }))\n                                                                ];\n                                                                copy[l.id] = [];\n                                                                return copy;\n                                                            });\n                                                            for(let i = 0; i < fromCards.length; i++){\n                                                                await supabase.from(\"cards\").update({\n                                                                    list_id: targetListId,\n                                                                    position: (i + 1) * 100\n                                                                }).eq(\"id\", fromCards[i].id);\n                                                            }\n                                                        },\n                                                        onSortList: async (mode)=>{\n                                                            var _cardsByList_l_id;\n                                                            const cards = ((_cardsByList_l_id = cardsByList[l.id]) !== null && _cardsByList_l_id !== void 0 ? _cardsByList_l_id : []).slice();\n                                                            if (mode === \"created\" || mode === \"created_desc\") cards.sort((a, b)=>mode === \"created_desc\" ? new Date(b.created_at).getTime() - new Date(a.created_at).getTime() : new Date(a.created_at).getTime() - new Date(b.created_at).getTime());\n                                                            if (mode === \"due\") cards.sort((a, b)=>(a.due_date ? new Date(a.due_date).getTime() : Infinity) - (b.due_date ? new Date(b.due_date).getTime() : Infinity));\n                                                            if (mode === \"alpha\") cards.sort((a, b)=>(a.title || \"\").localeCompare(b.title || \"\", \"pt-BR\", {\n                                                                    sensitivity: \"base\"\n                                                                }));\n                                                            // UI otimista\n                                                            setCardsByList((prev)=>({\n                                                                    ...prev,\n                                                                    [l.id]: cards.map((c, i)=>({\n                                                                            ...c,\n                                                                            position: (i + 1) * 100\n                                                                        }))\n                                                                }));\n                                                            // persistir\n                                                            for(let i = 0; i < cards.length; i++){\n                                                                await supabase.from(\"cards\").update({\n                                                                    position: (i + 1) * 100\n                                                                }).eq(\"id\", cards[i].id);\n                                                            }\n                                                        },\n                                                        onArchiveList: async ()=>{\n                                                            if (!confirm(\"Arquivar esta lista e seus cart\\xf5es?\")) return;\n                                                            var _cardsByList_l_id;\n                                                            // remove cartões primeiro\n                                                            const cards = (_cardsByList_l_id = cardsByList[l.id]) !== null && _cardsByList_l_id !== void 0 ? _cardsByList_l_id : [];\n                                                            for (const c of cards){\n                                                                await supabase.from(\"cards\").delete().eq(\"id\", c.id);\n                                                            }\n                                                            // UI otimista: remove a lista localmente\n                                                            setLists((prev)=>prev.filter((x)=>x.id !== l.id));\n                                                            const { [l.id]: _removed, ...rest } = cardsByList;\n                                                            setCardsByList(rest);\n                                                            await supabase.from(\"lists\").delete().eq(\"id\", l.id);\n                                                        },\n                                                        onArchiveAllCards: async ()=>{\n                                                            var _cardsByList_l_id;\n                                                            const cards = ((_cardsByList_l_id = cardsByList[l.id]) !== null && _cardsByList_l_id !== void 0 ? _cardsByList_l_id : []).slice();\n                                                            // UI otimista: esvazia a lista local\n                                                            setCardsByList((prev)=>{\n                                                                const copy = {\n                                                                    ...prev\n                                                                };\n                                                                copy[l.id] = [];\n                                                                return copy;\n                                                            });\n                                                            // persistir: soft delete (arquivar)\n                                                            const ids = cards.map((c)=>c.id);\n                                                            if (ids.length) {\n                                                                const now = new Date().toISOString();\n                                                                await supabase.from(\"cards\").update({\n                                                                    archived_at: now\n                                                                }).in(\"id\", ids);\n                                                            }\n                                                        }\n                                                    }, l.id, false, {\n                                                        fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                                        lineNumber: 948,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true);\n                                        })\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                        lineNumber: 939,\n                                        columnNumber: 11\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: addList,\n                                        className: \"w-80 min-w-[20rem] h-fit bg-white/80 backdrop-blur border border-dashed border-neutral-300 hover:border-neutral-400 hover:bg-white transition rounded-xl p-4 text-left flex items-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Filter_Plus_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                                size: 18\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                                lineNumber: 1160,\n                                                columnNumber: 13\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"Nova lista\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                                lineNumber: 1161,\n                                                columnNumber: 13\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                        lineNumber: 1156,\n                                        columnNumber: 11\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                lineNumber: 938,\n                                columnNumber: 9\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.DragOverlay, {\n                                children: (activeDragId === null || activeDragId === void 0 ? void 0 : activeDragId.startsWith(\"container:\")) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-80 pointer-events-none\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"rounded-xl border bg-white shadow-lg\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center justify-between px-3 py-2 border-b\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"font-medium\",\n                                                    children: \"Mover lista\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                                    lineNumber: 1169,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                                lineNumber: 1168,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"p-3 text-sm text-neutral-500\",\n                                                children: \"...\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                                lineNumber: 1171,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                        lineNumber: 1167,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                    lineNumber: 1166,\n                                    columnNumber: 13\n                                }, this) : activeOverlay ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-80 pointer-events-none\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_KanbanCard__WEBPACK_IMPORTED_MODULE_5__.KanbanCard, {\n                                        card: activeOverlay.card,\n                                        listId: activeOverlay.listId,\n                                        dueSoonThresholdMinutes: settings.due_soon_threshold_minutes,\n                                        isOverlay: true\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                        lineNumber: 1176,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                    lineNumber: 1175,\n                                    columnNumber: 13\n                                }, this) : null\n                            }, void 0, false, {\n                                fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                lineNumber: 1164,\n                                columnNumber: 9\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                        lineNumber: 931,\n                        columnNumber: 7\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_card_CardModal__WEBPACK_IMPORTED_MODULE_7__.CardModal, {\n                        cardId: openCardId !== null && openCardId !== void 0 ? openCardId : \"\",\n                        boardId: boardId,\n                        open: !!openCardId,\n                        onClose: ()=>setOpenCardId(null)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                        lineNumber: 1186,\n                        columnNumber: 7\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                lineNumber: 930,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n        lineNumber: 812,\n        columnNumber: 5\n    }, this);\n}\n_s(KanbanBoard, \"fBQkvXPk+punLqfAt8i67YlYh3s=\", false, function() {\n    return [\n        _dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.useSensors\n    ];\n});\n_c = KanbanBoard;\nvar _c;\n$RefreshReg$(_c, \"KanbanBoard\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvS2FuYmFuQm9hcmQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBV3VCO0FBQ3VCO0FBSW5CO0FBQzBCO0FBQ1g7QUFDQTtBQUN1QjtBQUVyQjtBQUNZO0FBRUs7QUFDWDtBQUNGO0FBQ2pCO0FBaUN4QixTQUFTcUIsWUFBWSxLQU0zQjtRQU4yQixFQUMxQkMsT0FBTyxFQUNQQyxXQUFXLEVBSVosR0FOMkI7UUFzd0JKQywwQkE0Q0FDOztJQTN5QnRCLE1BQU1DLFdBQVdqQiw4Q0FBT0EsQ0FBQyxJQUFNSSw4RUFBd0JBLElBQVcsRUFBRTtJQUNwRSxNQUFNLENBQUNjLE9BQU9DLFNBQVMsR0FBR2xCLCtDQUFRQSxDQUFTLEVBQUU7SUFDN0MsTUFBTSxDQUFDbUIsYUFBYUMsZUFBZSxHQUFHcEIsK0NBQVFBLENBQXlCLENBQUM7SUFDeEUsTUFBTXFCLFVBQVU1Qix5REFBVUEsQ0FDeEJELHdEQUFTQSxDQUFDRCx3REFBYUEsRUFBRTtRQUFFK0Isc0JBQXNCO1lBQUVDLFVBQVU7UUFBRTtJQUFFO0lBRW5FLE1BQU0sQ0FBQ0MsWUFBWUMsY0FBYyxHQUFHekIsK0NBQVFBLENBQWdCO0lBQzVELE1BQU0sQ0FBQzBCLGVBQWVDLGlCQUFpQixHQUFHM0IsK0NBQVFBLENBS2hELENBQUM7SUFDSCxNQUFNLENBQUM0QixhQUFhQyxlQUFlLEdBQUc3QiwrQ0FBUUEsQ0FFNUMsQ0FBQztJQUNILE1BQU0sQ0FBQzhCLHdCQUF3QkMsMEJBQTBCLEdBQUcvQiwrQ0FBUUEsQ0FFbEUsQ0FBQztJQUNILE1BQU0sQ0FBQ2dDLHFCQUFxQkMsdUJBQXVCLEdBQUdqQywrQ0FBUUEsQ0FFNUQsQ0FBQztJQUNILE1BQU0sQ0FBQ2tDLFVBQVVDLFlBQVksR0FBR25DLCtDQUFRQSxDQUFnQjtRQUN0RG9DLHNCQUFzQjtRQUN0QkMsb0JBQW9CO1FBQ3BCQyw0QkFBNEI7SUFDOUI7SUFDQSxNQUFNLENBQUNDLGNB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S0FWWmtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvS2FuYmFuQm9hcmQudHN4PzU4ZGUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7XG4gIERuZENvbnRleHQsXG4gIERyYWdFbmRFdmVudCxcbiAgRHJhZ1N0YXJ0RXZlbnQsXG4gIFBvaW50ZXJTZW5zb3IsXG4gIHJlY3RJbnRlcnNlY3Rpb24sXG4gIHVzZVNlbnNvcixcbiAgdXNlU2Vuc29ycyxcbiAgRHJhZ092ZXJsYXksXG59IGZyb20gXCJAZG5kLWtpdC9jb3JlXCI7XG5pbXBvcnQgeyBjbG9zZXN0Q2VudGVyIH0gZnJvbSBcIkBkbmQta2l0L2NvcmVcIjtcbmltcG9ydCB7XG4gIFNvcnRhYmxlQ29udGV4dCxcbiAgaG9yaXpvbnRhbExpc3RTb3J0aW5nU3RyYXRlZ3ksXG59IGZyb20gXCJAZG5kLWtpdC9zb3J0YWJsZVwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgS2FuYmFuTGlzdCB9IGZyb20gXCIuL0thbmJhbkxpc3RcIjtcbmltcG9ydCB7IEthbmJhbkNhcmQgfSBmcm9tIFwiLi9LYW5iYW5DYXJkXCI7XG5pbXBvcnQgeyBnZXRTdXBhYmFzZUJyb3dzZXJDbGllbnQgfSBmcm9tIFwiQC9saWIvc3VwYWJhc2UtY2xpZW50XCI7XG5pbXBvcnQgeyBSZWFsdGltZVBvc3RncmVzQ2hhbmdlc1BheWxvYWQgfSBmcm9tIFwiQHN1cGFiYXNlL3N1cGFiYXNlLWpzXCI7XG5pbXBvcnQgeyBQbHVzLCBGaWx0ZXIgfSBmcm9tIFwibHVjaWRlLXJlYWN0XCI7XG5pbXBvcnQgeyBDYXJkTW9kYWwgfSBmcm9tIFwiQC9jb21wb25lbnRzL2NhcmQvQ2FyZE1vZGFsXCI7XG5pbXBvcnQgeyBBdmF0YXJTdGFjayB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvQXZhdGFyXCI7XG5pbXBvcnQgeyBzZXRDYWNoZWRTaWduZWRVcmwgfSBmcm9tIFwiQC9saWIvc3RvcmFnZS11cmwtY2FjaGVcIjtcbmltcG9ydCB7IFBvcG92ZXIgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL1BvcG92ZXJcIjtcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvQnV0dG9uXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IHR5cGUgQ2FyZCA9IHtcbiAgaWQ6IHN0cmluZztcbiAgYm9hcmRfaWQ6IHN0cmluZztcbiAgbGlzdF9pZDogc3RyaW5nO1xuICB0aXRsZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nIHwgbnVsbDtcbiAgcG9zaXRpb246IG51bWJlcjtcbiAgc3RhcnRfZGF0ZT86IHN0cmluZyB8IG51bGw7XG4gIGR1ZV9kYXRlOiBzdHJpbmcgfCBudWxsO1xuICByZWN1cnJlbmNlPzogXCJub25lXCIgfCBcImRhaWx5XCIgfCBcIndlZWtseVwiIHwgXCJtb250aGx5XCIgfCBudWxsO1xuICByZW1pbmRlcl9taW51dGVzPzogbnVtYmVyIHwgbnVsbDtcbiAgY292ZXJfcGF0aD86IHN0cmluZyB8IG51bGw7XG4gIGNvdmVyX3NpemU/OiBcInNtYWxsXCIgfCBcImxhcmdlXCIgfCBudWxsO1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIExpc3QgPSB7XG4gIGlkOiBzdHJpbmc7XG4gIGJvYXJkX2lkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgcG9zaXRpb246IG51bWJlcjtcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xufTtcblxudHlwZSBCb2FyZFNldHRpbmdzID0ge1xuICBhdXRvX3N0YXJ0X29uX2NyZWF0ZTogYm9vbGVhbjtcbiAgZHVlX29mZnNldF9taW51dGVzOiBudW1iZXI7XG4gIGR1ZV9zb29uX3RocmVzaG9sZF9taW51dGVzOiBudW1iZXI7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gS2FuYmFuQm9hcmQoe1xuICBib2FyZElkLFxuICB3b3Jrc3BhY2VJZCxcbn06IHtcbiAgYm9hcmRJZDogc3RyaW5nO1xuICB3b3Jrc3BhY2VJZDogc3RyaW5nO1xufSkge1xuICBjb25zdCBzdXBhYmFzZSA9IHVzZU1lbW8oKCkgPT4gZ2V0U3VwYWJhc2VCcm93c2VyQ2xpZW50KCkgYXMgYW55LCBbXSk7XG4gIGNvbnN0IFtsaXN0cywgc2V0TGlzdHNdID0gdXNlU3RhdGU8TGlzdFtdPihbXSk7XG4gIGNvbnN0IFtjYXJkc0J5TGlzdCwgc2V0Q2FyZHNCeUxpc3RdID0gdXNlU3RhdGU8UmVjb3JkPHN0cmluZywgQ2FyZFtdPj4oe30pO1xuICBjb25zdCBzZW5zb3JzID0gdXNlU2Vuc29ycyhcbiAgICB1c2VTZW5zb3IoUG9pbnRlclNlbnNvciwgeyBhY3RpdmF0aW9uQ29uc3RyYWludDogeyBkaXN0YW5jZTogMyB9IH0pXG4gICk7XG4gIGNvbnN0IFtvcGVuQ2FyZElkLCBzZXRPcGVuQ2FyZElkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbbWVtYmVyc0J5Q2FyZCwgc2V0TWVtYmVyc0J5Q2FyZF0gPSB1c2VTdGF0ZTxcbiAgICBSZWNvcmQ8XG4gICAgICBzdHJpbmcsXG4gICAgICB7IGlkPzogc3RyaW5nOyBuYW1lPzogc3RyaW5nIHwgbnVsbDsgYXZhdGFyX3VybD86IHN0cmluZyB8IG51bGwgfVtdXG4gICAgPlxuICA+KHt9KTtcbiAgY29uc3QgW2xhYmVsc0luZGV4LCBzZXRMYWJlbHNJbmRleF0gPSB1c2VTdGF0ZTxcbiAgICBSZWNvcmQ8c3RyaW5nLCB7IGlkOiBzdHJpbmc7IG5hbWU6IHN0cmluZzsgY29sb3I6IHN0cmluZyB9PlxuICA+KHt9KTtcbiAgY29uc3QgW2F0dGFjaG1lbnRzQ291bnRCeUNhcmQsIHNldEF0dGFjaG1lbnRzQ291bnRCeUNhcmRdID0gdXNlU3RhdGU8XG4gICAgUmVjb3JkPHN0cmluZywgbnVtYmVyPlxuICA+KHt9KTtcbiAgY29uc3QgW2NvbW1lbnRzQ291bnRCeUNhcmQsIHNldENvbW1lbnRzQ291bnRCeUNhcmRdID0gdXNlU3RhdGU8XG4gICAgUmVjb3JkPHN0cmluZywgbnVtYmVyPlxuICA+KHt9KTtcbiAgY29uc3QgW3NldHRpbmdzLCBzZXRTZXR0aW5nc10gPSB1c2VTdGF0ZTxCb2FyZFNldHRpbmdzPih7XG4gICAgYXV0b19zdGFydF9vbl9jcmVhdGU6IGZhbHNlLFxuICAgIGR1ZV9vZmZzZXRfbWludXRlczogMCxcbiAgICBkdWVfc29vbl90aHJlc2hvbGRfbWludXRlczogMTQ0MCxcbiAgfSk7XG4gIGNvbnN0IFtsYWJlbHNCeUNhcmQsIHNldExhYmVsc0J5Q2FyZF0gPSB1c2VTdGF0ZTxcbiAgICBSZWNvcmQ8c3RyaW5nLCB7IGlkOiBzdHJpbmc7IG5hbWU6IHN0cmluZzsgY29sb3I6IHN0cmluZyB9W10+XG4gID4oe30pO1xuICBjb25zdCBbYWN0aXZlRHJhZ0lkLCBzZXRBY3RpdmVEcmFnSWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtvdmVyTGlzdElkLCBzZXRPdmVyTGlzdElkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZHJhZ2dpbmdMaXN0SWQsIHNldERyYWdnaW5nTGlzdElkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbY2FyZFBsYWNlaG9sZGVyLCBzZXRDYXJkUGxhY2Vob2xkZXJdID0gdXNlU3RhdGU8e1xuICAgIGxpc3RJZDogc3RyaW5nO1xuICAgIGluZGV4OiBudW1iZXI7XG4gIH0gfCBudWxsPihudWxsKTtcbiAgY29uc3QgYWN0aXZlT3ZlcmxheSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICghYWN0aXZlRHJhZ0lkKSByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBbbElkLCBjSWRdID0gYWN0aXZlRHJhZ0lkLnNwbGl0KFwiOlwiKTtcbiAgICBjb25zdCBhcnIgPSBjYXJkc0J5TGlzdFtsSWRdID8/IFtdO1xuICAgIGNvbnN0IGJhc2UgPSBhcnIuZmluZCgoYykgPT4gYy5pZCA9PT0gY0lkKTtcbiAgICBpZiAoIWJhc2UpIHJldHVybiBudWxsO1xuICAgIHJldHVybiB7XG4gICAgICBsaXN0SWQ6IGxJZCxcbiAgICAgIGNhcmQ6IHtcbiAgICAgICAgLi4uYmFzZSxcbiAgICAgICAgbWVtYmVyczogbWVtYmVyc0J5Q2FyZFtiYXNlLmlkXSA/PyBbXSxcbiAgICAgICAgbGFiZWxzOiBsYWJlbHNCeUNhcmRbYmFzZS5pZF0gPz8gW10sXG4gICAgICAgIGF0dGFjaG1lbnRzQ291bnQ6IGF0dGFjaG1lbnRzQ291bnRCeUNhcmRbYmFzZS5pZF0gPz8gMCxcbiAgICAgICAgY29tbWVudHNDb3VudDogY29tbWVudHNDb3VudEJ5Q2FyZFtiYXNlLmlkXSA/PyAwLFxuICAgICAgfSxcbiAgICB9O1xuICB9LCBbXG4gICAgYWN0aXZlRHJhZ0lkLFxuICAgIGNhcmRzQnlMaXN0LFxuICAgIG1lbWJlcnNCeUNhcmQsXG4gICAgbGFiZWxzQnlDYXJkLFxuICAgIGF0dGFjaG1lbnRzQ291bnRCeUNhcmQsXG4gICAgY29tbWVudHNDb3VudEJ5Q2FyZCxcbiAgXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgbW91bnRlZCA9IHRydWU7XG4gICAgKGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZGF0YTogbHMgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwibGlzdHNcIilcbiAgICAgICAgLnNlbGVjdChcIipcIilcbiAgICAgICAgLmVxKFwiYm9hcmRfaWRcIiwgYm9hcmRJZClcbiAgICAgICAgLm9yZGVyKFwicG9zaXRpb25cIiwgeyBhc2NlbmRpbmc6IHRydWUgfSk7XG4gICAgICBjb25zdCB7IGRhdGE6IGNzIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcImNhcmRzXCIpXG4gICAgICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgICAgIC5lcShcImJvYXJkX2lkXCIsIGJvYXJkSWQpXG4gICAgICAgIC5pcyhcImFyY2hpdmVkX2F0XCIsIG51bGwpXG4gICAgICAgIC5vcmRlcihcInBvc2l0aW9uXCIsIHsgYXNjZW5kaW5nOiB0cnVlIH0pO1xuICAgICAgaWYgKCFtb3VudGVkKSByZXR1cm47XG4gICAgICBzZXRMaXN0cyhscyA/PyBbXSk7XG4gICAgICBjb25zdCBtYXA6IFJlY29yZDxzdHJpbmcsIENhcmRbXT4gPSB7fTtcbiAgICAgIGZvciAoY29uc3QgbCBvZiBscyA/PyBbXSkge1xuICAgICAgICBtYXBbbC5pZF0gPSAoY3MgPz8gW10pLmZpbHRlcigoYzogYW55KSA9PiBjLmxpc3RfaWQgPT09IGwuaWQpO1xuICAgICAgfVxuICAgICAgc2V0Q2FyZHNCeUxpc3QobWFwKTtcbiAgICAgIC8vIFByZWZldGNoIGRhcyBjYXBhcyBwYXJhIGV2aXRhciBsYXTDqm5jaWEgYW8gYWJyaXIgbW9kYWxcbiAgICAgIGNvbnN0IGNvdmVyUGF0aHMgPSAoY3MgPz8gW10pXG4gICAgICAgIC5tYXAoKGM6IGFueSkgPT4gYy5jb3Zlcl9wYXRoKVxuICAgICAgICAuZmlsdGVyKEJvb2xlYW4pIGFzIHN0cmluZ1tdO1xuICAgICAgaWYgKGNvdmVyUGF0aHMubGVuZ3RoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgICAgICBjb3ZlclBhdGhzLm1hcChhc3luYyAocCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCB7IGRhdGE6IG9uZSB9ID0gYXdhaXQgc3VwYWJhc2Uuc3RvcmFnZVxuICAgICAgICAgICAgICAgIC5mcm9tKFwiYXR0YWNobWVudHNcIilcbiAgICAgICAgICAgICAgICAuY3JlYXRlU2lnbmVkVXJsKHAsIDYwICogMTApO1xuICAgICAgICAgICAgICBpZiAob25lPy5zaWduZWRVcmwpIHtcbiAgICAgICAgICAgICAgICBzZXRDYWNoZWRTaWduZWRVcmwocCwgb25lLnNpZ25lZFVybCwgNjAwKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApO1xuICAgICAgICB9IGNhdGNoIHt9XG4gICAgICB9XG5cbiAgICAgIC8vIGZldGNoIG1lbWJlcnMgZm9yIGFsbCBjYXJkc1xuICAgICAgY29uc3QgY2FyZElkcyA9IChjcyA/PyBbXSkubWFwKChjOiBhbnkpID0+IGMuaWQpO1xuICAgICAgaWYgKGNhcmRJZHMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHsgZGF0YTogY20gfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oXCJjYXJkX21lbWJlcnNcIilcbiAgICAgICAgICAuc2VsZWN0KFwiKlwiKVxuICAgICAgICAgIC5pbihcImNhcmRfaWRcIiwgY2FyZElkcyk7XG4gICAgICAgIGNvbnN0IHVzZXJJZHMgPSBBcnJheS5mcm9tKFxuICAgICAgICAgIG5ldyBTZXQoKGNtID8/IFtdKS5tYXAoKG06IGFueSkgPT4gbS51c2VyX2lkKSlcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgeyBkYXRhOiBwcm9maWxlcyB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbShcInVzZXJfcHJvZmlsZXNcIilcbiAgICAgICAgICAuc2VsZWN0KFwiKlwiKVxuICAgICAgICAgIC5pbihcImlkXCIsIHVzZXJJZHMpO1xuICAgICAgICBjb25zdCBwTWFwID0gbmV3IE1hcCgocHJvZmlsZXMgPz8gW10pLm1hcCgocDogYW55KSA9PiBbcC5pZCwgcF0pKTtcbiAgICAgICAgY29uc3QgYnlDYXJkOiBSZWNvcmQ8XG4gICAgICAgICAgc3RyaW5nLFxuICAgICAgICAgIHsgaWQ/OiBzdHJpbmc7IG5hbWU/OiBzdHJpbmcgfCBudWxsOyBhdmF0YXJfdXJsPzogc3RyaW5nIHwgbnVsbCB9W11cbiAgICAgICAgPiA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGMgb2YgY20gPz8gW10pIHtcbiAgICAgICAgICBieUNhcmRbYy5jYXJkX2lkXSA9IGJ5Q2FyZFtjLmNhcmRfaWRdID8/IFtdO1xuICAgICAgICAgIGNvbnN0IHByb2YgPSBwTWFwLmdldChjLnVzZXJfaWQpIGFzIGFueTtcbiAgICAgICAgICBieUNhcmRbYy5jYXJkX2lkXS5wdXNoKHtcbiAgICAgICAgICAgIGlkOiBjLnVzZXJfaWQsXG4gICAgICAgICAgICBuYW1lOiBwcm9mPy5kaXNwbGF5X25hbWUgPz8gbnVsbCxcbiAgICAgICAgICAgIGF2YXRhcl91cmw6IHByb2Y/LmF2YXRhcl91cmwgPz8gbnVsbCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBzZXRNZW1iZXJzQnlDYXJkKGJ5Q2FyZCk7XG4gICAgICB9XG4gICAgICAvLyBDYXJyZWdhIG1lbWJyb3MgZG8gd29ya3NwYWNlIHBhcmEgcG9wdWxhciBmaWx0cm8gbWVzbW8gc2VtIGF0cmlidWnDp8Ojb1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBhdXRoRmV0Y2ggfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL2F1dGgtZmV0Y2hcIik7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGF1dGhGZXRjaChgL2FwaS93b3Jrc3BhY2VzL21lbWJlcnM/d29ya3NwYWNlSWQ9JHt3b3Jrc3BhY2VJZH1gKTtcbiAgICAgICAgY29uc3QganNvbiA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICAgIGNvbnN0IGV4dHJhcyA9IChqc29uPy5kYXRhID8/IFtdKS5tYXAoKG06IGFueSkgPT4gKHtcbiAgICAgICAgICBpZDogbS51c2VyX2lkLFxuICAgICAgICAgIG5hbWU6IG0ucHJvZmlsZT8uZGlzcGxheV9uYW1lID8/IG51bGwsXG4gICAgICAgIH0pKTtcbiAgICAgICAgc2V0TWVtYmVyc0J5Q2FyZCgocHJldikgPT4ge1xuICAgICAgICAgIGNvbnN0IGNvcHkgPSB7IC4uLnByZXYgfTtcbiAgICAgICAgICBjb3B5W1wiX3dvcmtzcGFjZV9tZW1iZXJzXCJdID0gZXh0cmFzIGFzIGFueTtcbiAgICAgICAgICByZXR1cm4gY29weTtcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIHt9XG4gICAgICAvLyBmZXRjaCBsYWJlbHMgZm9yIGFsbCBjYXJkc1xuICAgICAgY29uc3QgeyBkYXRhOiBhbGxMYWJlbHMgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwibGFiZWxzXCIpXG4gICAgICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgICAgIC5lcShcImJvYXJkX2lkXCIsIGJvYXJkSWQpO1xuICAgICAgY29uc3QgeyBkYXRhOiBjYXJkTGFiZWxzIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcImNhcmRfbGFiZWxzXCIpXG4gICAgICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgICAgIC5pbihcImNhcmRfaWRcIiwgY2FyZElkcyk7XG4gICAgICBjb25zdCBsYWJlbE1hcCA9IG5ldyBNYXAoKGFsbExhYmVscyA/PyBbXSkubWFwKChsOiBhbnkpID0+IFtsLmlkLCBsXSkpO1xuICAgICAgc2V0TGFiZWxzSW5kZXgoXG4gICAgICAgIE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgICAgICAoYWxsTGFiZWxzID8/IFtdKS5tYXAoKGw6IGFueSkgPT4gW1xuICAgICAgICAgICAgbC5pZCxcbiAgICAgICAgICAgIHsgaWQ6IGwuaWQsIG5hbWU6IGwubmFtZSwgY29sb3I6IGwuY29sb3IgfSxcbiAgICAgICAgICBdKVxuICAgICAgICApXG4gICAgICApO1xuICAgICAgY29uc3QgYnlDYXJkTGFiZWxzOiBSZWNvcmQ8XG4gICAgICAgIHN0cmluZyxcbiAgICAgICAgeyBpZDogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IGNvbG9yOiBzdHJpbmcgfVtdXG4gICAgICA+ID0ge307XG4gICAgICBmb3IgKGNvbnN0IGNsIG9mIGNhcmRMYWJlbHMgPz8gW10pIHtcbiAgICAgICAgY29uc3QgbGFiID0gbGFiZWxNYXAuZ2V0KGNsLmxhYmVsX2lkKSBhcyBhbnk7XG4gICAgICAgIGlmICghbGFiKSBjb250aW51ZTtcbiAgICAgICAgYnlDYXJkTGFiZWxzW2NsLmNhcmRfaWRdID0gYnlDYXJkTGFiZWxzW2NsLmNhcmRfaWRdID8/IFtdO1xuICAgICAgICBieUNhcmRMYWJlbHNbY2wuY2FyZF9pZF0ucHVzaCh7XG4gICAgICAgICAgaWQ6IGxhYi5pZCxcbiAgICAgICAgICBuYW1lOiBsYWIubmFtZSxcbiAgICAgICAgICBjb2xvcjogbGFiLmNvbG9yLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHNldExhYmVsc0J5Q2FyZChieUNhcmRMYWJlbHMpO1xuXG4gICAgICAvLyBmZXRjaCBhdHRhY2htZW50cyBjb3VudCBwZXIgY2FyZFxuICAgICAgY29uc3QgeyBkYXRhOiBhdHRzIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcImF0dGFjaG1lbnRzXCIpXG4gICAgICAgIC5zZWxlY3QoXCJjYXJkX2lkXCIpO1xuICAgICAgY29uc3QgY291bnRNYXA6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fTtcbiAgICAgIGZvciAoY29uc3QgYSBvZiBhdHRzID8/IFtdKSB7XG4gICAgICAgIGNvdW50TWFwW2EuY2FyZF9pZF0gPSAoY291bnRNYXBbYS5jYXJkX2lkXSA/PyAwKSArIDE7XG4gICAgICB9XG4gICAgICBzZXRBdHRhY2htZW50c0NvdW50QnlDYXJkKGNvdW50TWFwKTtcblxuICAgICAgLy8gZmV0Y2ggY29tbWVudHMgY291bnQgcGVyIGNhcmRcbiAgICAgIGNvbnN0IHsgZGF0YTogY21zIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcImNhcmRfY29tbWVudHNcIilcbiAgICAgICAgLnNlbGVjdChcImNhcmRfaWRcIik7XG4gICAgICBjb25zdCBjQ291bnQ6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fTtcbiAgICAgIGZvciAoY29uc3QgYyBvZiBjbXMgPz8gW10pIHtcbiAgICAgICAgY0NvdW50W2MuY2FyZF9pZF0gPSAoY0NvdW50W2MuY2FyZF9pZF0gPz8gMCkgKyAxO1xuICAgICAgfVxuICAgICAgc2V0Q29tbWVudHNDb3VudEJ5Q2FyZChjQ291bnQpO1xuXG4gICAgICAvLyBzZXR0aW5nc1xuICAgICAgY29uc3QgeyBkYXRhOiBzdCB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJib2FyZF9zZXR0aW5nc1wiKVxuICAgICAgICAuc2VsZWN0KFwiKlwiKVxuICAgICAgICAuZXEoXCJib2FyZF9pZFwiLCBib2FyZElkKVxuICAgICAgICAubWF5YmVTaW5nbGUoKTtcbiAgICAgIGlmIChzdClcbiAgICAgICAgc2V0U2V0dGluZ3Moe1xuICAgICAgICAgIGF1dG9fc3RhcnRfb25fY3JlYXRlOiBzdC5hdXRvX3N0YXJ0X29uX2NyZWF0ZSxcbiAgICAgICAgICBkdWVfb2Zmc2V0X21pbnV0ZXM6IHN0LmR1ZV9vZmZzZXRfbWludXRlcyxcbiAgICAgICAgICBkdWVfc29vbl90aHJlc2hvbGRfbWludXRlczogc3QuZHVlX3Nvb25fdGhyZXNob2xkX21pbnV0ZXMsXG4gICAgICAgIH0pO1xuICAgIH0pKCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIG1vdW50ZWQgPSBmYWxzZTtcbiAgICB9O1xuICB9LCBbYm9hcmRJZCwgc3VwYWJhc2VdKTtcblxuICAvLyBSZWFsdGltZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNoYW5uZWwgPSBzdXBhYmFzZVxuICAgICAgLmNoYW5uZWwoYGJvYXJkOiR7Ym9hcmRJZH1gKVxuICAgICAgLm9uKFxuICAgICAgICBcInBvc3RncmVzX2NoYW5nZXNcIixcbiAgICAgICAge1xuICAgICAgICAgIGV2ZW50OiBcIipcIixcbiAgICAgICAgICBzY2hlbWE6IFwicHVibGljXCIsXG4gICAgICAgICAgdGFibGU6IFwibGlzdHNcIixcbiAgICAgICAgICBmaWx0ZXI6IGBib2FyZF9pZD1lcS4ke2JvYXJkSWR9YCxcbiAgICAgICAgfSxcbiAgICAgICAgKHBheWxvYWQ6IFJlYWx0aW1lUG9zdGdyZXNDaGFuZ2VzUGF5bG9hZDxMaXN0PikgPT4ge1xuICAgICAgICAgIHNldExpc3RzKChwcmV2KSA9PiB7XG4gICAgICAgICAgICBpZiAocGF5bG9hZC5ldmVudFR5cGUgPT09IFwiSU5TRVJUXCIpXG4gICAgICAgICAgICAgIHJldHVybiBbLi4ucHJldiwgcGF5bG9hZC5uZXddLnNvcnQoXG4gICAgICAgICAgICAgICAgKGEsIGIpID0+IGEucG9zaXRpb24gLSBiLnBvc2l0aW9uXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAocGF5bG9hZC5ldmVudFR5cGUgPT09IFwiVVBEQVRFXCIpXG4gICAgICAgICAgICAgIHJldHVybiBwcmV2XG4gICAgICAgICAgICAgICAgLm1hcCgobCkgPT4gKGwuaWQgPT09IHBheWxvYWQubmV3LmlkID8gcGF5bG9hZC5uZXcgOiBsKSlcbiAgICAgICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gYS5wb3NpdGlvbiAtIGIucG9zaXRpb24pO1xuICAgICAgICAgICAgaWYgKHBheWxvYWQuZXZlbnRUeXBlID09PSBcIkRFTEVURVwiKVxuICAgICAgICAgICAgICByZXR1cm4gcHJldi5maWx0ZXIoKGwpID0+IGwuaWQgIT09IHBheWxvYWQub2xkLmlkKTtcbiAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICApXG4gICAgICAub24oXG4gICAgICAgIFwicG9zdGdyZXNfY2hhbmdlc1wiLFxuICAgICAgICB7XG4gICAgICAgICAgZXZlbnQ6IFwiKlwiLFxuICAgICAgICAgIHNjaGVtYTogXCJwdWJsaWNcIixcbiAgICAgICAgICB0YWJsZTogXCJjYXJkc1wiLFxuICAgICAgICAgIGZpbHRlcjogYGJvYXJkX2lkPWVxLiR7Ym9hcmRJZH1gLFxuICAgICAgICB9LFxuICAgICAgICAocGF5bG9hZDogUmVhbHRpbWVQb3N0Z3Jlc0NoYW5nZXNQYXlsb2FkPENhcmQ+KSA9PiB7XG4gICAgICAgICAgc2V0Q2FyZHNCeUxpc3QoKHByZXYpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSB7IC4uLnByZXYgfTtcbiAgICAgICAgICAgIGlmIChwYXlsb2FkLmV2ZW50VHlwZSA9PT0gXCJJTlNFUlRcIikge1xuICAgICAgICAgICAgICBpZiAoKHBheWxvYWQubmV3IGFzIGFueSk/LmFyY2hpdmVkX2F0KSByZXR1cm4gdXBkYXRlZDtcbiAgICAgICAgICAgICAgY29uc3QgbGlzdElkID0gcGF5bG9hZC5uZXcubGlzdF9pZDtcbiAgICAgICAgICAgICAgdXBkYXRlZFtsaXN0SWRdID0gWy4uLih1cGRhdGVkW2xpc3RJZF0gPz8gW10pLCBwYXlsb2FkLm5ld10uc29ydChcbiAgICAgICAgICAgICAgICAoYSwgYikgPT4gYS5wb3NpdGlvbiAtIGIucG9zaXRpb25cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5ldmVudFR5cGUgPT09IFwiVVBEQVRFXCIpIHtcbiAgICAgICAgICAgICAgLy8gcmVtb3ZlIGZyb20gb2xkIGxpc3QgaWYgbW92ZWRcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXModXBkYXRlZCkpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVkW2tleV0gPSAodXBkYXRlZFtrZXldID8/IFtdKS5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAoYykgPT4gYy5pZCAhPT0gcGF5bG9hZC5uZXcuaWRcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICgocGF5bG9hZC5uZXcgYXMgYW55KT8uYXJjaGl2ZWRfYXQpIHtcbiAgICAgICAgICAgICAgICAvLyBhcnF1aXZhZG86IG7Do28gcmVpbnRyb2R1emlyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZWQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29uc3QgbGlzdElkID0gcGF5bG9hZC5uZXcubGlzdF9pZDtcbiAgICAgICAgICAgICAgdXBkYXRlZFtsaXN0SWRdID0gWy4uLih1cGRhdGVkW2xpc3RJZF0gPz8gW10pLCBwYXlsb2FkLm5ld10uc29ydChcbiAgICAgICAgICAgICAgICAoYSwgYikgPT4gYS5wb3NpdGlvbiAtIGIucG9zaXRpb25cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5ldmVudFR5cGUgPT09IFwiREVMRVRFXCIpIHtcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXModXBkYXRlZCkpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVkW2tleV0gPSAodXBkYXRlZFtrZXldID8/IFtdKS5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAoYykgPT4gYy5pZCAhPT0gcGF5bG9hZC5vbGQuaWRcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdXBkYXRlZDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgKVxuICAgICAgLnN1YnNjcmliZSgpO1xuXG4gICAgLy8gY2FyZF9sYWJlbHMgcmVhbHRpbWVcbiAgICBjb25zdCBjaGFubmVsMiA9IHN1cGFiYXNlXG4gICAgICAuY2hhbm5lbChgbGFiZWxzOiR7Ym9hcmRJZH1gKVxuICAgICAgLm9uKFxuICAgICAgICBcInBvc3RncmVzX2NoYW5nZXNcIixcbiAgICAgICAgeyBldmVudDogXCIqXCIsIHNjaGVtYTogXCJwdWJsaWNcIiwgdGFibGU6IFwiY2FyZF9sYWJlbHNcIiB9LFxuICAgICAgICAocGF5bG9hZDogYW55KSA9PiB7XG4gICAgICAgICAgY29uc3QgY2FyZElkID0gKHBheWxvYWQubmV3Py5jYXJkX2lkID8/XG4gICAgICAgICAgICBwYXlsb2FkLm9sZD8uY2FyZF9pZCkgYXMgc3RyaW5nO1xuICAgICAgICAgIC8vIGF0dWFsaXphIHNvbWVudGUgc2UgbyBjYXJkIGV4aXN0ZSBuZXN0ZSBib2FyZFxuICAgICAgICAgIGNvbnN0IGV4aXN0cyA9IE9iamVjdC52YWx1ZXMoY2FyZHNCeUxpc3QpLnNvbWUoKGFycikgPT5cbiAgICAgICAgICAgIChhcnIgPz8gW10pLnNvbWUoKGMpID0+IGMuaWQgPT09IGNhcmRJZClcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmICghZXhpc3RzKSByZXR1cm47XG4gICAgICAgICAgc2V0TGFiZWxzQnlDYXJkKChwcmV2KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjb3B5ID0geyAuLi5wcmV2IH07XG4gICAgICAgICAgICBpZiAocGF5bG9hZC5ldmVudFR5cGUgPT09IFwiSU5TRVJUXCIpIHtcbiAgICAgICAgICAgICAgY29uc3QgbGFiID0gbGFiZWxzSW5kZXhbcGF5bG9hZC5uZXcubGFiZWxfaWRdO1xuICAgICAgICAgICAgICBpZiAobGFiKSB7XG4gICAgICAgICAgICAgICAgY29weVtjYXJkSWRdID0gWy4uLihjb3B5W2NhcmRJZF0gPz8gW10pLCBsYWJdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuZXZlbnRUeXBlID09PSBcIkRFTEVURVwiKSB7XG4gICAgICAgICAgICAgIGNvcHlbY2FyZElkXSA9IChjb3B5W2NhcmRJZF0gPz8gW10pLmZpbHRlcihcbiAgICAgICAgICAgICAgICAobCkgPT4gbC5pZCAhPT0gcGF5bG9hZC5vbGQubGFiZWxfaWRcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb3B5O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICApXG4gICAgICAuc3Vic2NyaWJlKCk7XG4gICAgLy8gYXR0YWNobWVudHMgcmVhbHRpbWVcbiAgICBjb25zdCBjaGFubmVsMyA9IHN1cGFiYXNlXG4gICAgICAuY2hhbm5lbChgYXR0YWNobWVudHM6JHtib2FyZElkfWApXG4gICAgICAub24oXG4gICAgICAgIFwicG9zdGdyZXNfY2hhbmdlc1wiLFxuICAgICAgICB7IGV2ZW50OiBcIipcIiwgc2NoZW1hOiBcInB1YmxpY1wiLCB0YWJsZTogXCJhdHRhY2htZW50c1wiIH0sXG4gICAgICAgIChwYXlsb2FkOiBhbnkpID0+IHtcbiAgICAgICAgICBjb25zdCBjYXJkSWQgPSAocGF5bG9hZC5uZXc/LmNhcmRfaWQgPz9cbiAgICAgICAgICAgIHBheWxvYWQub2xkPy5jYXJkX2lkKSBhcyBzdHJpbmc7XG4gICAgICAgICAgc2V0QXR0YWNobWVudHNDb3VudEJ5Q2FyZCgocHJldikgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29weSA9IHsgLi4ucHJldiB9O1xuICAgICAgICAgICAgaWYgKHBheWxvYWQuZXZlbnRUeXBlID09PSBcIklOU0VSVFwiKSB7XG4gICAgICAgICAgICAgIGNvcHlbY2FyZElkXSA9IChjb3B5W2NhcmRJZF0gPz8gMCkgKyAxO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmV2ZW50VHlwZSA9PT0gXCJERUxFVEVcIikge1xuICAgICAgICAgICAgICBjb3B5W2NhcmRJZF0gPSBNYXRoLm1heCgwLCAoY29weVtjYXJkSWRdID8/IDEpIC0gMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29weTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgKVxuICAgICAgLnN1YnNjcmliZSgpO1xuICAgIC8vIGNvbW1lbnRzIHJlYWx0aW1lXG4gICAgY29uc3QgY2hhbm5lbDQgPSBzdXBhYmFzZVxuICAgICAgLmNoYW5uZWwoYGNvbW1lbnRzOiR7Ym9hcmRJZH1gKVxuICAgICAgLm9uKFxuICAgICAgICBcInBvc3RncmVzX2NoYW5nZXNcIixcbiAgICAgICAgeyBldmVudDogXCIqXCIsIHNjaGVtYTogXCJwdWJsaWNcIiwgdGFibGU6IFwiY2FyZF9jb21tZW50c1wiIH0sXG4gICAgICAgIChwYXlsb2FkOiBhbnkpID0+IHtcbiAgICAgICAgICBjb25zdCBjYXJkSWQgPSAocGF5bG9hZC5uZXc/LmNhcmRfaWQgPz9cbiAgICAgICAgICAgIHBheWxvYWQub2xkPy5jYXJkX2lkKSBhcyBzdHJpbmc7XG4gICAgICAgICAgc2V0Q29tbWVudHNDb3VudEJ5Q2FyZCgocHJldikgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29weSA9IHsgLi4ucHJldiB9O1xuICAgICAgICAgICAgaWYgKHBheWxvYWQuZXZlbnRUeXBlID09PSBcIklOU0VSVFwiKVxuICAgICAgICAgICAgICBjb3B5W2NhcmRJZF0gPSAoY29weVtjYXJkSWRdID8/IDApICsgMTtcbiAgICAgICAgICAgIGVsc2UgaWYgKHBheWxvYWQuZXZlbnRUeXBlID09PSBcIkRFTEVURVwiKVxuICAgICAgICAgICAgICBjb3B5W2NhcmRJZF0gPSBNYXRoLm1heCgwLCAoY29weVtjYXJkSWRdID8/IDEpIC0gMSk7XG4gICAgICAgICAgICByZXR1cm4gY29weTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgKVxuICAgICAgLnN1YnNjcmliZSgpO1xuICAgIC8vIGNhcmRfbWVtYmVycyByZWFsdGltZVxuICAgIGNvbnN0IGNoYW5uZWw1ID0gc3VwYWJhc2VcbiAgICAgIC5jaGFubmVsKGBtZW1iZXJzOiR7Ym9hcmRJZH1gKVxuICAgICAgLm9uKFxuICAgICAgICBcInBvc3RncmVzX2NoYW5nZXNcIixcbiAgICAgICAgeyBldmVudDogXCIqXCIsIHNjaGVtYTogXCJwdWJsaWNcIiwgdGFibGU6IFwiY2FyZF9tZW1iZXJzXCIgfSxcbiAgICAgICAgYXN5bmMgKHBheWxvYWQ6IGFueSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNhcmRJZCA9IChwYXlsb2FkLm5ldz8uY2FyZF9pZCA/PyBwYXlsb2FkLm9sZD8uY2FyZF9pZCkgYXMgc3RyaW5nO1xuICAgICAgICAgIC8vIGdhcmFudGUgcXVlIG8gY2FyZCBwZXJ0ZW5jZSBhIGVzdGUgYm9hcmRcbiAgICAgICAgICBjb25zdCBleGlzdHMgPSBPYmplY3QudmFsdWVzKGNhcmRzQnlMaXN0KS5zb21lKChhcnIpID0+IChhcnIgPz8gW10pLnNvbWUoKGMpID0+IGMuaWQgPT09IGNhcmRJZCkpO1xuICAgICAgICAgIGlmICghZXhpc3RzKSByZXR1cm47XG4gICAgICAgICAgaWYgKHBheWxvYWQuZXZlbnRUeXBlID09PSBcIklOU0VSVFwiKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCB1c2VySWQgPSBwYXlsb2FkLm5ldy51c2VyX2lkIGFzIHN0cmluZztcbiAgICAgICAgICAgICAgY29uc3QgeyBkYXRhOiBwcm9mIH0gPSBhd2FpdCBzdXBhYmFzZS5mcm9tKFwidXNlcl9wcm9maWxlc1wiKS5zZWxlY3QoXCJpZCwgZGlzcGxheV9uYW1lLCBhdmF0YXJfdXJsXCIpLmVxKFwiaWRcIiwgdXNlcklkKS5tYXliZVNpbmdsZSgpO1xuICAgICAgICAgICAgICBzZXRNZW1iZXJzQnlDYXJkKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29weSA9IHsgLi4ucHJldiB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGFyciA9IGNvcHlbY2FyZElkXSA/PyBbXTtcbiAgICAgICAgICAgICAgICBjb3B5W2NhcmRJZF0gPSBbXG4gICAgICAgICAgICAgICAgICAuLi5hcnIsXG4gICAgICAgICAgICAgICAgICB7IGlkOiB1c2VySWQsIG5hbWU6IHByb2Y/LmRpc3BsYXlfbmFtZSA/PyBudWxsLCBhdmF0YXJfdXJsOiBwcm9mPy5hdmF0YXJfdXJsID8/IG51bGwgfSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb3B5O1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gY2F0Y2gge31cbiAgICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuZXZlbnRUeXBlID09PSBcIkRFTEVURVwiKSB7XG4gICAgICAgICAgICBjb25zdCB1c2VySWQgPSBwYXlsb2FkLm9sZC51c2VyX2lkIGFzIHN0cmluZztcbiAgICAgICAgICAgIHNldE1lbWJlcnNCeUNhcmQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgY29weSA9IHsgLi4ucHJldiB9O1xuICAgICAgICAgICAgICBjb3B5W2NhcmRJZF0gPSAoY29weVtjYXJkSWRdID8/IFtdKS5maWx0ZXIoKG0pID0+IChtIGFzIGFueSkuaWQgIT09IHVzZXJJZCk7XG4gICAgICAgICAgICAgIHJldHVybiBjb3B5O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApXG4gICAgICAuc3Vic2NyaWJlKCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHN1cGFiYXNlLnJlbW92ZUNoYW5uZWwoY2hhbm5lbCk7XG4gICAgICBzdXBhYmFzZS5yZW1vdmVDaGFubmVsKGNoYW5uZWwyKTtcbiAgICAgIHN1cGFiYXNlLnJlbW92ZUNoYW5uZWwoY2hhbm5lbDMpO1xuICAgICAgc3VwYWJhc2UucmVtb3ZlQ2hhbm5lbChjaGFubmVsNCk7XG4gICAgICBzdXBhYmFzZS5yZW1vdmVDaGFubmVsKGNoYW5uZWw1KTtcbiAgICB9O1xuICB9LCBbYm9hcmRJZCwgc3VwYWJhc2UsIGNhcmRzQnlMaXN0LCBsYWJlbHNJbmRleF0pO1xuXG4gIC8vIExpc3RlbmVyIG9wY2lvbmFsIHBhcmEgZm9yw6dhciByZWZyZXNoIGRlIG1ldGEgKGxhYmVscy9jb21lbnTDoXJpb3MpIGRlIHVtIGNhcnTDo29cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBhc3luYyBmdW5jdGlvbiBvblJlZnJlc2hNZXRhKGU6IGFueSkge1xuICAgICAgY29uc3QgY2FyZElkID0gZT8uZGV0YWlsPy5jYXJkSWQgYXMgc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgaWYgKCFjYXJkSWQpIHJldHVybjtcbiAgICAgIGNvbnN0IHsgZGF0YTogY2xzIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcImNhcmRfbGFiZWxzXCIpXG4gICAgICAgIC5zZWxlY3QoXCJsYWJlbF9pZFwiKVxuICAgICAgICAuZXEoXCJjYXJkX2lkXCIsIGNhcmRJZCk7XG4gICAgICBjb25zdCBsYWJzID0gKGNscyA/PyBbXSlcbiAgICAgICAgLm1hcCgoeDogYW55KSA9PiBsYWJlbHNJbmRleFt4LmxhYmVsX2lkXSlcbiAgICAgICAgLmZpbHRlcihCb29sZWFuKTtcbiAgICAgIHNldExhYmVsc0J5Q2FyZCgocHJldikgPT4gKHsgLi4ucHJldiwgW2NhcmRJZF06IGxhYnMgYXMgYW55IH0pKTtcbiAgICAgIGNvbnN0IHsgY291bnQgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwiY2FyZF9jb21tZW50c1wiKVxuICAgICAgICAuc2VsZWN0KFwiKlwiLCB7IGNvdW50OiBcImV4YWN0XCIsIGhlYWQ6IHRydWUgfSlcbiAgICAgICAgLmVxKFwiY2FyZF9pZFwiLCBjYXJkSWQpO1xuICAgICAgc2V0Q29tbWVudHNDb3VudEJ5Q2FyZCgocHJldikgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgW2NhcmRJZF06IHR5cGVvZiBjb3VudCA9PT0gXCJudW1iZXJcIiA/IGNvdW50IDogcHJldltjYXJkSWRdID8/IDAsXG4gICAgICB9KSk7XG4gICAgfVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2FyZDpyZWZyZXNoLW1ldGFcIiwgb25SZWZyZXNoTWV0YSBhcyBhbnkpO1xuICAgIHJldHVybiAoKSA9PlxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjYXJkOnJlZnJlc2gtbWV0YVwiLCBvblJlZnJlc2hNZXRhIGFzIGFueSk7XG4gIH0sIFtzdXBhYmFzZSwgbGFiZWxzSW5kZXhdKTtcblxuICBhc3luYyBmdW5jdGlvbiBhZGRMaXN0KCkge1xuICAgIGNvbnN0IG5hbWUgPSBwcm9tcHQoXCJOb21lIGRhIGxpc3RhOlwiKT8udHJpbSgpO1xuICAgIGlmICghbmFtZSkgcmV0dXJuO1xuICAgIGNvbnN0IG1heFBvcyA9IGxpc3RzLmxlbmd0aCA/IE1hdGgubWF4KC4uLmxpc3RzLm1hcCgobCkgPT4gbC5wb3NpdGlvbikpIDogMDtcbiAgICBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJsaXN0c1wiKVxuICAgICAgLmluc2VydCh7IG5hbWUsIGJvYXJkX2lkOiBib2FyZElkLCBwb3NpdGlvbjogbWF4UG9zICsgMTAwIH0pO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gYWRkQ2FyZChsaXN0SWQ6IHN0cmluZywgdGl0bGU6IHN0cmluZykge1xuICAgIGNvbnN0IHQgPSB0aXRsZS50cmltKCk7XG4gICAgaWYgKCF0KSByZXR1cm47XG4gICAgY29uc3QgY2FyZHMgPSBjYXJkc0J5TGlzdFtsaXN0SWRdID8/IFtdO1xuICAgIGNvbnN0IG1heFBvcyA9IGNhcmRzLmxlbmd0aCA/IE1hdGgubWF4KC4uLmNhcmRzLm1hcCgoYykgPT4gYy5wb3NpdGlvbikpIDogMDtcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IHN0YXJ0X2RhdGUgPSBzZXR0aW5ncy5hdXRvX3N0YXJ0X29uX2NyZWF0ZSA/IG5vdy50b0lTT1N0cmluZygpIDogbnVsbDtcbiAgICBjb25zdCBkdWVfZGF0ZSA9XG4gICAgICBzZXR0aW5ncy5kdWVfb2Zmc2V0X21pbnV0ZXMgPiAwXG4gICAgICAgID8gbmV3IERhdGUoXG4gICAgICAgICAgICBub3cuZ2V0VGltZSgpICsgc2V0dGluZ3MuZHVlX29mZnNldF9taW51dGVzICogNjAwMDBcbiAgICAgICAgICApLnRvSVNPU3RyaW5nKClcbiAgICAgICAgOiBudWxsO1xuICAgIGNvbnN0IHsgYXV0aEZldGNoIH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi9hdXRoLWZldGNoXCIpO1xuICAgIGF3YWl0IGF1dGhGZXRjaChcIi9hcGkvY2FyZHNcIiwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdGl0bGU6IHQsXG4gICAgICAgIGJvYXJkX2lkOiBib2FyZElkLFxuICAgICAgICBsaXN0X2lkOiBsaXN0SWQsXG4gICAgICAgIHBvc2l0aW9uOiBtYXhQb3MgKyAxMDAsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBudWxsLFxuICAgICAgICBkdWVfZGF0ZSxcbiAgICAgIH0pLFxuICAgIH0pO1xuICB9XG5cbiAgLy8gRmlsdHJvcyBkbyBxdWFkcm9cbiAgY29uc3QgW2ZpbHRlcnMsIHNldEZpbHRlcnNdID0gdXNlU3RhdGU8e1xuICAgIHF1ZXJ5OiBzdHJpbmc7XG4gICAgbGFiZWxJZHM6IHN0cmluZ1tdO1xuICAgIG1lbWJlcklkczogc3RyaW5nW107XG4gICAgZHVlOiBcImFsbFwiIHwgXCJvdmVyZHVlXCIgfCBcInRvZGF5XCIgfCBcIndlZWtcIiB8IFwibm9uZVwiO1xuICB9Pih7XG4gICAgcXVlcnk6IFwiXCIsXG4gICAgbGFiZWxJZHM6IFtdLFxuICAgIG1lbWJlcklkczogW10sXG4gICAgZHVlOiBcImFsbFwiLFxuICB9KTtcbiAgY29uc3QgbGFiZWxzQW5jaG9yUmVmID0gUmVhY3QudXNlUmVmPEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IG1lbWJlcnNBbmNob3JSZWYgPSBSZWFjdC51c2VSZWY8SFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2xhYmVsc09wZW4sIHNldExhYmVsc09wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbWVtYmVyc09wZW4sIHNldE1lbWJlcnNPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCBhbGxNZW1iZXJzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgbWFwID0gbmV3IE1hcDxzdHJpbmcsIHsgaWQ6IHN0cmluZzsgbmFtZTogc3RyaW5nIHwgbnVsbCB9PigpO1xuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKG1lbWJlcnNCeUNhcmQpKSB7XG4gICAgICBjb25zdCBhcnIgPSAobWVtYmVyc0J5Q2FyZCBhcyBhbnkpW2tleV0gYXMgYW55W107XG4gICAgICBmb3IgKGNvbnN0IG0gb2YgYXJyID8/IFtdKSB7XG4gICAgICAgIGlmICghbT8uaWQpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIW1hcC5oYXMobS5pZCkpIG1hcC5zZXQobS5pZCwgeyBpZDogbS5pZCwgbmFtZTogbS5uYW1lID8/IG51bGwgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBBcnJheS5mcm9tKG1hcC52YWx1ZXMoKSk7XG4gIH0sIFttZW1iZXJzQnlDYXJkXSk7XG5cbiAgZnVuY3Rpb24gY2FyZE1hdGNoZXNGaWx0ZXJzKGNhcmQ6IENhcmQpIHtcbiAgICBjb25zdCBxID0gZmlsdGVycy5xdWVyeS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAocSkge1xuICAgICAgY29uc3QgdGl0bGUgPSAoY2FyZC50aXRsZSA/PyBcIlwiKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgY29uc3QgZGVzYyA9IChjYXJkLmRlc2NyaXB0aW9uID8/IFwiXCIpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAoIXRpdGxlLmluY2x1ZGVzKHEpICYmICFkZXNjLmluY2x1ZGVzKHEpKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChmaWx0ZXJzLmxhYmVsSWRzLmxlbmd0aCkge1xuICAgICAgY29uc3QgbGFicyA9IGxhYmVsc0J5Q2FyZFtjYXJkLmlkXSA/PyBbXTtcbiAgICAgIGNvbnN0IGxhYlNldCA9IG5ldyBTZXQobGFicy5tYXAoKGwpID0+IGwuaWQpKTtcbiAgICAgIGNvbnN0IG1hdGNoID0gZmlsdGVycy5sYWJlbElkcy5zb21lKChpZCkgPT4gbGFiU2V0LmhhcyhpZCkpO1xuICAgICAgaWYgKCFtYXRjaCkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoZmlsdGVycy5tZW1iZXJJZHMubGVuZ3RoKSB7XG4gICAgICBjb25zdCBtcyA9IG1lbWJlcnNCeUNhcmRbY2FyZC5pZF0gPz8gW107XG4gICAgICBjb25zdCBtU2V0ID0gbmV3IFNldChtcy5tYXAoKG0pID0+IG0uaWQpLmZpbHRlcihCb29sZWFuKSBhcyBzdHJpbmdbXSk7XG4gICAgICBjb25zdCBtYXRjaCA9IGZpbHRlcnMubWVtYmVySWRzLnNvbWUoKGlkKSA9PiBtU2V0LmhhcyhpZCkpO1xuICAgICAgaWYgKCFtYXRjaCkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoZmlsdGVycy5kdWUgIT09IFwiYWxsXCIpIHtcbiAgICAgIGNvbnN0IGQgPSBjYXJkLmR1ZV9kYXRlID8gbmV3IERhdGUoY2FyZC5kdWVfZGF0ZSkgOiBudWxsO1xuICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgIGNvbnN0IHN0YXJ0T2ZUb2RheSA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgbm93LmdldERhdGUoKSk7XG4gICAgICBjb25zdCBlbmRPZlRvZGF5ID0gbmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIG5vdy5nZXRNb250aCgpLCBub3cuZ2V0RGF0ZSgpLCAyMywgNTksIDU5LCA5OTkpO1xuICAgICAgaWYgKGZpbHRlcnMuZHVlID09PSBcIm5vbmVcIikge1xuICAgICAgICBpZiAoZCkgcmV0dXJuIGZhbHNlO1xuICAgICAgfSBlbHNlIGlmICghZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKGZpbHRlcnMuZHVlID09PSBcIm92ZXJkdWVcIikge1xuICAgICAgICBpZiAoZC5nZXRUaW1lKCkgPj0gbm93LmdldFRpbWUoKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChmaWx0ZXJzLmR1ZSA9PT0gXCJ0b2RheVwiKSB7XG4gICAgICAgIGlmIChkLmdldFRpbWUoKSA8IHN0YXJ0T2ZUb2RheS5nZXRUaW1lKCkgfHwgZC5nZXRUaW1lKCkgPiBlbmRPZlRvZGF5LmdldFRpbWUoKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChmaWx0ZXJzLmR1ZSA9PT0gXCJ3ZWVrXCIpIHtcbiAgICAgICAgY29uc3QgaW43ID0gbmV3IERhdGUobm93LmdldFRpbWUoKSArIDcgKiAyNCAqIDYwICogNjAgKiAxMDAwKTtcbiAgICAgICAgaWYgKGQuZ2V0VGltZSgpIDwgc3RhcnRPZlRvZGF5LmdldFRpbWUoKSB8fCBkLmdldFRpbWUoKSA+IGluNy5nZXRUaW1lKCkpIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiBmaW5kQ2FyZExvY2F0aW9uKFxuICAgIGNhcmRJZDogc3RyaW5nXG4gICk6IHsgbGlzdEluZGV4OiBudW1iZXI7IGNhcmRJbmRleDogbnVtYmVyIH0gfCBudWxsIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjcyA9IGNhcmRzQnlMaXN0W2xpc3RzW2ldLmlkXSA/PyBbXTtcbiAgICAgIGNvbnN0IGlkeCA9IGNzLmZpbmRJbmRleCgoYykgPT4gYy5pZCA9PT0gY2FyZElkKTtcbiAgICAgIGlmIChpZHggPj0gMCkgcmV0dXJuIHsgbGlzdEluZGV4OiBpLCBjYXJkSW5kZXg6IGlkeCB9O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbXB1dGVQb3NpdGlvbihwcmV2PzogbnVtYmVyLCBuZXh0PzogbnVtYmVyKSB7XG4gICAgaWYgKHByZXYgIT0gbnVsbCAmJiBuZXh0ICE9IG51bGwpIHJldHVybiAocHJldiArIG5leHQpIC8gMjtcbiAgICBpZiAocHJldiAhPSBudWxsKSByZXR1cm4gcHJldiArIDEwMDtcbiAgICBpZiAobmV4dCAhPSBudWxsKSByZXR1cm4gbmV4dCAtIDEwMDtcbiAgICByZXR1cm4gMTAwO1xuICB9XG5cbiAgZnVuY3Rpb24gb25EcmFnU3RhcnQoZXZlbnQ6IERyYWdTdGFydEV2ZW50KSB7XG4gICAgY29uc3QgaWQgPSBTdHJpbmcoZXZlbnQuYWN0aXZlLmlkKTtcbiAgICBzZXRBY3RpdmVEcmFnSWQoaWQpO1xuICAgIGlmIChpZC5zdGFydHNXaXRoKFwiY29udGFpbmVyOlwiKSkge1xuICAgICAgc2V0RHJhZ2dpbmdMaXN0SWQoaWQucmVwbGFjZShcImNvbnRhaW5lcjpcIiwgXCJcIikpO1xuICAgIH1cbiAgICAvLyBsaW1wYSBwbGFjZWhvbGRlciBkZSBjYXJ0w7Vlc1xuICAgIGlmICghaWQuc3RhcnRzV2l0aChcImNvbnRhaW5lcjpcIikpIHNldENhcmRQbGFjZWhvbGRlcihudWxsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uRHJhZ092ZXIoZXZlbnQ6IGFueSkge1xuICAgIGNvbnN0IG92ZXJJZCA9IGV2ZW50Lm92ZXI/LmlkID8gU3RyaW5nKGV2ZW50Lm92ZXIuaWQpIDogbnVsbDtcbiAgICBjb25zdCBhY3RpdmVJZCA9IGV2ZW50LmFjdGl2ZT8uaWQgPyBTdHJpbmcoZXZlbnQuYWN0aXZlLmlkKSA6IG51bGw7XG4gICAgaWYgKCFvdmVySWQgfHwgIWFjdGl2ZUlkKSByZXR1cm47XG4gICAgaWYgKGFjdGl2ZUlkLnN0YXJ0c1dpdGgoXCJjb250YWluZXI6XCIpKSB7XG4gICAgICBsZXQgdG9MaXN0SWQgPSBvdmVySWQ7XG4gICAgICBpZiAob3ZlcklkLnN0YXJ0c1dpdGgoXCJjb250YWluZXI6XCIpKVxuICAgICAgICB0b0xpc3RJZCA9IG92ZXJJZC5yZXBsYWNlKFwiY29udGFpbmVyOlwiLCBcIlwiKTtcbiAgICAgIGVsc2UgaWYgKG92ZXJJZC5zdGFydHNXaXRoKFwibGlzdDpcIikpXG4gICAgICAgIHRvTGlzdElkID0gb3ZlcklkLnJlcGxhY2UoXCJsaXN0OlwiLCBcIlwiKTtcbiAgICAgIHNldE92ZXJMaXN0SWQodG9MaXN0SWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRPdmVyTGlzdElkKG51bGwpO1xuICAgICAgLy8gcGxhY2Vob2xkZXIgcGFyYSBjYXJ0w7VlczogY2FsY3VsYSB0YXJnZXQgZSDDrW5kaWNlIGRlIGluc2Vyw6fDo29cbiAgICAgIGNvbnN0IGFjdGl2ZVBhcnRzID0gYWN0aXZlSWQuc3BsaXQoXCI6XCIpO1xuICAgICAgaWYgKGFjdGl2ZVBhcnRzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICBsZXQgdG9MaXN0SWQ6IHN0cmluZztcbiAgICAgICAgaWYgKG92ZXJJZC5zdGFydHNXaXRoKFwibGlzdDpcIikpIHRvTGlzdElkID0gb3ZlcklkLnJlcGxhY2UoXCJsaXN0OlwiLCBcIlwiKTtcbiAgICAgICAgZWxzZSBpZiAob3ZlcklkLmluY2x1ZGVzKFwiOlwiKSkgdG9MaXN0SWQgPSBvdmVySWQuc3BsaXQoXCI6XCIpWzBdO1xuICAgICAgICBlbHNlIHRvTGlzdElkID0gb3ZlcklkO1xuICAgICAgICBpZiAobGlzdHMuc29tZSgobCkgPT4gbC5pZCA9PT0gdG9MaXN0SWQpKSB7XG4gICAgICAgICAgY29uc3QgdGFyZ2V0Q2FyZHMgPSAoY2FyZHNCeUxpc3RbdG9MaXN0SWRdID8/IFtdKS5maWx0ZXIoXG4gICAgICAgICAgICAoYykgPT4gYy5pZCAhPT0gYWN0aXZlUGFydHNbMV1cbiAgICAgICAgICApO1xuICAgICAgICAgIGxldCBpbnNlcnRJbmRleCA9IHRhcmdldENhcmRzLmxlbmd0aDtcbiAgICAgICAgICBpZiAoIW92ZXJJZC5zdGFydHNXaXRoKFwibGlzdDpcIikgJiYgb3ZlcklkLmluY2x1ZGVzKFwiOlwiKSkge1xuICAgICAgICAgICAgY29uc3Qgb3ZlckNhcmRJZCA9IG92ZXJJZC5zcGxpdChcIjpcIilbMV07XG4gICAgICAgICAgICBjb25zdCBpZHggPSB0YXJnZXRDYXJkcy5maW5kSW5kZXgoKGMpID0+IGMuaWQgPT09IG92ZXJDYXJkSWQpO1xuICAgICAgICAgICAgaWYgKGlkeCA+PSAwKSBpbnNlcnRJbmRleCA9IGlkeDtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0Q2FyZFBsYWNlaG9sZGVyKHsgbGlzdElkOiB0b0xpc3RJZCwgaW5kZXg6IGluc2VydEluZGV4IH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldENhcmRQbGFjZWhvbGRlcihudWxsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIG9uRHJhZ0VuZChldmVudDogRHJhZ0VuZEV2ZW50KSB7XG4gICAgc2V0QWN0aXZlRHJhZ0lkKG51bGwpO1xuICAgIHNldERyYWdnaW5nTGlzdElkKG51bGwpO1xuICAgIHNldE92ZXJMaXN0SWQobnVsbCk7XG4gICAgc2V0Q2FyZFBsYWNlaG9sZGVyKG51bGwpO1xuICAgIGNvbnN0IHsgYWN0aXZlLCBvdmVyIH0gPSBldmVudDtcbiAgICBpZiAoIW92ZXIpIHJldHVybjtcbiAgICBjb25zdCBhY3RpdmVJZCA9IFN0cmluZyhhY3RpdmUuaWQpOyAvLyBmb3JtYXQ6IDxsaXN0SWQ+OjxjYXJkSWQ+XG4gICAgY29uc3Qgb3ZlcklkID0gU3RyaW5nKG92ZXIuaWQpOyAvLyBwb2RlIHNlciBsaXN0OjxsaXN0SWQ+IE9VIDxsaXN0SWQ+OjxjYXJkSWQ+XG4gICAgLy8gUmVvcmRlbmFyIGxpc3RhcyAobWVzbW8gcXVhbmRvIG92ZXIgw6kgbyBkcm9wcGFibGUgaW50ZXJubyBkYSBsaXN0YSlcbiAgICBpZiAoYWN0aXZlSWQuc3RhcnRzV2l0aChcImNvbnRhaW5lcjpcIikpIHtcbiAgICAgIGNvbnN0IGZyb21MaXN0SWQgPSBhY3RpdmVJZC5yZXBsYWNlKFwiY29udGFpbmVyOlwiLCBcIlwiKTtcbiAgICAgIGxldCB0b0xpc3RJZCA9IG92ZXJJZDtcbiAgICAgIGlmIChvdmVySWQuc3RhcnRzV2l0aChcImNvbnRhaW5lcjpcIikpXG4gICAgICAgIHRvTGlzdElkID0gb3ZlcklkLnJlcGxhY2UoXCJjb250YWluZXI6XCIsIFwiXCIpO1xuICAgICAgZWxzZSBpZiAob3ZlcklkLnN0YXJ0c1dpdGgoXCJsaXN0OlwiKSlcbiAgICAgICAgdG9MaXN0SWQgPSBvdmVySWQucmVwbGFjZShcImxpc3Q6XCIsIFwiXCIpO1xuICAgICAgZWxzZSB0b0xpc3RJZCA9IG92ZXJJZDtcbiAgICAgIGlmICghdG9MaXN0SWQgfHwgZnJvbUxpc3RJZCA9PT0gdG9MaXN0SWQpIHJldHVybjtcbiAgICAgIGNvbnN0IGZyb21JbmRleCA9IGxpc3RzLmZpbmRJbmRleCgobCkgPT4gbC5pZCA9PT0gZnJvbUxpc3RJZCk7XG4gICAgICBjb25zdCB0b0luZGV4ID0gbGlzdHMuZmluZEluZGV4KChsKSA9PiBsLmlkID09PSB0b0xpc3RJZCk7XG4gICAgICBpZiAoZnJvbUluZGV4IDwgMCB8fCB0b0luZGV4IDwgMCkgcmV0dXJuO1xuICAgICAgY29uc3QgbmV4dCA9IFsuLi5saXN0c107XG4gICAgICBjb25zdCBbbW92ZWRdID0gbmV4dC5zcGxpY2UoZnJvbUluZGV4LCAxKTtcbiAgICAgIG5leHQuc3BsaWNlKHRvSW5kZXgsIDAsIG1vdmVkKTtcbiAgICAgIHNldExpc3RzKG5leHQpO1xuICAgICAgY29uc3QgcHJldlBvcyA9IHRvSW5kZXggPiAwID8gbmV4dFt0b0luZGV4IC0gMV0ucG9zaXRpb24gOiB1bmRlZmluZWQ7XG4gICAgICBjb25zdCBuZXh0UG9zID1cbiAgICAgICAgdG9JbmRleCA8IG5leHQubGVuZ3RoIC0gMSA/IG5leHRbdG9JbmRleCArIDFdLnBvc2l0aW9uIDogdW5kZWZpbmVkO1xuICAgICAgY29uc3QgbmV3UG9zID0gY29tcHV0ZVBvc2l0aW9uKHByZXZQb3MsIG5leHRQb3MpO1xuICAgICAgYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJsaXN0c1wiKVxuICAgICAgICAudXBkYXRlKHsgcG9zaXRpb246IG5ld1BvcyB9KVxuICAgICAgICAuZXEoXCJpZFwiLCBtb3ZlZC5pZCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIFJlb3JkZW5hciBsaXN0YXNcbiAgICBpZiAoYWN0aXZlSWQuc3RhcnRzV2l0aChcImNvbnRhaW5lcjpcIikgJiYgb3ZlcklkLnN0YXJ0c1dpdGgoXCJjb250YWluZXI6XCIpKSB7XG4gICAgICBjb25zdCBmcm9tTGlzdElkID0gYWN0aXZlSWQucmVwbGFjZShcImNvbnRhaW5lcjpcIiwgXCJcIik7XG4gICAgICBjb25zdCB0b0xpc3RJZCA9IG92ZXJJZC5yZXBsYWNlKFwiY29udGFpbmVyOlwiLCBcIlwiKTtcbiAgICAgIGlmIChmcm9tTGlzdElkICE9PSB0b0xpc3RJZCkge1xuICAgICAgICBjb25zdCBmcm9tSW5kZXggPSBsaXN0cy5maW5kSW5kZXgoKGwpID0+IGwuaWQgPT09IGZyb21MaXN0SWQpO1xuICAgICAgICBjb25zdCB0b0luZGV4ID0gbGlzdHMuZmluZEluZGV4KChsKSA9PiBsLmlkID09PSB0b0xpc3RJZCk7XG4gICAgICAgIGlmIChmcm9tSW5kZXggPj0gMCAmJiB0b0luZGV4ID49IDApIHtcbiAgICAgICAgICBjb25zdCBuZXh0ID0gWy4uLmxpc3RzXTtcbiAgICAgICAgICBjb25zdCBbbW92ZWRdID0gbmV4dC5zcGxpY2UoZnJvbUluZGV4LCAxKTtcbiAgICAgICAgICBuZXh0LnNwbGljZSh0b0luZGV4LCAwLCBtb3ZlZCk7XG4gICAgICAgICAgc2V0TGlzdHMobmV4dCk7XG4gICAgICAgICAgY29uc3QgcHJldlBvcyA9IHRvSW5kZXggPiAwID8gbmV4dFt0b0luZGV4IC0gMV0ucG9zaXRpb24gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgY29uc3QgbmV4dFBvcyA9XG4gICAgICAgICAgICB0b0luZGV4IDwgbmV4dC5sZW5ndGggLSAxID8gbmV4dFt0b0luZGV4ICsgMV0ucG9zaXRpb24gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgY29uc3QgbmV3UG9zID0gY29tcHV0ZVBvc2l0aW9uKHByZXZQb3MsIG5leHRQb3MpO1xuICAgICAgICAgIGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgICAuZnJvbShcImxpc3RzXCIpXG4gICAgICAgICAgICAudXBkYXRlKHsgcG9zaXRpb246IG5ld1BvcyB9KVxuICAgICAgICAgICAgLmVxKFwiaWRcIiwgbW92ZWQuaWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGFjdGl2ZVBhcnRzID0gYWN0aXZlSWQuc3BsaXQoXCI6XCIpO1xuICAgIGNvbnN0IGZyb21MaXN0SWQgPSBhY3RpdmVQYXJ0c1swXTtcbiAgICBjb25zdCBjYXJkSWQgPSBhY3RpdmVQYXJ0c1sxXTtcbiAgICBsZXQgdG9MaXN0SWQ6IHN0cmluZztcbiAgICBpZiAob3ZlcklkLnN0YXJ0c1dpdGgoXCJsaXN0OlwiKSkge1xuICAgICAgdG9MaXN0SWQgPSBvdmVySWQucmVwbGFjZShcImxpc3Q6XCIsIFwiXCIpO1xuICAgIH0gZWxzZSBpZiAob3ZlcklkLnN0YXJ0c1dpdGgoXCJjb250YWluZXI6XCIpKSB7XG4gICAgICAvLyBxdWFuZG8gbyBhbHZvIMOpIG8gY29udGFpbmVyIGV4dGVybm8gZGEgbGlzdGEgKHNvcnRhYmxlIGRhcyBsaXN0YXMpXG4gICAgICB0b0xpc3RJZCA9IG92ZXJJZC5yZXBsYWNlKFwiY29udGFpbmVyOlwiLCBcIlwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZm9ybWF0byA8bGlzdElkPjo8Y2FyZElkPlxuICAgICAgdG9MaXN0SWQgPSBvdmVySWQuc3BsaXQoXCI6XCIpWzBdO1xuICAgIH1cbiAgICAvLyBzYW5pdHk6IGdhcmFudGUgcXVlIMOpIHVtYSBsaXN0YSB2w6FsaWRhXG4gICAgaWYgKCFsaXN0cy5zb21lKChsKSA9PiBsLmlkID09PSB0b0xpc3RJZCkpIHJldHVybjtcbiAgICBjb25zdCB0YXJnZXRMaXN0Q2FyZHMgPSAoY2FyZHNCeUxpc3RbdG9MaXN0SWRdID8/IFtdKS5maWx0ZXIoXG4gICAgICAoYykgPT4gYy5pZCAhPT0gY2FyZElkXG4gICAgKTtcblxuICAgIC8vIMOtbmRpY2UgZGUgaW5zZXLDp8Ojbzogc2UgZXN0aXZlciBzb2JyZSB1bSBjYXJkLCBhbnRlcyBkZWxlOyBzZSBzb2JyZSBhIGxpc3RhLCBubyBmaW5hbFxuICAgIGxldCBpbnNlcnRJbmRleCA9IHRhcmdldExpc3RDYXJkcy5sZW5ndGg7XG4gICAgaWYgKCFvdmVySWQuc3RhcnRzV2l0aChcImxpc3Q6XCIpICYmICFvdmVySWQuc3RhcnRzV2l0aChcImNvbnRhaW5lcjpcIikpIHtcbiAgICAgIGNvbnN0IG92ZXJDYXJkSWQgPSBvdmVySWQuc3BsaXQoXCI6XCIpWzFdO1xuICAgICAgY29uc3QgaWR4ID0gdGFyZ2V0TGlzdENhcmRzLmZpbmRJbmRleCgoYykgPT4gYy5pZCA9PT0gb3ZlckNhcmRJZCk7XG4gICAgICBpZiAoaWR4ID49IDApIGluc2VydEluZGV4ID0gaWR4O1xuICAgIH1cbiAgICAvLyBjYWxjdWxhIHBvc2nDp8OjbyBub3ZhIHBlbGEgbcOpZGlhIGRvcyB2aXppbmhvc1xuICAgIGNvbnN0IHByZXZQb3MgPVxuICAgICAgaW5zZXJ0SW5kZXggPiAwID8gdGFyZ2V0TGlzdENhcmRzW2luc2VydEluZGV4IC0gMV0ucG9zaXRpb24gOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgbmV4dFBvcyA9XG4gICAgICBpbnNlcnRJbmRleCA8IHRhcmdldExpc3RDYXJkcy5sZW5ndGhcbiAgICAgICAgPyB0YXJnZXRMaXN0Q2FyZHNbaW5zZXJ0SW5kZXhdPy5wb3NpdGlvblxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBuZXdQb3MgPSBjb21wdXRlUG9zaXRpb24ocHJldlBvcywgbmV4dFBvcyk7XG5cbiAgICAvLyBVSSBvdGltaXN0YSBjb20gcG9zc2liaWxpZGFkZSBkZSByb2xsYmFja1xuICAgIGNvbnN0IHByZXZTdGF0ZSA9IGNhcmRzQnlMaXN0O1xuICAgIGNvbnN0IG5leHRTdGF0ZTogUmVjb3JkPHN0cmluZywgQ2FyZFtdPiA9IHt9O1xuICAgIGZvciAoY29uc3QgayBvZiBPYmplY3Qua2V5cyhwcmV2U3RhdGUpKVxuICAgICAgbmV4dFN0YXRlW2tdID0gWy4uLihwcmV2U3RhdGVba10gPz8gW10pXTtcbiAgICAvLyByZW1vdmUgZG8gYW50aWdvXG4gICAgZm9yIChjb25zdCBrIG9mIE9iamVjdC5rZXlzKG5leHRTdGF0ZSkpIHtcbiAgICAgIG5leHRTdGF0ZVtrXSA9IChuZXh0U3RhdGVba10gPz8gW10pLmZpbHRlcigoYykgPT4gYy5pZCAhPT0gY2FyZElkKTtcbiAgICB9XG4gICAgLy8gcGVnYSBkYWRvcyBkbyBjYXJkIHBhcmEgbWFudGVyIG1ldGFkYWRvc1xuICAgIGNvbnN0IG1vdmVkID0gKHByZXZTdGF0ZVtmcm9tTGlzdElkXSA/PyBbXSkuZmluZCgoYykgPT4gYy5pZCA9PT0gY2FyZElkKTtcbiAgICBpZiAoIW1vdmVkKSByZXR1cm47XG4gICAgY29uc3QgbmV3Q2FyZDogQ2FyZCA9IHsgLi4ubW92ZWQsIGxpc3RfaWQ6IHRvTGlzdElkLCBwb3NpdGlvbjogbmV3UG9zIH07XG4gICAgY29uc3QgYXJyID0gbmV4dFN0YXRlW3RvTGlzdElkXSA/PyBbXTtcbiAgICBhcnIuc3BsaWNlKGluc2VydEluZGV4LCAwLCBuZXdDYXJkKTtcbiAgICBuZXh0U3RhdGVbdG9MaXN0SWRdID0gYXJyO1xuICAgIHNldENhcmRzQnlMaXN0KG5leHRTdGF0ZSk7XG5cbiAgICAvLyBwZXJzaXN0w6puY2lhIHZpYSBBUEkgKHNlcnZpY2Ugcm9sZSkg4oCUIGV2aXRhIGJsb3F1ZWlvcyBkZSBSTFNcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBhdXRoRmV0Y2ggfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL2F1dGgtZmV0Y2hcIik7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBhdXRoRmV0Y2goXCIvYXBpL2NhcmRzL21vdmVcIiwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBpZDogY2FyZElkLFxuICAgICAgICAgIGxpc3RfaWQ6IHRvTGlzdElkLFxuICAgICAgICAgIHBvc2l0aW9uOiBuZXdQb3MsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG4gICAgICBpZiAoIXJlcy5vaykge1xuICAgICAgICAvLyByb2xsYmFjayBzZSBmYWxoYXJcbiAgICAgICAgc2V0Q2FyZHNCeUxpc3QocHJldlN0YXRlKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIHtcbiAgICAgIHNldENhcmRzQnlMaXN0KHByZXZTdGF0ZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTYgbXQtNCBoLWZ1bGwgZmxleCBmbGV4LWNvbCBnYXAtM1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctd2hpdGUvODAgYmFja2Ryb3AtYmx1ciBib3JkZXIgYm9yZGVyLW5ldXRyYWwtMjAwIHJvdW5kZWQteGwgcHgtMyBweS0yIHNoYWRvdy1zbVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICA8RmlsdGVyIHNpemU9ezE2fSAvPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bVwiPkZpbHRyb3M8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJib3JkZXIgcm91bmRlZCBweC0yIHB5LTEgdGV4dC1zbVwiXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkJ1c2NhciAodMOtdHVsbyBvdSBkZXNjcmnDp8OjbylcIlxuICAgICAgICAgICAgdmFsdWU9e2ZpbHRlcnMucXVlcnl9XG4gICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEZpbHRlcnMoKGYpID0+ICh7IC4uLmYsIHF1ZXJ5OiBlLnRhcmdldC52YWx1ZSB9KSl9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICByZWY9e2xhYmVsc0FuY2hvclJlZn1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTIgcHktMSB0ZXh0LXNtIHJvdW5kZWQgYm9yZGVyIGhvdmVyOmJnLW5ldXRyYWwtNTBcIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0TGFiZWxzT3Blbih0cnVlKX1cbiAgICAgICAgICAgIHRpdGxlPVwiRmlsdHJhciBwb3IgZXRpcXVldGFzXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICBFdGlxdWV0YXNcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8UG9wb3ZlclxuICAgICAgICAgICAgb3Blbj17bGFiZWxzT3Blbn1cbiAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldExhYmVsc09wZW4oZmFsc2UpfVxuICAgICAgICAgICAgYW5jaG9yUmVjdD17bGFiZWxzQW5jaG9yUmVmLmN1cnJlbnQ/LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpfVxuICAgICAgICAgICAgd2lkdGg9ezI2MH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMiBzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgcHgtMVwiPkV0aXF1ZXRhczwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC1oLTYwIG92ZXJmbG93LWF1dG8gcHItMVwiPlxuICAgICAgICAgICAgICAgIHtPYmplY3QudmFsdWVzKGxhYmVsc0luZGV4KS5sZW5ndGggPT09IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtbmV1dHJhbC01MDAgcHgtMSBweS0xXCI+TmVuaHVtYSBldGlxdWV0YTwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAge09iamVjdC52YWx1ZXMobGFiZWxzSW5kZXgpLm1hcCgobCkgPT4gKFxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGtleT17bC5pZH0gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcHgtMSBweS0xIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtmaWx0ZXJzLmxhYmVsSWRzLmluY2x1ZGVzKGwuaWQpfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0RmlsdGVycygoZikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXQgPSBuZXcgU2V0KGYubGFiZWxJZHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCkgc2V0LmFkZChsLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBzZXQuZGVsZXRlKGwuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5mLCBsYWJlbElkczogQXJyYXkuZnJvbShzZXQpIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImlubGluZS1ibG9jayBoLTMgdy02IHJvdW5kZWQtZnVsbCBib3JkZXJcIlxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogbC5jb2xvciB9fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0cnVuY2F0ZVwiPntsLm5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L1BvcG92ZXI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgcmVmPXttZW1iZXJzQW5jaG9yUmVmfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMiBweS0xIHRleHQtc20gcm91bmRlZCBib3JkZXIgaG92ZXI6YmctbmV1dHJhbC01MFwiXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRNZW1iZXJzT3Blbih0cnVlKX1cbiAgICAgICAgICAgIHRpdGxlPVwiRmlsdHJhciBwb3IgbWVtYnJvc1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgTWVtYnJvc1xuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxQb3BvdmVyXG4gICAgICAgICAgICBvcGVuPXttZW1iZXJzT3Blbn1cbiAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldE1lbWJlcnNPcGVuKGZhbHNlKX1cbiAgICAgICAgICAgIGFuY2hvclJlY3Q9e21lbWJlcnNBbmNob3JSZWYuY3VycmVudD8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCl9XG4gICAgICAgICAgICB3aWR0aD17MjYwfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0yIHNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZCBweC0xXCI+TWVtYnJvczwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC1oLTYwIG92ZXJmbG93LWF1dG8gcHItMVwiPlxuICAgICAgICAgICAgICAgIHthbGxNZW1iZXJzLmxlbmd0aCA9PT0gMCAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1uZXV0cmFsLTUwMCBweC0xIHB5LTFcIj5OZW5odW0gbWVtYnJvPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB7YWxsTWVtYmVycy5tYXAoKG0pID0+IChcbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBrZXk9e20uaWR9IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHB4LTEgcHktMSB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17ZmlsdGVycy5tZW1iZXJJZHMuaW5jbHVkZXMobS5pZCl9XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRGaWx0ZXJzKChmKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNldCA9IG5ldyBTZXQoZi5tZW1iZXJJZHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCkgc2V0LmFkZChtLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBzZXQuZGVsZXRlKG0uaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5mLCBtZW1iZXJJZHM6IEFycmF5LmZyb20oc2V0KSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidHJ1bmNhdGVcIj57bS5uYW1lID8/IG0uaWR9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L1BvcG92ZXI+XG4gICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYm9yZGVyIHJvdW5kZWQgcHgtMiBweS0xIHRleHQtc21cIlxuICAgICAgICAgICAgdmFsdWU9e2ZpbHRlcnMuZHVlfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRGaWx0ZXJzKChmKSA9PiAoeyAuLi5mLCBkdWU6IGUudGFyZ2V0LnZhbHVlIGFzIGFueSB9KSl9XG4gICAgICAgICAgICB0aXRsZT1cIlZlbmNpbWVudG9cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJhbGxcIj5Ub2RhcyBhcyBkYXRhczwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIm92ZXJkdWVcIj5BdHJhc2Fkb3M8L29wdGlvbj5cbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ0b2RheVwiPkhvamU8L29wdGlvbj5cbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ3ZWVrXCI+UHLDs3hpbW9zIDcgZGlhczwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIm5vbmVcIj5TZW0gZGF0YTwvb3B0aW9uPlxuICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRGaWx0ZXJzKHsgcXVlcnk6IFwiXCIsIGxhYmVsSWRzOiBbXSwgbWVtYmVySWRzOiBbXSwgZHVlOiBcImFsbFwiIH0pfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIExpbXBhclxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTQgb3ZlcmZsb3cteC1hdXRvIG92ZXJmbG93LXktaGlkZGVuIHBiLTYgaC1mdWxsXCI+XG4gICAgICA8RG5kQ29udGV4dFxuICAgICAgICBzZW5zb3JzPXtzZW5zb3JzfVxuICAgICAgICBjb2xsaXNpb25EZXRlY3Rpb249e2Nsb3Nlc3RDZW50ZXJ9XG4gICAgICAgIG9uRHJhZ1N0YXJ0PXtvbkRyYWdTdGFydH1cbiAgICAgICAgb25EcmFnT3Zlcj17b25EcmFnT3Zlcn1cbiAgICAgICAgb25EcmFnRW5kPXtvbkRyYWdFbmR9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBnYXAtNFwiPlxuICAgICAgICAgIDxTb3J0YWJsZUNvbnRleHRcbiAgICAgICAgICAgIGl0ZW1zPXtsaXN0cy5tYXAoKGwpID0+IGBjb250YWluZXI6JHtsLmlkfWApfVxuICAgICAgICAgICAgc3RyYXRlZ3k9e2hvcml6b250YWxMaXN0U29ydGluZ1N0cmF0ZWd5fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtsaXN0cy5tYXAoKGwpID0+IChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICB7ZHJhZ2dpbmdMaXN0SWQgJiYgb3Zlckxpc3RJZCA9PT0gbC5pZCAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctODAgbWluLXctWzIwcmVtXSByb3VuZGVkLXhsIGJvcmRlci0yIGJvcmRlci1kYXNoZWQgYm9yZGVyLXNreS00MDAgYmctc2t5LTEwMC80MCBzZWxmLXN0cmV0Y2ggdHJhbnNpdGlvbi1hbGxcIiAvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPEthbmJhbkxpc3RcbiAgICAgICAgICAgICAgICAgIGtleT17bC5pZH1cbiAgICAgICAgICAgICAgICAgIGxpc3Q9e2x9XG4gICAgICAgICAgICAgICAgICBib2FyZElkPXtib2FyZElkfVxuICAgICAgICAgICAgICAgICAgd29ya3NwYWNlSWQ9e3dvcmtzcGFjZUlkfVxuICAgICAgICAgICAgICAgICAgY2FyZHM9e1xuICAgICAgICAgICAgICAgICAgICAoY2FyZHNCeUxpc3RbbC5pZF0gPz8gW10pXG4gICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihjYXJkTWF0Y2hlc0ZpbHRlcnMpXG4gICAgICAgICAgICAgICAgICAgICAgLm1hcCgoYykgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAuLi5jLFxuICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbjogKCkgPT4gc2V0T3BlbkNhcmRJZChjLmlkKSxcbiAgICAgICAgICAgICAgICAgICAgICBtZW1iZXJzOiBtZW1iZXJzQnlDYXJkW2MuaWRdID8/IFtdLFxuICAgICAgICAgICAgICAgICAgICAgIGxhYmVsczogbGFiZWxzQnlDYXJkW2MuaWRdID8/IFtdLFxuICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRzQ291bnQ6IGF0dGFjaG1lbnRzQ291bnRCeUNhcmRbYy5pZF0gPz8gMCxcbiAgICAgICAgICAgICAgICAgICAgICBjb21tZW50c0NvdW50OiBjb21tZW50c0NvdW50QnlDYXJkW2MuaWRdID8/IDAsXG4gICAgICAgICAgICAgICAgICAgIH0pKSBhcyBhbnlcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVySW5kZXg9e2NhcmRQbGFjZWhvbGRlciAmJiBjYXJkUGxhY2Vob2xkZXIubGlzdElkID09PSBsLmlkID8gY2FyZFBsYWNlaG9sZGVyLmluZGV4IDogbnVsbH1cbiAgICAgICAgICAgICAgICAgIG9uQWRkQ2FyZD17KHRpdGxlKSA9PiBhZGRDYXJkKGwuaWQsIHRpdGxlKX1cbiAgICAgICAgICAgICAgICAgIGFsbExpc3RzPXtsaXN0c31cbiAgICAgICAgICAgICAgICAgIG9uTW92ZUxpc3Q9e2FzeW5jIChkaXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4ID0gbGlzdHMuZmluZEluZGV4KCh4KSA9PiB4LmlkID09PSBsLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3dhcElkeCA9IGRpciA9PT0gXCJsZWZ0XCIgPyBpZHggLSAxIDogaWR4ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN3YXBJZHggPCAwIHx8IHN3YXBJZHggPj0gbGlzdHMubGVuZ3RoKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGEgPSBsaXN0c1tpZHhdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBiID0gbGlzdHNbc3dhcElkeF07XG4gICAgICAgICAgICAgICAgICAgIC8vIFVJIG90aW1pc3RhXG4gICAgICAgICAgICAgICAgICAgIHNldExpc3RzKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29weSA9IFsuLi5wcmV2XTtcbiAgICAgICAgICAgICAgICAgICAgICBjb3B5W2lkeF0gPSBiO1xuICAgICAgICAgICAgICAgICAgICAgIGNvcHlbc3dhcElkeF0gPSBhO1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb3B5O1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdHJvY2EgcG9zacOnw7VlcyBubyBiYW5jb1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgc3VwYWJhc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC5mcm9tKFwibGlzdHNcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC51cGRhdGUoeyBwb3NpdGlvbjogYi5wb3NpdGlvbiB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmVxKFwiaWRcIiwgYS5pZCksXG4gICAgICAgICAgICAgICAgICAgICAgc3VwYWJhc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC5mcm9tKFwibGlzdHNcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC51cGRhdGUoeyBwb3NpdGlvbjogYS5wb3NpdGlvbiB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmVxKFwiaWRcIiwgYi5pZCksXG4gICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIG9uQ29weUxpc3Q9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgZmV0Y2goXCIvYXBpL2xpc3RzL2NvcHlcIiwge1xuICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RfaWQ6IGwuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRfYm9hcmRfaWQ6IGJvYXJkSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBgJHtsLm5hbWV9IChDw7NwaWEpYCxcbiAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgb25Nb3ZlTGlzdFRvPXthc3luYyAoXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldEJvYXJkSWQ6IHN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25JbmRleDogbnVtYmVyXG4gICAgICAgICAgICAgICAgICApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVUkgb3RpbWlzdGFcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldkxpc3RzID0gbGlzdHM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZDYXJkc0J5TGlzdCA9IGNhcmRzQnlMaXN0O1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRCb2FyZElkID09PSBib2FyZElkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtb3ZlciBkZW50cm8gZG8gbWVzbW8gcXVhZHJvOiByZW9yZGVuYXIgbG9jYWxtZW50ZSBwZWxvIMOtbmRpY2UgZXNjb2xoaWRvXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmcm9tSWR4ID0gbGlzdHMuZmluZEluZGV4KCh4KSA9PiB4LmlkID09PSBsLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvSWR4ID0gTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KHBvc2l0aW9uSW5kZXggLSAxLCAwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdHMubGVuZ3RoIC0gMVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmcm9tSWR4ICE9PSAtMSAmJiB0b0lkeCAhPT0gZnJvbUlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gWy4uLmxpc3RzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgW21vdmVkXSA9IG5leHQuc3BsaWNlKGZyb21JZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0LnNwbGljZSh0b0lkeCwgMCwgbW92ZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRMaXN0cyhuZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbW92ZXIgcGFyYSBvdXRybyBxdWFkcm86IHJlbW92ZSBsb2NhbG1lbnRlXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRMaXN0cygocHJldikgPT4gcHJldi5maWx0ZXIoKHgpID0+IHguaWQgIT09IGwuaWQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgW2wuaWRdOiBfcmVtb3ZlZCwgLi4ucmVzdCB9ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZHNCeUxpc3QgYXMgYW55O1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2FyZHNCeUxpc3QocmVzdCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIC8vIHBlcnNpc3RpciBubyBzZXJ2aWRvclxuICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGZldGNoKFwiL2FwaS9saXN0cy9tb3ZlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RfaWQ6IGwuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldF9ib2FyZF9pZDogdGFyZ2V0Qm9hcmRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25JbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyByb2xsYmFja1xuICAgICAgICAgICAgICAgICAgICAgIHNldExpc3RzKHByZXZMaXN0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0Q2FyZHNCeUxpc3QocHJldkNhcmRzQnlMaXN0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIG9uTW92ZUFsbENhcmRzPXthc3luYyAodGFyZ2V0TGlzdElkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyb21DYXJkcyA9IChjYXJkc0J5TGlzdFtsLmlkXSA/PyBbXSlcbiAgICAgICAgICAgICAgICAgICAgICAuc2xpY2UoKVxuICAgICAgICAgICAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBhLnBvc2l0aW9uIC0gYi5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIC8vIFVJIG90aW1pc3RhXG4gICAgICAgICAgICAgICAgICAgIHNldENhcmRzQnlMaXN0KChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29weTogUmVjb3JkPHN0cmluZywgQ2FyZFtdPiA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgayBvZiBPYmplY3Qua2V5cyhwcmV2KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcHlba10gPSBbLi4uKHByZXZba10gPz8gW10pXTtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb3ZpbmcgPSBjb3B5W2wuaWRdID8/IFtdO1xuICAgICAgICAgICAgICAgICAgICAgIGNvcHlbdGFyZ2V0TGlzdElkXSA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLihjb3B5W3RhcmdldExpc3RJZF0gPz8gW10pLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4ubW92aW5nLm1hcCgoYywgaSkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdF9pZDogdGFyZ2V0TGlzdElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogKGkgKyAxKSAqIDEwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgIGNvcHlbbC5pZF0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29weTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZnJvbUNhcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC5mcm9tKFwiY2FyZHNcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC51cGRhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0X2lkOiB0YXJnZXRMaXN0SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAoaSArIDEpICogMTAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5lcShcImlkXCIsIGZyb21DYXJkc1tpXS5pZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBvblNvcnRMaXN0PXthc3luYyAobW9kZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXJkcyA9IChjYXJkc0J5TGlzdFtsLmlkXSA/PyBbXSkuc2xpY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGUgPT09IFwiY3JlYXRlZFwiIHx8IG1vZGUgPT09IFwiY3JlYXRlZF9kZXNjXCIpXG4gICAgICAgICAgICAgICAgICAgICAgY2FyZHMuc29ydCgoYTogYW55LCBiOiBhbnkpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlID09PSBcImNyZWF0ZWRfZGVzY1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gbmV3IERhdGUoYi5jcmVhdGVkX2F0KS5nZXRUaW1lKCkgLVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBEYXRlKGEuY3JlYXRlZF9hdCkuZ2V0VGltZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogbmV3IERhdGUoYS5jcmVhdGVkX2F0KS5nZXRUaW1lKCkgLVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBEYXRlKGIuY3JlYXRlZF9hdCkuZ2V0VGltZSgpXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGUgPT09IFwiZHVlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgY2FyZHMuc29ydChcbiAgICAgICAgICAgICAgICAgICAgICAgIChhOiBhbnksIGI6IGFueSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKGEuZHVlX2RhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG5ldyBEYXRlKGEuZHVlX2RhdGUpLmdldFRpbWUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogSW5maW5pdHkpIC1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKGIuZHVlX2RhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG5ldyBEYXRlKGIuZHVlX2RhdGUpLmdldFRpbWUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogSW5maW5pdHkpXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGUgPT09IFwiYWxwaGFcIilcbiAgICAgICAgICAgICAgICAgICAgICBjYXJkcy5zb3J0KChhOiBhbnksIGI6IGFueSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIChhLnRpdGxlIHx8IFwiXCIpLmxvY2FsZUNvbXBhcmUoYi50aXRsZSB8fCBcIlwiLCBcInB0LUJSXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vuc2l0aXZpdHk6IFwiYmFzZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAvLyBVSSBvdGltaXN0YVxuICAgICAgICAgICAgICAgICAgICBzZXRDYXJkc0J5TGlzdCgocHJldikgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgICAgICAgICAgIFtsLmlkXTogY2FyZHMubWFwKChjLCBpKSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uYyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAoaSArIDEpICogMTAwLFxuICAgICAgICAgICAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAvLyBwZXJzaXN0aXJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjYXJkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAuZnJvbShcImNhcmRzXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAudXBkYXRlKHsgcG9zaXRpb246IChpICsgMSkgKiAxMDAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5lcShcImlkXCIsIGNhcmRzW2ldLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIG9uQXJjaGl2ZUxpc3Q9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb25maXJtKFwiQXJxdWl2YXIgZXN0YSBsaXN0YSBlIHNldXMgY2FydMO1ZXM/XCIpKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBjYXJ0w7VlcyBwcmltZWlyb1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXJkcyA9IGNhcmRzQnlMaXN0W2wuaWRdID8/IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGMgb2YgY2FyZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdXBhYmFzZS5mcm9tKFwiY2FyZHNcIikuZGVsZXRlKCkuZXEoXCJpZFwiLCBjLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBVSSBvdGltaXN0YTogcmVtb3ZlIGEgbGlzdGEgbG9jYWxtZW50ZVxuICAgICAgICAgICAgICAgICAgICBzZXRMaXN0cygocHJldikgPT4gcHJldi5maWx0ZXIoKHgpID0+IHguaWQgIT09IGwuaWQpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBbbC5pZF06IF9yZW1vdmVkLCAuLi5yZXN0IH0gPSBjYXJkc0J5TGlzdCBhcyBhbnk7XG4gICAgICAgICAgICAgICAgICAgIHNldENhcmRzQnlMaXN0KHJlc3QpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdXBhYmFzZS5mcm9tKFwibGlzdHNcIikuZGVsZXRlKCkuZXEoXCJpZFwiLCBsLmlkKTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBvbkFyY2hpdmVBbGxDYXJkcz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXJkcyA9IChjYXJkc0J5TGlzdFtsLmlkXSA/PyBbXSkuc2xpY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVUkgb3RpbWlzdGE6IGVzdmF6aWEgYSBsaXN0YSBsb2NhbFxuICAgICAgICAgICAgICAgICAgICBzZXRDYXJkc0J5TGlzdCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvcHkgPSB7IC4uLnByZXYgfTtcbiAgICAgICAgICAgICAgICAgICAgICBjb3B5W2wuaWRdID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvcHk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAvLyBwZXJzaXN0aXI6IHNvZnQgZGVsZXRlIChhcnF1aXZhcilcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWRzID0gY2FyZHMubWFwKChjKSA9PiBjLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlkcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC5mcm9tKFwiY2FyZHNcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC51cGRhdGUoeyBhcmNoaXZlZF9hdDogbm93IH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuaW4oXCJpZFwiLCBpZHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9Tb3J0YWJsZUNvbnRleHQ+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17YWRkTGlzdH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctODAgbWluLXctWzIwcmVtXSBoLWZpdCBiZy13aGl0ZS84MCBiYWNrZHJvcC1ibHVyIGJvcmRlciBib3JkZXItZGFzaGVkIGJvcmRlci1uZXV0cmFsLTMwMCBob3Zlcjpib3JkZXItbmV1dHJhbC00MDAgaG92ZXI6Ymctd2hpdGUgdHJhbnNpdGlvbiByb3VuZGVkLXhsIHAtNCB0ZXh0LWxlZnQgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxQbHVzIHNpemU9ezE4fSAvPlxuICAgICAgICAgICAgPHNwYW4+Tm92YSBsaXN0YTwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxEcmFnT3ZlcmxheT5cbiAgICAgICAgICB7YWN0aXZlRHJhZ0lkPy5zdGFydHNXaXRoKFwiY29udGFpbmVyOlwiKSA/IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy04MCBwb2ludGVyLWV2ZW50cy1ub25lXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZC14bCBib3JkZXIgYmctd2hpdGUgc2hhZG93LWxnXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcHgtMyBweS0yIGJvcmRlci1iXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+TW92ZXIgbGlzdGE8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMyB0ZXh0LXNtIHRleHQtbmV1dHJhbC01MDBcIj4uLi48L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApIDogYWN0aXZlT3ZlcmxheSA/IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy04MCBwb2ludGVyLWV2ZW50cy1ub25lXCI+XG4gICAgICAgICAgICAgIDxLYW5iYW5DYXJkXG4gICAgICAgICAgICAgICAgY2FyZD17YWN0aXZlT3ZlcmxheS5jYXJkIGFzIGFueX1cbiAgICAgICAgICAgICAgICBsaXN0SWQ9e2FjdGl2ZU92ZXJsYXkubGlzdElkfVxuICAgICAgICAgICAgICAgIGR1ZVNvb25UaHJlc2hvbGRNaW51dGVzPXtzZXR0aW5ncy5kdWVfc29vbl90aHJlc2hvbGRfbWludXRlc31cbiAgICAgICAgICAgICAgICBpc092ZXJsYXlcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICA8L0RyYWdPdmVybGF5PlxuICAgICAgPC9EbmRDb250ZXh0PlxuICAgICAgPENhcmRNb2RhbFxuICAgICAgICBjYXJkSWQ9e29wZW5DYXJkSWQgPz8gXCJcIn1cbiAgICAgICAgYm9hcmRJZD17Ym9hcmRJZH1cbiAgICAgICAgb3Blbj17ISFvcGVuQ2FyZElkfVxuICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRPcGVuQ2FyZElkKG51bGwpfVxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJEbmRDb250ZXh0IiwiUG9pbnRlclNlbnNvciIsInVzZVNlbnNvciIsInVzZVNlbnNvcnMiLCJEcmFnT3ZlcmxheSIsImNsb3Nlc3RDZW50ZXIiLCJTb3J0YWJsZUNvbnRleHQiLCJob3Jpem9udGFsTGlzdFNvcnRpbmdTdHJhdGVneSIsInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VTdGF0ZSIsIkthbmJhbkxpc3QiLCJLYW5iYW5DYXJkIiwiZ2V0U3VwYWJhc2VCcm93c2VyQ2xpZW50IiwiUGx1cyIsIkZpbHRlciIsIkNhcmRNb2RhbCIsInNldENhY2hlZFNpZ25lZFVybCIsIlBvcG92ZXIiLCJCdXR0b24iLCJSZWFjdCIsIkthbmJhbkJvYXJkIiwiYm9hcmRJZCIsIndvcmtzcGFjZUlkIiwibGFiZWxzQW5jaG9yUmVmIiwibWVtYmVyc0FuY2hvclJlZiIsInN1cGFiYXNlIiwibGlzdHMiLCJzZXRMaXN0cyIsImNhcmRzQnlMaXN0Iiwic2V0Q2FyZHNCeUxpc3QiLCJzZW5zb3JzIiwiYWN0aXZhdGlvbkNvbnN0cmFpbnQiLCJkaXN0YW5jZSIsIm9wZW5DYXJkSWQiLCJzZXRPcGVuQ2FyZElkIiwibWVtYmVyc0J5Q2FyZCIsInNldE1lbWJlcnNCeUNhcmQiLCJsYWJlbHNJbmRleCIsInNldExhYmVsc0luZGV4IiwiYXR0YWNobWVudHNDb3VudEJ5Q2FyZCIsInNldEF0dGFjaG1lbnRzQ291bnRCeUNhcmQiLCJjb21tZW50c0NvdW50QnlDYXJkIiwic2V0Q29tbWVudHNDb3VudEJ5Q2FyZCIsInNldHRpbmdzIiwic2V0U2V0dGluZ3MiLCJhdXRvX3N0YXJ0X29uX2NyZWF0ZSIsImR1ZV9vZmZzZXRfbWludXRlcyIsImR1ZV9zb29uX3RocmVzaG9sZF9taW51dGVzIiwibGFiZWxzQnlDYXJkIiwic2V0TGFiZWxzQnlDYXJkIiwiYWN0aXZlRHJhZ0lkIiwic2V0QWN0aXZlRHJhZ0lkIiwib3Zlckxpc3RJZCIsInNldE92ZXJMaXN0SWQiLCJkcmFnZ2luZ0xpc3RJZCIsInNldERyYWdnaW5nTGlzdElkIiwiY2FyZFBsYWNlaG9sZGVyIiwic2V0Q2FyZFBsYWNlaG9sZGVyIiwiYWN0aXZlT3ZlcmxheSIsImxJZCIsImNJZCIsInNwbGl0IiwiYXJyIiwiYmFzZSIsImZpbmQiLCJjIiwiaWQiLCJsaXN0SWQiLCJjYXJkIiwibWVtYmVycyIsImxhYmVscyIsImF0dGFjaG1lbnRzQ291bnQiLCJjb21tZW50c0NvdW50IiwibW91bnRlZCIsImRhdGEiLCJscyIsImZyb20iLCJzZWxlY3QiLCJlcSIsIm9yZGVyIiwiYXNjZW5kaW5nIiwiY3MiLCJpcyIsIm1hcCIsImwiLCJmaWx0ZXIiLCJsaXN0X2lkIiwiY292ZXJQYXRocyIsImNvdmVyX3BhdGgiLCJCb29sZWFuIiwibGVuZ3RoIiwiUHJvbWlzZSIsImFsbCIsInAiLCJvbmUiLCJzdG9yYWdlIiwiY3JlYXRlU2lnbmVkVXJsIiwic2lnbmVkVXJsIiwiY2FyZElkcyIsImNtIiwiaW4iLCJ1c2VySWRzIiwiQXJyYXkiLCJTZXQiLCJtIiwidXNlcl9pZCIsInByb2ZpbGVzIiwicE1hcCIsIk1hcCIsImJ5Q2FyZCIsImNhcmRfaWQiLCJwcm9mIiwiZ2V0IiwicHVzaCIsIm5hbWUiLCJkaXNwbGF5X25hbWUiLCJhdmF0YXJfdXJsIiwiYXV0aEZldGNoIiwicmVzIiwianNvbiIsImV4dHJhcyIsInByb2ZpbGUiLCJwcmV2IiwiY29weSIsImFsbExhYmVscyIsImNhcmRMYWJlbHMiLCJsYWJlbE1hcCIsIk9iamVjdCIsImZyb21FbnRyaWVzIiwiY29sb3IiLCJieUNhcmRMYWJlbHMiLCJjbCIsImxhYiIsImxhYmVsX2lkIiwiYXR0cyIsImNvdW50TWFwIiwiYSIsImNtcyIsImNDb3VudCIsInN0IiwibWF5YmVTaW5nbGUiLCJjaGFubmVsIiwib24iLCJldmVudCIsInNjaGVtYSIsInRhYmxlIiwicGF5bG9hZCIsImV2ZW50VHlwZSIsIm5ldyIsInNvcnQiLCJiIiwicG9zaXRpb24iLCJvbGQiLCJ1cGRhdGVkIiwiYXJjaGl2ZWRfYXQiLCJrZXkiLCJrZXlzIiwic3Vic2NyaWJlIiwiY2hhbm5lbDIiLCJjYXJkSWQiLCJleGlzdHMiLCJ2YWx1ZXMiLCJzb21lIiwiY2hhbm5lbDMiLCJNYXRoIiwibWF4IiwiY2hhbm5lbDQiLCJjaGFubmVsNSIsInVzZXJJZCIsInJlbW92ZUNoYW5uZWwiLCJvblJlZnJlc2hNZXRhIiwiZSIsImRldGFpbCIsImNscyIsImxhYnMiLCJ4IiwiY291bnQiLCJoZWFkIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhZGRMaXN0IiwicHJvbXB0IiwidHJpbSIsIm1heFBvcyIsImluc2VydCIsImJvYXJkX2lkIiwiYWRkQ2FyZCIsInRpdGxlIiwidCIsImNhcmRzIiwibm93IiwiRGF0ZSIsInN0YXJ0X2RhdGUiLCJ0b0lTT1N0cmluZyIsImR1ZV9kYXRlIiwiZ2V0VGltZSIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImRlc2NyaXB0aW9uIiwiZmlsdGVycyIsInNldEZpbHRlcnMiLCJxdWVyeSIsImxhYmVsSWRzIiwibWVtYmVySWRzIiwiZHVlIiwidXNlUmVmIiwibGFiZWxzT3BlbiIsInNldExhYmVsc09wZW4iLCJtZW1iZXJzT3BlbiIsInNldE1lbWJlcnNPcGVuIiwiYWxsTWVtYmVycyIsImhhcyIsInNldCIsImNhcmRNYXRjaGVzRmlsdGVycyIsInEiLCJ0b0xvd2VyQ2FzZSIsImRlc2MiLCJpbmNsdWRlcyIsImxhYlNldCIsIm1hdGNoIiwibXMiLCJtU2V0IiwiZCIsInN0YXJ0T2ZUb2RheSIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwiZW5kT2ZUb2RheSIsImluNyIsImZpbmRDYXJkTG9jYXRpb24iLCJpIiwiaWR4IiwiZmluZEluZGV4IiwibGlzdEluZGV4IiwiY2FyZEluZGV4IiwiY29tcHV0ZVBvc2l0aW9uIiwibmV4dCIsIm9uRHJhZ1N0YXJ0IiwiU3RyaW5nIiwiYWN0aXZlIiwic3RhcnRzV2l0aCIsInJlcGxhY2UiLCJvbkRyYWdPdmVyIiwib3ZlcklkIiwib3ZlciIsImFjdGl2ZUlkIiwidG9MaXN0SWQiLCJhY3RpdmVQYXJ0cyIsInRhcmdldENhcmRzIiwiaW5zZXJ0SW5kZXgiLCJvdmVyQ2FyZElkIiwiaW5kZXgiLCJvbkRyYWdFbmQiLCJ0YXJnZXRMaXN0Q2FyZHMiLCJmcm9tTGlzdElkIiwiZnJvbUluZGV4IiwidG9JbmRleCIsIm1vdmVkIiwic3BsaWNlIiwicHJldlBvcyIsInVuZGVmaW5lZCIsIm5leHRQb3MiLCJuZXdQb3MiLCJ1cGRhdGUiLCJwcmV2U3RhdGUiLCJuZXh0U3RhdGUiLCJrIiwibmV3Q2FyZCIsIm9rIiwiZGl2IiwiY2xhc3NOYW1lIiwic2l6ZSIsInNwYW4iLCJpbnB1dCIsInBsYWNlaG9sZGVyIiwidmFsdWUiLCJvbkNoYW5nZSIsImYiLCJ0YXJnZXQiLCJidXR0b24iLCJyZWYiLCJvbkNsaWNrIiwib3BlbiIsIm9uQ2xvc2UiLCJhbmNob3JSZWN0IiwiY3VycmVudCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIndpZHRoIiwibGFiZWwiLCJ0eXBlIiwiY2hlY2tlZCIsImFkZCIsImRlbGV0ZSIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwib3B0aW9uIiwidmFyaWFudCIsImNvbGxpc2lvbkRldGVjdGlvbiIsIml0ZW1zIiwic3RyYXRlZ3kiLCJsaXN0Iiwib25PcGVuIiwicGxhY2Vob2xkZXJJbmRleCIsIm9uQWRkQ2FyZCIsImFsbExpc3RzIiwib25Nb3ZlTGlzdCIsImRpciIsInN3YXBJZHgiLCJvbkNvcHlMaXN0IiwiZmV0Y2giLCJ0YXJnZXRfYm9hcmRfaWQiLCJvbk1vdmVMaXN0VG8iLCJ0YXJnZXRCb2FyZElkIiwicG9zaXRpb25JbmRleCIsInByZXZMaXN0cyIsInByZXZDYXJkc0J5TGlzdCIsImZyb21JZHgiLCJ0b0lkeCIsIm1pbiIsIl9yZW1vdmVkIiwicmVzdCIsIm9uTW92ZUFsbENhcmRzIiwidGFyZ2V0TGlzdElkIiwiZnJvbUNhcmRzIiwic2xpY2UiLCJtb3ZpbmciLCJvblNvcnRMaXN0IiwibW9kZSIsImNyZWF0ZWRfYXQiLCJJbmZpbml0eSIsImxvY2FsZUNvbXBhcmUiLCJzZW5zaXRpdml0eSIsIm9uQXJjaGl2ZUxpc3QiLCJjb25maXJtIiwib25BcmNoaXZlQWxsQ2FyZHMiLCJpZHMiLCJkdWVTb29uVGhyZXNob2xkTWludXRlcyIsImlzT3ZlcmxheSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/KanbanBoard.tsx\n"));

/***/ })

});