"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/(app)/workspaces/[workspaceId]/boards/[boardId]/page",{

/***/ "(app-pages-browser)/./components/KanbanBoard.tsx":
/*!************************************!*\
  !*** ./components/KanbanBoard.tsx ***!
  \************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   KanbanBoard: function() { return /* binding */ KanbanBoard; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @dnd-kit/core */ \"(app-pages-browser)/./node_modules/@dnd-kit/core/dist/core.esm.js\");\n/* harmony import */ var _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @dnd-kit/sortable */ \"(app-pages-browser)/./node_modules/@dnd-kit/sortable/dist/sortable.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _KanbanList__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./KanbanList */ \"(app-pages-browser)/./components/KanbanList.tsx\");\n/* harmony import */ var _KanbanCard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./KanbanCard */ \"(app-pages-browser)/./components/KanbanCard.tsx\");\n/* harmony import */ var _lib_supabase_client__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/supabase-client */ \"(app-pages-browser)/./lib/supabase-client.ts\");\n/* harmony import */ var _barrel_optimize_names_Filter_Plus_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=Filter,Plus!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/filter.js\");\n/* harmony import */ var _barrel_optimize_names_Filter_Plus_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=Filter,Plus!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/plus.js\");\n/* harmony import */ var _components_card_CardModal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/card/CardModal */ \"(app-pages-browser)/./components/card/CardModal.tsx\");\n/* harmony import */ var _lib_storage_url_cache__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/lib/storage-url-cache */ \"(app-pages-browser)/./lib/storage-url-cache.ts\");\n/* harmony import */ var _components_ui_Popover__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/ui/Popover */ \"(app-pages-browser)/./components/ui/Popover.tsx\");\n/* harmony import */ var _components_ui_Button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/ui/Button */ \"(app-pages-browser)/./components/ui/Button.tsx\");\n/* __next_internal_client_entry_do_not_use__ KanbanBoard auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\nfunction KanbanBoard(param) {\n    let { boardId, workspaceId } = param;\n    var _labelsAnchorRef_current, _membersAnchorRef_current;\n    _s();\n    const supabase = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(()=>(0,_lib_supabase_client__WEBPACK_IMPORTED_MODULE_6__.getSupabaseBrowserClient)(), []);\n    const [lists, setLists] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);\n    const [cardsByList, setCardsByList] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({});\n    const sensors = (0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.useSensors)((0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.useSensor)(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.PointerSensor, {\n        activationConstraint: {\n            distance: 3\n        }\n    }));\n    const [openCardId, setOpenCardId] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [membersByCard, setMembersByCard] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({});\n    const [labelsIndex, setLabelsIndex] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({});\n    const [attachmentsCountByCard, setAttachmentsCountByCard] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({});\n    const [commentsCountByCard, setCommentsCountByCard] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({});\n    const [settings, setSettings] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({\n        auto_start_on_create: false,\n        due_offset_minutes: 0,\n        due_soon_threshold_minutes: 1440\n    });\n    const [labelsByCard, setLabelsByCard] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({});\n    const [activeDragId, setActiveDragId] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [overListId, setOverListId] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [draggingListId, setDraggingListId] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const activeOverlay = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(()=>{\n        if (!activeDragId) return null;\n        const [lId, cId] = activeDragId.split(\":\");\n        var _cardsByList_lId;\n        const arr = (_cardsByList_lId = cardsByList[lId]) !== null && _cardsByList_lId !== void 0 ? _cardsByList_lId : [];\n        const base = arr.find((c)=>c.id === cId);\n        if (!base) return null;\n        var _membersByCard_base_id, _labelsByCard_base_id, _attachmentsCountByCard_base_id, _commentsCountByCard_base_id;\n        return {\n            listId: lId,\n            card: {\n                ...base,\n                members: (_membersByCard_base_id = membersByCard[base.id]) !== null && _membersByCard_base_id !== void 0 ? _membersByCard_base_id : [],\n                labels: (_labelsByCard_base_id = labelsByCard[base.id]) !== null && _labelsByCard_base_id !== void 0 ? _labelsByCard_base_id : [],\n                attachmentsCount: (_attachmentsCountByCard_base_id = attachmentsCountByCard[base.id]) !== null && _attachmentsCountByCard_base_id !== void 0 ? _attachmentsCountByCard_base_id : 0,\n                commentsCount: (_commentsCountByCard_base_id = commentsCountByCard[base.id]) !== null && _commentsCountByCard_base_id !== void 0 ? _commentsCountByCard_base_id : 0\n            }\n        };\n    }, [\n        activeDragId,\n        cardsByList,\n        membersByCard,\n        labelsByCard,\n        attachmentsCountByCard,\n        commentsCountByCard\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{\n        let mounted = true;\n        (async ()=>{\n            const { data: ls } = await supabase.from(\"lists\").select(\"*\").eq(\"board_id\", boardId).order(\"position\", {\n                ascending: true\n            });\n            const { data: cs } = await supabase.from(\"cards\").select(\"*\").eq(\"board_id\", boardId).is(\"archived_at\", null).order(\"position\", {\n                ascending: true\n            });\n            if (!mounted) return;\n            setLists(ls !== null && ls !== void 0 ? ls : []);\n            const map = {};\n            for (const l of ls !== null && ls !== void 0 ? ls : []){\n                map[l.id] = (cs !== null && cs !== void 0 ? cs : []).filter((c)=>c.list_id === l.id);\n            }\n            setCardsByList(map);\n            // Prefetch das capas para evitar latência ao abrir modal\n            const coverPaths = (cs !== null && cs !== void 0 ? cs : []).map((c)=>c.cover_path).filter(Boolean);\n            if (coverPaths.length) {\n                try {\n                    await Promise.all(coverPaths.map(async (p)=>{\n                        const { data: one } = await supabase.storage.from(\"attachments\").createSignedUrl(p, 60 * 10);\n                        if (one === null || one === void 0 ? void 0 : one.signedUrl) {\n                            (0,_lib_storage_url_cache__WEBPACK_IMPORTED_MODULE_8__.setCachedSignedUrl)(p, one.signedUrl, 600);\n                        }\n                    }));\n                } catch (e) {}\n            }\n            // fetch members for all cards\n            const cardIds = (cs !== null && cs !== void 0 ? cs : []).map((c)=>c.id);\n            if (cardIds.length) {\n                const { data: cm } = await supabase.from(\"card_members\").select(\"*\").in(\"card_id\", cardIds);\n                const userIds = Array.from(new Set((cm !== null && cm !== void 0 ? cm : []).map((m)=>m.user_id)));\n                const { data: profiles } = await supabase.from(\"user_profiles\").select(\"*\").in(\"id\", userIds);\n                const pMap = new Map((profiles !== null && profiles !== void 0 ? profiles : []).map((p)=>[\n                        p.id,\n                        p\n                    ]));\n                const byCard = {};\n                for (const c of cm !== null && cm !== void 0 ? cm : []){\n                    var _byCard_c_card_id;\n                    byCard[c.card_id] = (_byCard_c_card_id = byCard[c.card_id]) !== null && _byCard_c_card_id !== void 0 ? _byCard_c_card_id : [];\n                    const prof = pMap.get(c.user_id);\n                    var _prof_display_name, _prof_avatar_url;\n                    byCard[c.card_id].push({\n                        id: c.user_id,\n                        name: (_prof_display_name = prof === null || prof === void 0 ? void 0 : prof.display_name) !== null && _prof_display_name !== void 0 ? _prof_display_name : null,\n                        avatar_url: (_prof_avatar_url = prof === null || prof === void 0 ? void 0 : prof.avatar_url) !== null && _prof_avatar_url !== void 0 ? _prof_avatar_url : null\n                    });\n                }\n                setMembersByCard(byCard);\n            }\n            // Carrega membros do workspace para popular filtro mesmo sem atribuição\n            try {\n                const { data: wsms } = await supabase.from(\"workspace_members\").select(\"user_id\").eq(\"workspace_id\", workspaceId);\n                const wsUserIds = Array.from(new Set((wsms !== null && wsms !== void 0 ? wsms : []).map((x)=>x.user_id)));\n                if (wsUserIds.length) {\n                    const { data: wsProfiles } = await supabase.from(\"user_profiles\").select(\"id, display_name\").in(\"id\", wsUserIds);\n                    const extras = (wsProfiles !== null && wsProfiles !== void 0 ? wsProfiles : []).map((p)=>{\n                        var _p_display_name;\n                        return {\n                            id: p.id,\n                            name: (_p_display_name = p.display_name) !== null && _p_display_name !== void 0 ? _p_display_name : null\n                        };\n                    });\n                    // mescla nos membersByCard virtuais para aparecer no filtro\n                    setMembersByCard((prev)=>{\n                        const copy = {\n                            ...prev\n                        };\n                        copy[\"_workspace_members\"] = extras;\n                        return copy;\n                    });\n                }\n            } catch (e) {}\n            // fetch labels for all cards\n            const { data: allLabels } = await supabase.from(\"labels\").select(\"*\").eq(\"board_id\", boardId);\n            const { data: cardLabels } = await supabase.from(\"card_labels\").select(\"*\").in(\"card_id\", cardIds);\n            const labelMap = new Map((allLabels !== null && allLabels !== void 0 ? allLabels : []).map((l)=>[\n                    l.id,\n                    l\n                ]));\n            setLabelsIndex(Object.fromEntries((allLabels !== null && allLabels !== void 0 ? allLabels : []).map((l)=>[\n                    l.id,\n                    {\n                        id: l.id,\n                        name: l.name,\n                        color: l.color\n                    }\n                ])));\n            const byCardLabels = {};\n            for (const cl of cardLabels !== null && cardLabels !== void 0 ? cardLabels : []){\n                const lab = labelMap.get(cl.label_id);\n                if (!lab) continue;\n                var _byCardLabels_cl_card_id;\n                byCardLabels[cl.card_id] = (_byCardLabels_cl_card_id = byCardLabels[cl.card_id]) !== null && _byCardLabels_cl_card_id !== void 0 ? _byCardLabels_cl_card_id : [];\n                byCardLabels[cl.card_id].push({\n                    id: lab.id,\n                    name: lab.name,\n                    color: lab.color\n                });\n            }\n            setLabelsByCard(byCardLabels);\n            // fetch attachments count per card\n            const { data: atts } = await supabase.from(\"attachments\").select(\"card_id\");\n            const countMap = {};\n            for (const a of atts !== null && atts !== void 0 ? atts : []){\n                var _countMap_a_card_id;\n                countMap[a.card_id] = ((_countMap_a_card_id = countMap[a.card_id]) !== null && _countMap_a_card_id !== void 0 ? _countMap_a_card_id : 0) + 1;\n            }\n            setAttachmentsCountByCard(countMap);\n            // fetch comments count per card\n            const { data: cms } = await supabase.from(\"card_comments\").select(\"card_id\");\n            const cCount = {};\n            for (const c of cms !== null && cms !== void 0 ? cms : []){\n                var _cCount_c_card_id;\n                cCount[c.card_id] = ((_cCount_c_card_id = cCount[c.card_id]) !== null && _cCount_c_card_id !== void 0 ? _cCount_c_card_id : 0) + 1;\n            }\n            setCommentsCountByCard(cCount);\n            // settings\n            const { data: st } = await supabase.from(\"board_settings\").select(\"*\").eq(\"board_id\", boardId).maybeSingle();\n            if (st) setSettings({\n                auto_start_on_create: st.auto_start_on_create,\n                due_offset_minutes: st.due_offset_minutes,\n                due_soon_threshold_minutes: st.due_soon_threshold_minutes\n            });\n        })();\n        return ()=>{\n            mounted = false;\n        };\n    }, [\n        boardId,\n        supabase\n    ]);\n    // Realtime\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{\n        const channel = supabase.channel(\"board:\".concat(boardId)).on(\"postgres_changes\", {\n            event: \"*\",\n            schema: \"public\",\n            table: \"lists\",\n            filter: \"board_id=eq.\".concat(boardId)\n        }, (payload)=>{\n            setLists((prev)=>{\n                if (payload.eventType === \"INSERT\") return [\n                    ...prev,\n                    payload.new\n                ].sort((a, b)=>a.position - b.position);\n                if (payload.eventType === \"UPDATE\") return prev.map((l)=>l.id === payload.new.id ? payload.new : l).sort((a, b)=>a.position - b.position);\n                if (payload.eventType === \"DELETE\") return prev.filter((l)=>l.id !== payload.old.id);\n                return prev;\n            });\n        }).on(\"postgres_changes\", {\n            event: \"*\",\n            schema: \"public\",\n            table: \"cards\",\n            filter: \"board_id=eq.\".concat(boardId)\n        }, (payload)=>{\n            setCardsByList((prev)=>{\n                const updated = {\n                    ...prev\n                };\n                if (payload.eventType === \"INSERT\") {\n                    var _payload_new;\n                    if ((_payload_new = payload.new) === null || _payload_new === void 0 ? void 0 : _payload_new.archived_at) return updated;\n                    const listId = payload.new.list_id;\n                    var _updated_listId;\n                    updated[listId] = [\n                        ...(_updated_listId = updated[listId]) !== null && _updated_listId !== void 0 ? _updated_listId : [],\n                        payload.new\n                    ].sort((a, b)=>a.position - b.position);\n                } else if (payload.eventType === \"UPDATE\") {\n                    var _payload_new1;\n                    // remove from old list if moved\n                    for (const key of Object.keys(updated)){\n                        var _updated_key;\n                        updated[key] = ((_updated_key = updated[key]) !== null && _updated_key !== void 0 ? _updated_key : []).filter((c)=>c.id !== payload.new.id);\n                    }\n                    if ((_payload_new1 = payload.new) === null || _payload_new1 === void 0 ? void 0 : _payload_new1.archived_at) {\n                        // arquivado: não reintroduzir\n                        return updated;\n                    }\n                    const listId = payload.new.list_id;\n                    var _updated_listId1;\n                    updated[listId] = [\n                        ...(_updated_listId1 = updated[listId]) !== null && _updated_listId1 !== void 0 ? _updated_listId1 : [],\n                        payload.new\n                    ].sort((a, b)=>a.position - b.position);\n                } else if (payload.eventType === \"DELETE\") {\n                    for (const key of Object.keys(updated)){\n                        var _updated_key1;\n                        updated[key] = ((_updated_key1 = updated[key]) !== null && _updated_key1 !== void 0 ? _updated_key1 : []).filter((c)=>c.id !== payload.old.id);\n                    }\n                }\n                return updated;\n            });\n        }).subscribe();\n        // card_labels realtime\n        const channel2 = supabase.channel(\"labels:\".concat(boardId)).on(\"postgres_changes\", {\n            event: \"*\",\n            schema: \"public\",\n            table: \"card_labels\"\n        }, (payload)=>{\n            var _payload_new, _payload_old;\n            var _payload_new_card_id;\n            const cardId = (_payload_new_card_id = (_payload_new = payload.new) === null || _payload_new === void 0 ? void 0 : _payload_new.card_id) !== null && _payload_new_card_id !== void 0 ? _payload_new_card_id : (_payload_old = payload.old) === null || _payload_old === void 0 ? void 0 : _payload_old.card_id;\n            // atualiza somente se o card existe neste board\n            const exists = Object.values(cardsByList).some((arr)=>(arr !== null && arr !== void 0 ? arr : []).some((c)=>c.id === cardId));\n            if (!exists) return;\n            setLabelsByCard((prev)=>{\n                const copy = {\n                    ...prev\n                };\n                if (payload.eventType === \"INSERT\") {\n                    const lab = labelsIndex[payload.new.label_id];\n                    if (lab) {\n                        var _copy_cardId;\n                        copy[cardId] = [\n                            ...(_copy_cardId = copy[cardId]) !== null && _copy_cardId !== void 0 ? _copy_cardId : [],\n                            lab\n                        ];\n                    }\n                } else if (payload.eventType === \"DELETE\") {\n                    var _copy_cardId1;\n                    copy[cardId] = ((_copy_cardId1 = copy[cardId]) !== null && _copy_cardId1 !== void 0 ? _copy_cardId1 : []).filter((l)=>l.id !== payload.old.label_id);\n                }\n                return copy;\n            });\n        }).subscribe();\n        // attachments realtime\n        const channel3 = supabase.channel(\"attachments:\".concat(boardId)).on(\"postgres_changes\", {\n            event: \"*\",\n            schema: \"public\",\n            table: \"attachments\"\n        }, (payload)=>{\n            var _payload_new, _payload_old;\n            var _payload_new_card_id;\n            const cardId = (_payload_new_card_id = (_payload_new = payload.new) === null || _payload_new === void 0 ? void 0 : _payload_new.card_id) !== null && _payload_new_card_id !== void 0 ? _payload_new_card_id : (_payload_old = payload.old) === null || _payload_old === void 0 ? void 0 : _payload_old.card_id;\n            setAttachmentsCountByCard((prev)=>{\n                const copy = {\n                    ...prev\n                };\n                if (payload.eventType === \"INSERT\") {\n                    var _copy_cardId;\n                    copy[cardId] = ((_copy_cardId = copy[cardId]) !== null && _copy_cardId !== void 0 ? _copy_cardId : 0) + 1;\n                } else if (payload.eventType === \"DELETE\") {\n                    var _copy_cardId1;\n                    copy[cardId] = Math.max(0, ((_copy_cardId1 = copy[cardId]) !== null && _copy_cardId1 !== void 0 ? _copy_cardId1 : 1) - 1);\n                }\n                return copy;\n            });\n        }).subscribe();\n        // comments realtime\n        const channel4 = supabase.channel(\"comments:\".concat(boardId)).on(\"postgres_changes\", {\n            event: \"*\",\n            schema: \"public\",\n            table: \"card_comments\"\n        }, (payload)=>{\n            var _payload_new, _payload_old;\n            var _payload_new_card_id;\n            const cardId = (_payload_new_card_id = (_payload_new = payload.new) === null || _payload_new === void 0 ? void 0 : _payload_new.card_id) !== null && _payload_new_card_id !== void 0 ? _payload_new_card_id : (_payload_old = payload.old) === null || _payload_old === void 0 ? void 0 : _payload_old.card_id;\n            setCommentsCountByCard((prev)=>{\n                const copy = {\n                    ...prev\n                };\n                var _copy_cardId, _copy_cardId1;\n                if (payload.eventType === \"INSERT\") copy[cardId] = ((_copy_cardId = copy[cardId]) !== null && _copy_cardId !== void 0 ? _copy_cardId : 0) + 1;\n                else if (payload.eventType === \"DELETE\") copy[cardId] = Math.max(0, ((_copy_cardId1 = copy[cardId]) !== null && _copy_cardId1 !== void 0 ? _copy_cardId1 : 1) - 1);\n                return copy;\n            });\n        }).subscribe();\n        return ()=>{\n            supabase.removeChannel(channel);\n            supabase.removeChannel(channel2);\n            supabase.removeChannel(channel3);\n            supabase.removeChannel(channel4);\n        };\n    }, [\n        boardId,\n        supabase,\n        cardsByList,\n        labelsIndex\n    ]);\n    // Listener opcional para forçar refresh de meta (labels/comentários) de um cartão\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{\n        async function onRefreshMeta(e) {\n            var _e_detail;\n            const cardId = e === null || e === void 0 ? void 0 : (_e_detail = e.detail) === null || _e_detail === void 0 ? void 0 : _e_detail.cardId;\n            if (!cardId) return;\n            const { data: cls } = await supabase.from(\"card_labels\").select(\"label_id\").eq(\"card_id\", cardId);\n            const labs = (cls !== null && cls !== void 0 ? cls : []).map((x)=>labelsIndex[x.label_id]).filter(Boolean);\n            setLabelsByCard((prev)=>({\n                    ...prev,\n                    [cardId]: labs\n                }));\n            const { count } = await supabase.from(\"card_comments\").select(\"*\", {\n                count: \"exact\",\n                head: true\n            }).eq(\"card_id\", cardId);\n            setCommentsCountByCard((prev)=>{\n                var _prev_cardId;\n                return {\n                    ...prev,\n                    [cardId]: typeof count === \"number\" ? count : (_prev_cardId = prev[cardId]) !== null && _prev_cardId !== void 0 ? _prev_cardId : 0\n                };\n            });\n        }\n        window.addEventListener(\"card:refresh-meta\", onRefreshMeta);\n        return ()=>window.removeEventListener(\"card:refresh-meta\", onRefreshMeta);\n    }, [\n        supabase,\n        labelsIndex\n    ]);\n    async function addList() {\n        var _prompt;\n        const name = (_prompt = prompt(\"Nome da lista:\")) === null || _prompt === void 0 ? void 0 : _prompt.trim();\n        if (!name) return;\n        const maxPos = lists.length ? Math.max(...lists.map((l)=>l.position)) : 0;\n        await supabase.from(\"lists\").insert({\n            name,\n            board_id: boardId,\n            position: maxPos + 100\n        });\n    }\n    async function addCard(listId, title) {\n        const t = title.trim();\n        if (!t) return;\n        var _cardsByList_listId;\n        const cards = (_cardsByList_listId = cardsByList[listId]) !== null && _cardsByList_listId !== void 0 ? _cardsByList_listId : [];\n        const maxPos = cards.length ? Math.max(...cards.map((c)=>c.position)) : 0;\n        const now = new Date();\n        const start_date = settings.auto_start_on_create ? now.toISOString() : null;\n        const due_date = settings.due_offset_minutes > 0 ? new Date(now.getTime() + settings.due_offset_minutes * 60000).toISOString() : null;\n        await fetch(\"/api/cards\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                title: t,\n                board_id: boardId,\n                list_id: listId,\n                position: maxPos + 100,\n                description: null,\n                due_date\n            })\n        });\n    }\n    // Filtros do quadro\n    const [filters, setFilters] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({\n        query: \"\",\n        labelIds: [],\n        memberIds: [],\n        due: \"all\"\n    });\n    const labelsAnchorRef = react__WEBPACK_IMPORTED_MODULE_3__.useRef(null);\n    const membersAnchorRef = react__WEBPACK_IMPORTED_MODULE_3__.useRef(null);\n    const [labelsOpen, setLabelsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const [membersOpen, setMembersOpen] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const allMembers = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(()=>{\n        const map = new Map();\n        for (const key of Object.keys(membersByCard)){\n            const arr = membersByCard[key];\n            for (const m of arr !== null && arr !== void 0 ? arr : []){\n                if (!(m === null || m === void 0 ? void 0 : m.id)) continue;\n                var _m_name;\n                if (!map.has(m.id)) map.set(m.id, {\n                    id: m.id,\n                    name: (_m_name = m.name) !== null && _m_name !== void 0 ? _m_name : null\n                });\n            }\n        }\n        return Array.from(map.values());\n    }, [\n        membersByCard\n    ]);\n    function cardMatchesFilters(card) {\n        const q = filters.query.trim().toLowerCase();\n        if (q) {\n            var _card_title;\n            const title = ((_card_title = card.title) !== null && _card_title !== void 0 ? _card_title : \"\").toLowerCase();\n            var _card_description;\n            const desc = ((_card_description = card.description) !== null && _card_description !== void 0 ? _card_description : \"\").toLowerCase();\n            if (!title.includes(q) && !desc.includes(q)) return false;\n        }\n        if (filters.labelIds.length) {\n            var _labelsByCard_card_id;\n            const labs = (_labelsByCard_card_id = labelsByCard[card.id]) !== null && _labelsByCard_card_id !== void 0 ? _labelsByCard_card_id : [];\n            const labSet = new Set(labs.map((l)=>l.id));\n            const match = filters.labelIds.some((id)=>labSet.has(id));\n            if (!match) return false;\n        }\n        if (filters.memberIds.length) {\n            var _membersByCard_card_id;\n            const ms = (_membersByCard_card_id = membersByCard[card.id]) !== null && _membersByCard_card_id !== void 0 ? _membersByCard_card_id : [];\n            const mSet = new Set(ms.map((m)=>m.id).filter(Boolean));\n            const match = filters.memberIds.some((id)=>mSet.has(id));\n            if (!match) return false;\n        }\n        if (filters.due !== \"all\") {\n            const d = card.due_date ? new Date(card.due_date) : null;\n            const now = new Date();\n            const startOfToday = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n            const endOfToday = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 23, 59, 59, 999);\n            if (filters.due === \"none\") {\n                if (d) return false;\n            } else if (!d) {\n                return false;\n            } else if (filters.due === \"overdue\") {\n                if (d.getTime() >= now.getTime()) return false;\n            } else if (filters.due === \"today\") {\n                if (d.getTime() < startOfToday.getTime() || d.getTime() > endOfToday.getTime()) return false;\n            } else if (filters.due === \"week\") {\n                const in7 = new Date(now.getTime() + 7 * 24 * 60 * 60 * 1000);\n                if (d.getTime() < startOfToday.getTime() || d.getTime() > in7.getTime()) return false;\n            }\n        }\n        return true;\n    }\n    function findCardLocation(cardId) {\n        for(let i = 0; i < lists.length; i++){\n            var _cardsByList_lists_i_id;\n            const cs = (_cardsByList_lists_i_id = cardsByList[lists[i].id]) !== null && _cardsByList_lists_i_id !== void 0 ? _cardsByList_lists_i_id : [];\n            const idx = cs.findIndex((c)=>c.id === cardId);\n            if (idx >= 0) return {\n                listIndex: i,\n                cardIndex: idx\n            };\n        }\n        return null;\n    }\n    function computePosition(prev, next) {\n        if (prev != null && next != null) return (prev + next) / 2;\n        if (prev != null) return prev + 100;\n        if (next != null) return next - 100;\n        return 100;\n    }\n    function onDragStart(event) {\n        const id = String(event.active.id);\n        setActiveDragId(id);\n        if (id.startsWith(\"container:\")) {\n            setDraggingListId(id.replace(\"container:\", \"\"));\n        }\n    }\n    function onDragOver(event) {\n        var _event_over, _event_active;\n        const overId = ((_event_over = event.over) === null || _event_over === void 0 ? void 0 : _event_over.id) ? String(event.over.id) : null;\n        const activeId = ((_event_active = event.active) === null || _event_active === void 0 ? void 0 : _event_active.id) ? String(event.active.id) : null;\n        if (!overId || !activeId) return;\n        if (activeId.startsWith(\"container:\")) {\n            let toListId = overId;\n            if (overId.startsWith(\"container:\")) toListId = overId.replace(\"container:\", \"\");\n            else if (overId.startsWith(\"list:\")) toListId = overId.replace(\"list:\", \"\");\n            setOverListId(toListId);\n        } else {\n            setOverListId(null);\n        }\n    }\n    async function onDragEnd(event) {\n        var _targetListCards_insertIndex;\n        setActiveDragId(null);\n        setDraggingListId(null);\n        setOverListId(null);\n        const { active, over } = event;\n        if (!over) return;\n        const activeId = String(active.id); // format: <listId>:<cardId>\n        const overId = String(over.id); // pode ser list:<listId> OU <listId>:<cardId>\n        // Reordenar listas (mesmo quando over é o droppable interno da lista)\n        if (activeId.startsWith(\"container:\")) {\n            const fromListId = activeId.replace(\"container:\", \"\");\n            let toListId = overId;\n            if (overId.startsWith(\"container:\")) toListId = overId.replace(\"container:\", \"\");\n            else if (overId.startsWith(\"list:\")) toListId = overId.replace(\"list:\", \"\");\n            else toListId = overId;\n            if (!toListId || fromListId === toListId) return;\n            const fromIndex = lists.findIndex((l)=>l.id === fromListId);\n            const toIndex = lists.findIndex((l)=>l.id === toListId);\n            if (fromIndex < 0 || toIndex < 0) return;\n            const next = [\n                ...lists\n            ];\n            const [moved] = next.splice(fromIndex, 1);\n            next.splice(toIndex, 0, moved);\n            setLists(next);\n            const prevPos = toIndex > 0 ? next[toIndex - 1].position : undefined;\n            const nextPos = toIndex < next.length - 1 ? next[toIndex + 1].position : undefined;\n            const newPos = computePosition(prevPos, nextPos);\n            await supabase.from(\"lists\").update({\n                position: newPos\n            }).eq(\"id\", moved.id);\n            return;\n        }\n        // Reordenar listas\n        if (activeId.startsWith(\"container:\") && overId.startsWith(\"container:\")) {\n            const fromListId = activeId.replace(\"container:\", \"\");\n            const toListId = overId.replace(\"container:\", \"\");\n            if (fromListId !== toListId) {\n                const fromIndex = lists.findIndex((l)=>l.id === fromListId);\n                const toIndex = lists.findIndex((l)=>l.id === toListId);\n                if (fromIndex >= 0 && toIndex >= 0) {\n                    const next = [\n                        ...lists\n                    ];\n                    const [moved] = next.splice(fromIndex, 1);\n                    next.splice(toIndex, 0, moved);\n                    setLists(next);\n                    const prevPos = toIndex > 0 ? next[toIndex - 1].position : undefined;\n                    const nextPos = toIndex < next.length - 1 ? next[toIndex + 1].position : undefined;\n                    const newPos = computePosition(prevPos, nextPos);\n                    await supabase.from(\"lists\").update({\n                        position: newPos\n                    }).eq(\"id\", moved.id);\n                }\n            }\n            return;\n        }\n        const activeParts = activeId.split(\":\");\n        const fromListId = activeParts[0];\n        const cardId = activeParts[1];\n        let toListId;\n        if (overId.startsWith(\"list:\")) {\n            toListId = overId.replace(\"list:\", \"\");\n        } else if (overId.startsWith(\"container:\")) {\n            // quando o alvo é o container externo da lista (sortable das listas)\n            toListId = overId.replace(\"container:\", \"\");\n        } else {\n            // formato <listId>:<cardId>\n            toListId = overId.split(\":\")[0];\n        }\n        // sanity: garante que é uma lista válida\n        if (!lists.some((l)=>l.id === toListId)) return;\n        var _cardsByList_toListId;\n        const targetListCards = ((_cardsByList_toListId = cardsByList[toListId]) !== null && _cardsByList_toListId !== void 0 ? _cardsByList_toListId : []).filter((c)=>c.id !== cardId);\n        // índice de inserção: se estiver sobre um card, antes dele; se sobre a lista, no final\n        let insertIndex = targetListCards.length;\n        if (!overId.startsWith(\"list:\") && !overId.startsWith(\"container:\")) {\n            const overCardId = overId.split(\":\")[1];\n            const idx = targetListCards.findIndex((c)=>c.id === overCardId);\n            if (idx >= 0) insertIndex = idx;\n        }\n        // calcula posição nova pela média dos vizinhos\n        const prevPos = insertIndex > 0 ? targetListCards[insertIndex - 1].position : undefined;\n        const nextPos = insertIndex < targetListCards.length ? (_targetListCards_insertIndex = targetListCards[insertIndex]) === null || _targetListCards_insertIndex === void 0 ? void 0 : _targetListCards_insertIndex.position : undefined;\n        const newPos = computePosition(prevPos, nextPos);\n        // UI otimista com possibilidade de rollback\n        const prevState = cardsByList;\n        const nextState = {};\n        var _prevState_k;\n        for (const k of Object.keys(prevState))nextState[k] = [\n            ...(_prevState_k = prevState[k]) !== null && _prevState_k !== void 0 ? _prevState_k : []\n        ];\n        // remove do antigo\n        for (const k of Object.keys(nextState)){\n            var _nextState_k;\n            nextState[k] = ((_nextState_k = nextState[k]) !== null && _nextState_k !== void 0 ? _nextState_k : []).filter((c)=>c.id !== cardId);\n        }\n        var _prevState_fromListId;\n        // pega dados do card para manter metadados\n        const moved = ((_prevState_fromListId = prevState[fromListId]) !== null && _prevState_fromListId !== void 0 ? _prevState_fromListId : []).find((c)=>c.id === cardId);\n        if (!moved) return;\n        const newCard = {\n            ...moved,\n            list_id: toListId,\n            position: newPos\n        };\n        var _nextState_toListId;\n        const arr = (_nextState_toListId = nextState[toListId]) !== null && _nextState_toListId !== void 0 ? _nextState_toListId : [];\n        arr.splice(insertIndex, 0, newCard);\n        nextState[toListId] = arr;\n        setCardsByList(nextState);\n        // persistência via API (service role) — evita bloqueios de RLS\n        try {\n            const res = await fetch(\"/api/cards/move\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    id: cardId,\n                    list_id: toListId,\n                    position: newPos\n                })\n            });\n            if (!res.ok) {\n                // rollback se falhar\n                setCardsByList(prevState);\n            }\n        } catch (e) {\n            setCardsByList(prevState);\n        }\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"px-6 mt-4 h-full flex flex-col gap-3\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-full bg-white/80 backdrop-blur border border-neutral-200 rounded-xl px-3 py-2 shadow-sm\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-wrap items-center gap-2\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"inline-flex items-center gap-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Filter_Plus_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                    size: 16\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                    lineNumber: 753,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-sm font-medium\",\n                                    children: \"Filtros\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                    lineNumber: 754,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                            lineNumber: 752,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            className: \"border rounded px-2 py-1 text-sm\",\n                            placeholder: \"Buscar (t\\xedtulo ou descri\\xe7\\xe3o)\",\n                            value: filters.query,\n                            onChange: (e)=>setFilters((f)=>({\n                                        ...f,\n                                        query: e.target.value\n                                    }))\n                        }, void 0, false, {\n                            fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                            lineNumber: 756,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            ref: labelsAnchorRef,\n                            className: \"px-2 py-1 text-sm rounded border hover:bg-neutral-50\",\n                            onClick: ()=>setLabelsOpen(true),\n                            title: \"Filtrar por etiquetas\",\n                            children: \"Etiquetas\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                            lineNumber: 762,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Popover__WEBPACK_IMPORTED_MODULE_9__.Popover, {\n                            open: labelsOpen,\n                            onClose: ()=>setLabelsOpen(false),\n                            anchorRect: (_labelsAnchorRef_current = labelsAnchorRef.current) === null || _labelsAnchorRef_current === void 0 ? void 0 : _labelsAnchorRef_current.getBoundingClientRect(),\n                            width: 260,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"p-2 space-y-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-sm font-semibold px-1\",\n                                        children: \"Etiquetas\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                        lineNumber: 777,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"max-h-60 overflow-auto pr-1\",\n                                        children: [\n                                            Object.values(labelsIndex).length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm text-neutral-500 px-1 py-1\",\n                                                children: \"Nenhuma etiqueta\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                                lineNumber: 780,\n                                                columnNumber: 19\n                                            }, this),\n                                            Object.values(labelsIndex).map((l)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    className: \"flex items-center gap-2 px-1 py-1 text-sm\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                            type: \"checkbox\",\n                                                            checked: filters.labelIds.includes(l.id),\n                                                            onChange: (e)=>{\n                                                                setFilters((f)=>{\n                                                                    const set = new Set(f.labelIds);\n                                                                    if (e.target.checked) set.add(l.id);\n                                                                    else set.delete(l.id);\n                                                                    return {\n                                                                        ...f,\n                                                                        labelIds: Array.from(set)\n                                                                    };\n                                                                });\n                                                            }\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                                            lineNumber: 784,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"inline-block h-3 w-6 rounded-full border\",\n                                                            style: {\n                                                                backgroundColor: l.color\n                                                            }\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                                            lineNumber: 796,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"truncate\",\n                                                            children: l.name\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                                            lineNumber: 800,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, l.id, true, {\n                                                    fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                                    lineNumber: 783,\n                                                    columnNumber: 19\n                                                }, this))\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                        lineNumber: 778,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                lineNumber: 776,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                            lineNumber: 770,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            ref: membersAnchorRef,\n                            className: \"px-2 py-1 text-sm rounded border hover:bg-neutral-50\",\n                            onClick: ()=>setMembersOpen(true),\n                            title: \"Filtrar por membros\",\n                            children: \"Membros\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                            lineNumber: 806,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Popover__WEBPACK_IMPORTED_MODULE_9__.Popover, {\n                            open: membersOpen,\n                            onClose: ()=>setMembersOpen(false),\n                            anchorRect: (_membersAnchorRef_current = membersAnchorRef.current) === null || _membersAnchorRef_current === void 0 ? void 0 : _membersAnchorRef_current.getBoundingClientRect(),\n                            width: 260,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"p-2 space-y-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-sm font-semibold px-1\",\n                                        children: \"Membros\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                        lineNumber: 821,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"max-h-60 overflow-auto pr-1\",\n                                        children: [\n                                            allMembers.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm text-neutral-500 px-1 py-1\",\n                                                children: \"Nenhum membro\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                                lineNumber: 824,\n                                                columnNumber: 19\n                                            }, this),\n                                            allMembers.map((m)=>/*#__PURE__*/ {\n                                                var _m_name;\n                                                return (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    className: \"flex items-center gap-2 px-1 py-1 text-sm\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                            type: \"checkbox\",\n                                                            checked: filters.memberIds.includes(m.id),\n                                                            onChange: (e)=>{\n                                                                setFilters((f)=>{\n                                                                    const set = new Set(f.memberIds);\n                                                                    if (e.target.checked) set.add(m.id);\n                                                                    else set.delete(m.id);\n                                                                    return {\n                                                                        ...f,\n                                                                        memberIds: Array.from(set)\n                                                                    };\n                                                                });\n                                                            }\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                                            lineNumber: 828,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"truncate\",\n                                                            children: (_m_name = m.name) !== null && _m_name !== void 0 ? _m_name : m.id\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                                            lineNumber: 840,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, m.id, true, {\n                                                    fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                                    lineNumber: 827,\n                                                    columnNumber: 19\n                                                }, this);\n                                            })\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                        lineNumber: 822,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                lineNumber: 820,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                            lineNumber: 814,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                            className: \"border rounded px-2 py-1 text-sm\",\n                            value: filters.due,\n                            onChange: (e)=>setFilters((f)=>({\n                                        ...f,\n                                        due: e.target.value\n                                    })),\n                            title: \"Vencimento\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                    value: \"all\",\n                                    children: \"Todas as datas\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                    lineNumber: 852,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                    value: \"overdue\",\n                                    children: \"Atrasados\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                    lineNumber: 853,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                    value: \"today\",\n                                    children: \"Hoje\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                    lineNumber: 854,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                    value: \"week\",\n                                    children: \"Pr\\xf3ximos 7 dias\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                    lineNumber: 855,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                    value: \"none\",\n                                    children: \"Sem data\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                    lineNumber: 856,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                            lineNumber: 846,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Button__WEBPACK_IMPORTED_MODULE_10__.Button, {\n                            variant: \"ghost\",\n                            onClick: ()=>setFilters({\n                                    query: \"\",\n                                    labelIds: [],\n                                    memberIds: [],\n                                    due: \"all\"\n                                }),\n                            children: \"Limpar\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                            lineNumber: 858,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                    lineNumber: 751,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                lineNumber: 750,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex gap-4 overflow-x-auto overflow-y-hidden pb-6 h-full\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.DndContext, {\n                        sensors: sensors,\n                        collisionDetection: _dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.rectIntersection,\n                        onDragStart: onDragStart,\n                        onDragOver: onDragOver,\n                        onDragEnd: onDragEnd,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-start gap-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_2__.SortableContext, {\n                                        items: lists.map((l)=>\"container:\".concat(l.id)),\n                                        strategy: _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_2__.horizontalListSortingStrategy,\n                                        children: lists.map((l)=>/*#__PURE__*/ {\n                                            var _cardsByList_l_id;\n                                            return (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    draggingListId && overListId === l.id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-80 min-w-[20rem] rounded-xl border-2 border-dashed border-sky-400 bg-sky-100/30 h-12 self-stretch\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                                        lineNumber: 883,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_KanbanList__WEBPACK_IMPORTED_MODULE_4__.KanbanList, {\n                                                        list: l,\n                                                        boardId: boardId,\n                                                        workspaceId: workspaceId,\n                                                        cards: ((_cardsByList_l_id = cardsByList[l.id]) !== null && _cardsByList_l_id !== void 0 ? _cardsByList_l_id : []).filter(cardMatchesFilters).map((c)=>{\n                                                            var _membersByCard_c_id, _labelsByCard_c_id, _attachmentsCountByCard_c_id, _commentsCountByCard_c_id;\n                                                            return {\n                                                                ...c,\n                                                                onOpen: ()=>setOpenCardId(c.id),\n                                                                members: (_membersByCard_c_id = membersByCard[c.id]) !== null && _membersByCard_c_id !== void 0 ? _membersByCard_c_id : [],\n                                                                labels: (_labelsByCard_c_id = labelsByCard[c.id]) !== null && _labelsByCard_c_id !== void 0 ? _labelsByCard_c_id : [],\n                                                                attachmentsCount: (_attachmentsCountByCard_c_id = attachmentsCountByCard[c.id]) !== null && _attachmentsCountByCard_c_id !== void 0 ? _attachmentsCountByCard_c_id : 0,\n                                                                commentsCount: (_commentsCountByCard_c_id = commentsCountByCard[c.id]) !== null && _commentsCountByCard_c_id !== void 0 ? _commentsCountByCard_c_id : 0\n                                                            };\n                                                        }),\n                                                        onAddCard: (title)=>addCard(l.id, title),\n                                                        allLists: lists,\n                                                        onMoveList: async (dir)=>{\n                                                            const idx = lists.findIndex((x)=>x.id === l.id);\n                                                            const swapIdx = dir === \"left\" ? idx - 1 : idx + 1;\n                                                            if (swapIdx < 0 || swapIdx >= lists.length) return;\n                                                            const a = lists[idx];\n                                                            const b = lists[swapIdx];\n                                                            // UI otimista\n                                                            setLists((prev)=>{\n                                                                const copy = [\n                                                                    ...prev\n                                                                ];\n                                                                copy[idx] = b;\n                                                                copy[swapIdx] = a;\n                                                                return copy;\n                                                            });\n                                                            // troca posições no banco\n                                                            await Promise.all([\n                                                                supabase.from(\"lists\").update({\n                                                                    position: b.position\n                                                                }).eq(\"id\", a.id),\n                                                                supabase.from(\"lists\").update({\n                                                                    position: a.position\n                                                                }).eq(\"id\", b.id)\n                                                            ]);\n                                                        },\n                                                        onCopyList: async ()=>{\n                                                            await fetch(\"/api/lists/copy\", {\n                                                                method: \"POST\",\n                                                                headers: {\n                                                                    \"Content-Type\": \"application/json\"\n                                                                },\n                                                                body: JSON.stringify({\n                                                                    list_id: l.id,\n                                                                    target_board_id: boardId,\n                                                                    name: \"\".concat(l.name, \" (C\\xf3pia)\")\n                                                                })\n                                                            });\n                                                        },\n                                                        onMoveListTo: async (targetBoardId, positionIndex)=>{\n                                                            // UI otimista\n                                                            const prevLists = lists;\n                                                            const prevCardsByList = cardsByList;\n                                                            try {\n                                                                if (targetBoardId === boardId) {\n                                                                    // mover dentro do mesmo quadro: reordenar localmente pelo índice escolhido\n                                                                    const fromIdx = lists.findIndex((x)=>x.id === l.id);\n                                                                    const toIdx = Math.min(Math.max(positionIndex - 1, 0), lists.length - 1);\n                                                                    if (fromIdx !== -1 && toIdx !== fromIdx) {\n                                                                        const next = [\n                                                                            ...lists\n                                                                        ];\n                                                                        const [moved] = next.splice(fromIdx, 1);\n                                                                        next.splice(toIdx, 0, moved);\n                                                                        setLists(next);\n                                                                    }\n                                                                } else {\n                                                                    // mover para outro quadro: remove localmente\n                                                                    setLists((prev)=>prev.filter((x)=>x.id !== l.id));\n                                                                    const { [l.id]: _removed, ...rest } = cardsByList;\n                                                                    setCardsByList(rest);\n                                                                }\n                                                                // persistir no servidor\n                                                                await fetch(\"/api/lists/move\", {\n                                                                    method: \"POST\",\n                                                                    headers: {\n                                                                        \"Content-Type\": \"application/json\"\n                                                                    },\n                                                                    body: JSON.stringify({\n                                                                        list_id: l.id,\n                                                                        target_board_id: targetBoardId,\n                                                                        positionIndex\n                                                                    })\n                                                                });\n                                                            } catch (e) {\n                                                                // rollback\n                                                                setLists(prevLists);\n                                                                setCardsByList(prevCardsByList);\n                                                            }\n                                                        },\n                                                        onMoveAllCards: async (targetListId)=>{\n                                                            var _cardsByList_l_id;\n                                                            const fromCards = ((_cardsByList_l_id = cardsByList[l.id]) !== null && _cardsByList_l_id !== void 0 ? _cardsByList_l_id : []).slice().sort((a, b)=>a.position - b.position);\n                                                            // UI otimista\n                                                            setCardsByList((prev)=>{\n                                                                const copy = {};\n                                                                var _prev_k;\n                                                                for (const k of Object.keys(prev))copy[k] = [\n                                                                    ...(_prev_k = prev[k]) !== null && _prev_k !== void 0 ? _prev_k : []\n                                                                ];\n                                                                var _copy_l_id;\n                                                                const moving = (_copy_l_id = copy[l.id]) !== null && _copy_l_id !== void 0 ? _copy_l_id : [];\n                                                                var _copy_targetListId;\n                                                                copy[targetListId] = [\n                                                                    ...(_copy_targetListId = copy[targetListId]) !== null && _copy_targetListId !== void 0 ? _copy_targetListId : [],\n                                                                    ...moving.map((c, i)=>({\n                                                                            ...c,\n                                                                            list_id: targetListId,\n                                                                            position: (i + 1) * 100\n                                                                        }))\n                                                                ];\n                                                                copy[l.id] = [];\n                                                                return copy;\n                                                            });\n                                                            for(let i = 0; i < fromCards.length; i++){\n                                                                await supabase.from(\"cards\").update({\n                                                                    list_id: targetListId,\n                                                                    position: (i + 1) * 100\n                                                                }).eq(\"id\", fromCards[i].id);\n                                                            }\n                                                        },\n                                                        onSortList: async (mode)=>{\n                                                            var _cardsByList_l_id;\n                                                            const cards = ((_cardsByList_l_id = cardsByList[l.id]) !== null && _cardsByList_l_id !== void 0 ? _cardsByList_l_id : []).slice();\n                                                            if (mode === \"created\" || mode === \"created_desc\") cards.sort((a, b)=>mode === \"created_desc\" ? new Date(b.created_at).getTime() - new Date(a.created_at).getTime() : new Date(a.created_at).getTime() - new Date(b.created_at).getTime());\n                                                            if (mode === \"due\") cards.sort((a, b)=>(a.due_date ? new Date(a.due_date).getTime() : Infinity) - (b.due_date ? new Date(b.due_date).getTime() : Infinity));\n                                                            if (mode === \"alpha\") cards.sort((a, b)=>(a.title || \"\").localeCompare(b.title || \"\", \"pt-BR\", {\n                                                                    sensitivity: \"base\"\n                                                                }));\n                                                            // UI otimista\n                                                            setCardsByList((prev)=>({\n                                                                    ...prev,\n                                                                    [l.id]: cards.map((c, i)=>({\n                                                                            ...c,\n                                                                            position: (i + 1) * 100\n                                                                        }))\n                                                                }));\n                                                            // persistir\n                                                            for(let i = 0; i < cards.length; i++){\n                                                                await supabase.from(\"cards\").update({\n                                                                    position: (i + 1) * 100\n                                                                }).eq(\"id\", cards[i].id);\n                                                            }\n                                                        },\n                                                        onArchiveList: async ()=>{\n                                                            if (!confirm(\"Arquivar esta lista e seus cart\\xf5es?\")) return;\n                                                            var _cardsByList_l_id;\n                                                            // remove cartões primeiro\n                                                            const cards = (_cardsByList_l_id = cardsByList[l.id]) !== null && _cardsByList_l_id !== void 0 ? _cardsByList_l_id : [];\n                                                            for (const c of cards){\n                                                                await supabase.from(\"cards\").delete().eq(\"id\", c.id);\n                                                            }\n                                                            // UI otimista: remove a lista localmente\n                                                            setLists((prev)=>prev.filter((x)=>x.id !== l.id));\n                                                            const { [l.id]: _removed, ...rest } = cardsByList;\n                                                            setCardsByList(rest);\n                                                            await supabase.from(\"lists\").delete().eq(\"id\", l.id);\n                                                        },\n                                                        onArchiveAllCards: async ()=>{\n                                                            var _cardsByList_l_id;\n                                                            const cards = ((_cardsByList_l_id = cardsByList[l.id]) !== null && _cardsByList_l_id !== void 0 ? _cardsByList_l_id : []).slice();\n                                                            // UI otimista: esvazia a lista local\n                                                            setCardsByList((prev)=>{\n                                                                const copy = {\n                                                                    ...prev\n                                                                };\n                                                                copy[l.id] = [];\n                                                                return copy;\n                                                            });\n                                                            // persistir: soft delete (arquivar)\n                                                            const ids = cards.map((c)=>c.id);\n                                                            if (ids.length) {\n                                                                const now = new Date().toISOString();\n                                                                await supabase.from(\"cards\").update({\n                                                                    archived_at: now\n                                                                }).in(\"id\", ids);\n                                                            }\n                                                        }\n                                                    }, l.id, false, {\n                                                        fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                                        lineNumber: 885,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true);\n                                        })\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                        lineNumber: 876,\n                                        columnNumber: 11\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: addList,\n                                        className: \"w-80 min-w-[20rem] h-fit bg-white/80 backdrop-blur border border-dashed border-neutral-300 hover:border-neutral-400 hover:bg-white transition rounded-xl p-4 text-left flex items-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Filter_Plus_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                                size: 18\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                                lineNumber: 1096,\n                                                columnNumber: 13\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"Nova lista\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                                lineNumber: 1097,\n                                                columnNumber: 13\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                        lineNumber: 1092,\n                                        columnNumber: 11\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                lineNumber: 875,\n                                columnNumber: 9\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.DragOverlay, {\n                                children: (activeDragId === null || activeDragId === void 0 ? void 0 : activeDragId.startsWith(\"container:\")) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-80 pointer-events-none\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"rounded-xl border bg-white shadow-lg\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center justify-between px-3 py-2 border-b\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"font-medium\",\n                                                    children: \"Mover lista\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                                    lineNumber: 1105,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                                lineNumber: 1104,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"p-3 text-sm text-neutral-500\",\n                                                children: \"...\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                                lineNumber: 1107,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                        lineNumber: 1103,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                    lineNumber: 1102,\n                                    columnNumber: 13\n                                }, this) : activeOverlay ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-80 pointer-events-none\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_KanbanCard__WEBPACK_IMPORTED_MODULE_5__.KanbanCard, {\n                                        card: activeOverlay.card,\n                                        listId: activeOverlay.listId,\n                                        dueSoonThresholdMinutes: settings.due_soon_threshold_minutes,\n                                        isOverlay: true\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                        lineNumber: 1112,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                    lineNumber: 1111,\n                                    columnNumber: 13\n                                }, this) : null\n                            }, void 0, false, {\n                                fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                                lineNumber: 1100,\n                                columnNumber: 9\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                        lineNumber: 868,\n                        columnNumber: 7\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_card_CardModal__WEBPACK_IMPORTED_MODULE_7__.CardModal, {\n                        cardId: openCardId !== null && openCardId !== void 0 ? openCardId : \"\",\n                        boardId: boardId,\n                        open: !!openCardId,\n                        onClose: ()=>setOpenCardId(null)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                        lineNumber: 1122,\n                        columnNumber: 7\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n                lineNumber: 867,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\projetos\\\\trato\\\\components\\\\KanbanBoard.tsx\",\n        lineNumber: 749,\n        columnNumber: 5\n    }, this);\n}\n_s(KanbanBoard, \"Id7Y9C0YrJPtOA4rZHXweLvB3TI=\", false, function() {\n    return [\n        _dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.useSensors\n    ];\n});\n_c = KanbanBoard;\nvar _c;\n$RefreshReg$(_c, \"KanbanBoard\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvS2FuYmFuQm9hcmQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBV3VCO0FBSUk7QUFDMEI7QUFDWDtBQUNBO0FBQ3VCO0FBRXJCO0FBQ1k7QUFFSztBQUNYO0FBQ0Y7QUFDakI7QUFpQ3hCLFNBQVNxQixZQUFZLEtBTTNCO1FBTjJCLEVBQzFCQyxPQUFPLEVBQ1BDLFdBQVcsRUFJWixHQU4yQjtRQXdzQkpDLDBCQTRDQUM7O0lBN3VCdEIsTUFBTUMsV0FBV2pCLDhDQUFPQSxDQUFDLElBQU1JLDhFQUF3QkEsSUFBVyxFQUFFO0lBQ3BFLE1BQU0sQ0FBQ2MsT0FBT0MsU0FBUyxHQUFHbEIsK0NBQVFBLENBQVMsRUFBRTtJQUM3QyxNQUFNLENBQUNtQixhQUFhQyxlQUFlLEdBQUdwQiwrQ0FBUUEsQ0FBeUIsQ0FBQztJQUN4RSxNQUFNcUIsVUFBVTNCLHlEQUFVQSxDQUN4QkQsd0RBQVNBLENBQUNGLHdEQUFhQSxFQUFFO1FBQUUrQixzQkFBc0I7WUFBRUMsVUFBVTtRQUFFO0lBQUU7SUFFbkUsTUFBTSxDQUFDQyxZQUFZQyxjQUFjLEdBQUd6QiwrQ0FBUUEsQ0FBZ0I7SUFDNUQsTUFBTSxDQUFDMEIsZUFBZUMsaUJBQWlCLEdBQUczQiwrQ0FBUUEsQ0FLaEQsQ0FBQztJQUNILE1BQU0sQ0FBQzRCLGFBQWFDLGVBQWUsR0FBRzdCLCtDQUFRQSxDQUU1QyxDQUFDO0lBQ0gsTUFBTSxDQUFDOEIsd0JBQXdCQywwQkFBMEIsR0FBRy9CLCtDQUFRQSxDQUVsRSxDQUFDO0lBQ0gsTUFBTSxDQUFDZ0MscUJBQXFCQyx1QkFBdUIsR0FBR2pDLCtDQUFRQSxDQUU1RCxDQUFDO0lBQ0gsTUFBTSxDQUFDa0MsVUFBVUMsWUFBWSxHQUFHbkMsK0NBQVFBLENBQWdCO1FBQ3REb0Msc0JBQXNCO1FBQ3RCQyxvQkFBb0I7UUFDcEJDLDRCQUE0QjtJQUM5QjtJQUNBLE1BQU0sQ0FBQ0MsY0FBY0MsZ0JB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dUQsTUFBTVYsY0FBY1UsSUFBSTt3Q0FDeEJELFFBQVFULGNBQWNTLE1BQU07d0NBQzVCNFEseUJBQXlCbFMsU0FBU0ksMEJBQTBCO3dDQUM1RCtSLFNBQVM7Ozs7Ozs7Ozs7MkNBR1g7Ozs7Ozs7Ozs7OztrQ0FHUiw4REFBQy9ULGlFQUFTQTt3QkFDUjhJLFFBQVE1SCx1QkFBQUEsd0JBQUFBLGFBQWM7d0JBQ3RCWixTQUFTQTt3QkFDVG9RLE1BQU0sQ0FBQyxDQUFDeFA7d0JBQ1J5UCxTQUFTLElBQU14UCxjQUFjOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLckM7R0E5aUNnQmQ7O1FBVUVqQixxREFBVUE7OztLQVZaaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9LYW5iYW5Cb2FyZC50c3g/NThkZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHtcbiAgRG5kQ29udGV4dCxcbiAgRHJhZ0VuZEV2ZW50LFxuICBEcmFnU3RhcnRFdmVudCxcbiAgUG9pbnRlclNlbnNvcixcbiAgcmVjdEludGVyc2VjdGlvbixcbiAgdXNlU2Vuc29yLFxuICB1c2VTZW5zb3JzLFxuICBEcmFnT3ZlcmxheSxcbn0gZnJvbSBcIkBkbmQta2l0L2NvcmVcIjtcbmltcG9ydCB7XG4gIFNvcnRhYmxlQ29udGV4dCxcbiAgaG9yaXpvbnRhbExpc3RTb3J0aW5nU3RyYXRlZ3ksXG59IGZyb20gXCJAZG5kLWtpdC9zb3J0YWJsZVwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgS2FuYmFuTGlzdCB9IGZyb20gXCIuL0thbmJhbkxpc3RcIjtcbmltcG9ydCB7IEthbmJhbkNhcmQgfSBmcm9tIFwiLi9LYW5iYW5DYXJkXCI7XG5pbXBvcnQgeyBnZXRTdXBhYmFzZUJyb3dzZXJDbGllbnQgfSBmcm9tIFwiQC9saWIvc3VwYWJhc2UtY2xpZW50XCI7XG5pbXBvcnQgeyBSZWFsdGltZVBvc3RncmVzQ2hhbmdlc1BheWxvYWQgfSBmcm9tIFwiQHN1cGFiYXNlL3N1cGFiYXNlLWpzXCI7XG5pbXBvcnQgeyBQbHVzLCBGaWx0ZXIgfSBmcm9tIFwibHVjaWRlLXJlYWN0XCI7XG5pbXBvcnQgeyBDYXJkTW9kYWwgfSBmcm9tIFwiQC9jb21wb25lbnRzL2NhcmQvQ2FyZE1vZGFsXCI7XG5pbXBvcnQgeyBBdmF0YXJTdGFjayB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvQXZhdGFyXCI7XG5pbXBvcnQgeyBzZXRDYWNoZWRTaWduZWRVcmwgfSBmcm9tIFwiQC9saWIvc3RvcmFnZS11cmwtY2FjaGVcIjtcbmltcG9ydCB7IFBvcG92ZXIgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL1BvcG92ZXJcIjtcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvQnV0dG9uXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IHR5cGUgQ2FyZCA9IHtcbiAgaWQ6IHN0cmluZztcbiAgYm9hcmRfaWQ6IHN0cmluZztcbiAgbGlzdF9pZDogc3RyaW5nO1xuICB0aXRsZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nIHwgbnVsbDtcbiAgcG9zaXRpb246IG51bWJlcjtcbiAgc3RhcnRfZGF0ZT86IHN0cmluZyB8IG51bGw7XG4gIGR1ZV9kYXRlOiBzdHJpbmcgfCBudWxsO1xuICByZWN1cnJlbmNlPzogXCJub25lXCIgfCBcImRhaWx5XCIgfCBcIndlZWtseVwiIHwgXCJtb250aGx5XCIgfCBudWxsO1xuICByZW1pbmRlcl9taW51dGVzPzogbnVtYmVyIHwgbnVsbDtcbiAgY292ZXJfcGF0aD86IHN0cmluZyB8IG51bGw7XG4gIGNvdmVyX3NpemU/OiBcInNtYWxsXCIgfCBcImxhcmdlXCIgfCBudWxsO1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIExpc3QgPSB7XG4gIGlkOiBzdHJpbmc7XG4gIGJvYXJkX2lkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgcG9zaXRpb246IG51bWJlcjtcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xufTtcblxudHlwZSBCb2FyZFNldHRpbmdzID0ge1xuICBhdXRvX3N0YXJ0X29uX2NyZWF0ZTogYm9vbGVhbjtcbiAgZHVlX29mZnNldF9taW51dGVzOiBudW1iZXI7XG4gIGR1ZV9zb29uX3RocmVzaG9sZF9taW51dGVzOiBudW1iZXI7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gS2FuYmFuQm9hcmQoe1xuICBib2FyZElkLFxuICB3b3Jrc3BhY2VJZCxcbn06IHtcbiAgYm9hcmRJZDogc3RyaW5nO1xuICB3b3Jrc3BhY2VJZDogc3RyaW5nO1xufSkge1xuICBjb25zdCBzdXBhYmFzZSA9IHVzZU1lbW8oKCkgPT4gZ2V0U3VwYWJhc2VCcm93c2VyQ2xpZW50KCkgYXMgYW55LCBbXSk7XG4gIGNvbnN0IFtsaXN0cywgc2V0TGlzdHNdID0gdXNlU3RhdGU8TGlzdFtdPihbXSk7XG4gIGNvbnN0IFtjYXJkc0J5TGlzdCwgc2V0Q2FyZHNCeUxpc3RdID0gdXNlU3RhdGU8UmVjb3JkPHN0cmluZywgQ2FyZFtdPj4oe30pO1xuICBjb25zdCBzZW5zb3JzID0gdXNlU2Vuc29ycyhcbiAgICB1c2VTZW5zb3IoUG9pbnRlclNlbnNvciwgeyBhY3RpdmF0aW9uQ29uc3RyYWludDogeyBkaXN0YW5jZTogMyB9IH0pXG4gICk7XG4gIGNvbnN0IFtvcGVuQ2FyZElkLCBzZXRPcGVuQ2FyZElkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbbWVtYmVyc0J5Q2FyZCwgc2V0TWVtYmVyc0J5Q2FyZF0gPSB1c2VTdGF0ZTxcbiAgICBSZWNvcmQ8XG4gICAgICBzdHJpbmcsXG4gICAgICB7IGlkPzogc3RyaW5nOyBuYW1lPzogc3RyaW5nIHwgbnVsbDsgYXZhdGFyX3VybD86IHN0cmluZyB8IG51bGwgfVtdXG4gICAgPlxuICA+KHt9KTtcbiAgY29uc3QgW2xhYmVsc0luZGV4LCBzZXRMYWJlbHNJbmRleF0gPSB1c2VTdGF0ZTxcbiAgICBSZWNvcmQ8c3RyaW5nLCB7IGlkOiBzdHJpbmc7IG5hbWU6IHN0cmluZzsgY29sb3I6IHN0cmluZyB9PlxuICA+KHt9KTtcbiAgY29uc3QgW2F0dGFjaG1lbnRzQ291bnRCeUNhcmQsIHNldEF0dGFjaG1lbnRzQ291bnRCeUNhcmRdID0gdXNlU3RhdGU8XG4gICAgUmVjb3JkPHN0cmluZywgbnVtYmVyPlxuICA+KHt9KTtcbiAgY29uc3QgW2NvbW1lbnRzQ291bnRCeUNhcmQsIHNldENvbW1lbnRzQ291bnRCeUNhcmRdID0gdXNlU3RhdGU8XG4gICAgUmVjb3JkPHN0cmluZywgbnVtYmVyPlxuICA+KHt9KTtcbiAgY29uc3QgW3NldHRpbmdzLCBzZXRTZXR0aW5nc10gPSB1c2VTdGF0ZTxCb2FyZFNldHRpbmdzPih7XG4gICAgYXV0b19zdGFydF9vbl9jcmVhdGU6IGZhbHNlLFxuICAgIGR1ZV9vZmZzZXRfbWludXRlczogMCxcbiAgICBkdWVfc29vbl90aHJlc2hvbGRfbWludXRlczogMTQ0MCxcbiAgfSk7XG4gIGNvbnN0IFtsYWJlbHNCeUNhcmQsIHNldExhYmVsc0J5Q2FyZF0gPSB1c2VTdGF0ZTxcbiAgICBSZWNvcmQ8c3RyaW5nLCB7IGlkOiBzdHJpbmc7IG5hbWU6IHN0cmluZzsgY29sb3I6IHN0cmluZyB9W10+XG4gID4oe30pO1xuICBjb25zdCBbYWN0aXZlRHJhZ0lkLCBzZXRBY3RpdmVEcmFnSWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtvdmVyTGlzdElkLCBzZXRPdmVyTGlzdElkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZHJhZ2dpbmdMaXN0SWQsIHNldERyYWdnaW5nTGlzdElkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBhY3RpdmVPdmVybGF5ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKCFhY3RpdmVEcmFnSWQpIHJldHVybiBudWxsO1xuICAgIGNvbnN0IFtsSWQsIGNJZF0gPSBhY3RpdmVEcmFnSWQuc3BsaXQoXCI6XCIpO1xuICAgIGNvbnN0IGFyciA9IGNhcmRzQnlMaXN0W2xJZF0gPz8gW107XG4gICAgY29uc3QgYmFzZSA9IGFyci5maW5kKChjKSA9PiBjLmlkID09PSBjSWQpO1xuICAgIGlmICghYmFzZSkgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxpc3RJZDogbElkLFxuICAgICAgY2FyZDoge1xuICAgICAgICAuLi5iYXNlLFxuICAgICAgICBtZW1iZXJzOiBtZW1iZXJzQnlDYXJkW2Jhc2UuaWRdID8/IFtdLFxuICAgICAgICBsYWJlbHM6IGxhYmVsc0J5Q2FyZFtiYXNlLmlkXSA/PyBbXSxcbiAgICAgICAgYXR0YWNobWVudHNDb3VudDogYXR0YWNobWVudHNDb3VudEJ5Q2FyZFtiYXNlLmlkXSA/PyAwLFxuICAgICAgICBjb21tZW50c0NvdW50OiBjb21tZW50c0NvdW50QnlDYXJkW2Jhc2UuaWRdID8/IDAsXG4gICAgICB9LFxuICAgIH07XG4gIH0sIFtcbiAgICBhY3RpdmVEcmFnSWQsXG4gICAgY2FyZHNCeUxpc3QsXG4gICAgbWVtYmVyc0J5Q2FyZCxcbiAgICBsYWJlbHNCeUNhcmQsXG4gICAgYXR0YWNobWVudHNDb3VudEJ5Q2FyZCxcbiAgICBjb21tZW50c0NvdW50QnlDYXJkLFxuICBdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBtb3VudGVkID0gdHJ1ZTtcbiAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyBkYXRhOiBscyB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJsaXN0c1wiKVxuICAgICAgICAuc2VsZWN0KFwiKlwiKVxuICAgICAgICAuZXEoXCJib2FyZF9pZFwiLCBib2FyZElkKVxuICAgICAgICAub3JkZXIoXCJwb3NpdGlvblwiLCB7IGFzY2VuZGluZzogdHJ1ZSB9KTtcbiAgICAgIGNvbnN0IHsgZGF0YTogY3MgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwiY2FyZHNcIilcbiAgICAgICAgLnNlbGVjdChcIipcIilcbiAgICAgICAgLmVxKFwiYm9hcmRfaWRcIiwgYm9hcmRJZClcbiAgICAgICAgLmlzKFwiYXJjaGl2ZWRfYXRcIiwgbnVsbClcbiAgICAgICAgLm9yZGVyKFwicG9zaXRpb25cIiwgeyBhc2NlbmRpbmc6IHRydWUgfSk7XG4gICAgICBpZiAoIW1vdW50ZWQpIHJldHVybjtcbiAgICAgIHNldExpc3RzKGxzID8/IFtdKTtcbiAgICAgIGNvbnN0IG1hcDogUmVjb3JkPHN0cmluZywgQ2FyZFtdPiA9IHt9O1xuICAgICAgZm9yIChjb25zdCBsIG9mIGxzID8/IFtdKSB7XG4gICAgICAgIG1hcFtsLmlkXSA9IChjcyA/PyBbXSkuZmlsdGVyKChjOiBhbnkpID0+IGMubGlzdF9pZCA9PT0gbC5pZCk7XG4gICAgICB9XG4gICAgICBzZXRDYXJkc0J5TGlzdChtYXApO1xuICAgICAgLy8gUHJlZmV0Y2ggZGFzIGNhcGFzIHBhcmEgZXZpdGFyIGxhdMOqbmNpYSBhbyBhYnJpciBtb2RhbFxuICAgICAgY29uc3QgY292ZXJQYXRocyA9IChjcyA/PyBbXSlcbiAgICAgICAgLm1hcCgoYzogYW55KSA9PiBjLmNvdmVyX3BhdGgpXG4gICAgICAgIC5maWx0ZXIoQm9vbGVhbikgYXMgc3RyaW5nW107XG4gICAgICBpZiAoY292ZXJQYXRocy5sZW5ndGgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgICAgIGNvdmVyUGF0aHMubWFwKGFzeW5jIChwKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogb25lIH0gPSBhd2FpdCBzdXBhYmFzZS5zdG9yYWdlXG4gICAgICAgICAgICAgICAgLmZyb20oXCJhdHRhY2htZW50c1wiKVxuICAgICAgICAgICAgICAgIC5jcmVhdGVTaWduZWRVcmwocCwgNjAgKiAxMCk7XG4gICAgICAgICAgICAgIGlmIChvbmU/LnNpZ25lZFVybCkge1xuICAgICAgICAgICAgICAgIHNldENhY2hlZFNpZ25lZFVybChwLCBvbmUuc2lnbmVkVXJsLCA2MDApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICk7XG4gICAgICAgIH0gY2F0Y2gge31cbiAgICAgIH1cblxuICAgICAgLy8gZmV0Y2ggbWVtYmVycyBmb3IgYWxsIGNhcmRzXG4gICAgICBjb25zdCBjYXJkSWRzID0gKGNzID8/IFtdKS5tYXAoKGM6IGFueSkgPT4gYy5pZCk7XG4gICAgICBpZiAoY2FyZElkcy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgeyBkYXRhOiBjbSB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbShcImNhcmRfbWVtYmVyc1wiKVxuICAgICAgICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgICAgICAgLmluKFwiY2FyZF9pZFwiLCBjYXJkSWRzKTtcbiAgICAgICAgY29uc3QgdXNlcklkcyA9IEFycmF5LmZyb20oXG4gICAgICAgICAgbmV3IFNldCgoY20gPz8gW10pLm1hcCgobTogYW55KSA9PiBtLnVzZXJfaWQpKVxuICAgICAgICApO1xuICAgICAgICBjb25zdCB7IGRhdGE6IHByb2ZpbGVzIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKFwidXNlcl9wcm9maWxlc1wiKVxuICAgICAgICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgICAgICAgLmluKFwiaWRcIiwgdXNlcklkcyk7XG4gICAgICAgIGNvbnN0IHBNYXAgPSBuZXcgTWFwKChwcm9maWxlcyA/PyBbXSkubWFwKChwOiBhbnkpID0+IFtwLmlkLCBwXSkpO1xuICAgICAgICBjb25zdCBieUNhcmQ6IFJlY29yZDxcbiAgICAgICAgICBzdHJpbmcsXG4gICAgICAgICAgeyBpZD86IHN0cmluZzsgbmFtZT86IHN0cmluZyB8IG51bGw7IGF2YXRhcl91cmw/OiBzdHJpbmcgfCBudWxsIH1bXVxuICAgICAgICA+ID0ge307XG4gICAgICAgIGZvciAoY29uc3QgYyBvZiBjbSA/PyBbXSkge1xuICAgICAgICAgIGJ5Q2FyZFtjLmNhcmRfaWRdID0gYnlDYXJkW2MuY2FyZF9pZF0gPz8gW107XG4gICAgICAgICAgY29uc3QgcHJvZiA9IHBNYXAuZ2V0KGMudXNlcl9pZCkgYXMgYW55O1xuICAgICAgICAgIGJ5Q2FyZFtjLmNhcmRfaWRdLnB1c2goe1xuICAgICAgICAgICAgaWQ6IGMudXNlcl9pZCxcbiAgICAgICAgICAgIG5hbWU6IHByb2Y/LmRpc3BsYXlfbmFtZSA/PyBudWxsLFxuICAgICAgICAgICAgYXZhdGFyX3VybDogcHJvZj8uYXZhdGFyX3VybCA/PyBudWxsLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHNldE1lbWJlcnNCeUNhcmQoYnlDYXJkKTtcbiAgICAgIH1cbiAgICAgIC8vIENhcnJlZ2EgbWVtYnJvcyBkbyB3b3Jrc3BhY2UgcGFyYSBwb3B1bGFyIGZpbHRybyBtZXNtbyBzZW0gYXRyaWJ1acOnw6NvXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB7IGRhdGE6IHdzbXMgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oXCJ3b3Jrc3BhY2VfbWVtYmVyc1wiKVxuICAgICAgICAgIC5zZWxlY3QoXCJ1c2VyX2lkXCIpXG4gICAgICAgICAgLmVxKFwid29ya3NwYWNlX2lkXCIsIHdvcmtzcGFjZUlkKTtcbiAgICAgICAgY29uc3Qgd3NVc2VySWRzID0gQXJyYXkuZnJvbShuZXcgU2V0KCh3c21zID8/IFtdKS5tYXAoKHg6IGFueSkgPT4geC51c2VyX2lkKSkpO1xuICAgICAgICBpZiAod3NVc2VySWRzLmxlbmd0aCkge1xuICAgICAgICAgIGNvbnN0IHsgZGF0YTogd3NQcm9maWxlcyB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgIC5mcm9tKFwidXNlcl9wcm9maWxlc1wiKVxuICAgICAgICAgICAgLnNlbGVjdChcImlkLCBkaXNwbGF5X25hbWVcIilcbiAgICAgICAgICAgIC5pbihcImlkXCIsIHdzVXNlcklkcyk7XG4gICAgICAgICAgY29uc3QgZXh0cmFzID0gKHdzUHJvZmlsZXMgPz8gW10pLm1hcCgocDogYW55KSA9PiAoeyBpZDogcC5pZCwgbmFtZTogcC5kaXNwbGF5X25hbWUgPz8gbnVsbCB9KSk7XG4gICAgICAgICAgLy8gbWVzY2xhIG5vcyBtZW1iZXJzQnlDYXJkIHZpcnR1YWlzIHBhcmEgYXBhcmVjZXIgbm8gZmlsdHJvXG4gICAgICAgICAgc2V0TWVtYmVyc0J5Q2FyZCgocHJldikgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29weSA9IHsgLi4ucHJldiB9O1xuICAgICAgICAgICAgY29weVtcIl93b3Jrc3BhY2VfbWVtYmVyc1wiXSA9IGV4dHJhcyBhcyBhbnk7XG4gICAgICAgICAgICByZXR1cm4gY29weTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCB7fVxuICAgICAgLy8gZmV0Y2ggbGFiZWxzIGZvciBhbGwgY2FyZHNcbiAgICAgIGNvbnN0IHsgZGF0YTogYWxsTGFiZWxzIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcImxhYmVsc1wiKVxuICAgICAgICAuc2VsZWN0KFwiKlwiKVxuICAgICAgICAuZXEoXCJib2FyZF9pZFwiLCBib2FyZElkKTtcbiAgICAgIGNvbnN0IHsgZGF0YTogY2FyZExhYmVscyB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJjYXJkX2xhYmVsc1wiKVxuICAgICAgICAuc2VsZWN0KFwiKlwiKVxuICAgICAgICAuaW4oXCJjYXJkX2lkXCIsIGNhcmRJZHMpO1xuICAgICAgY29uc3QgbGFiZWxNYXAgPSBuZXcgTWFwKChhbGxMYWJlbHMgPz8gW10pLm1hcCgobDogYW55KSA9PiBbbC5pZCwgbF0pKTtcbiAgICAgIHNldExhYmVsc0luZGV4KFxuICAgICAgICBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICAgICAgKGFsbExhYmVscyA/PyBbXSkubWFwKChsOiBhbnkpID0+IFtcbiAgICAgICAgICAgIGwuaWQsXG4gICAgICAgICAgICB7IGlkOiBsLmlkLCBuYW1lOiBsLm5hbWUsIGNvbG9yOiBsLmNvbG9yIH0sXG4gICAgICAgICAgXSlcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICAgIGNvbnN0IGJ5Q2FyZExhYmVsczogUmVjb3JkPFxuICAgICAgICBzdHJpbmcsXG4gICAgICAgIHsgaWQ6IHN0cmluZzsgbmFtZTogc3RyaW5nOyBjb2xvcjogc3RyaW5nIH1bXVxuICAgICAgPiA9IHt9O1xuICAgICAgZm9yIChjb25zdCBjbCBvZiBjYXJkTGFiZWxzID8/IFtdKSB7XG4gICAgICAgIGNvbnN0IGxhYiA9IGxhYmVsTWFwLmdldChjbC5sYWJlbF9pZCkgYXMgYW55O1xuICAgICAgICBpZiAoIWxhYikgY29udGludWU7XG4gICAgICAgIGJ5Q2FyZExhYmVsc1tjbC5jYXJkX2lkXSA9IGJ5Q2FyZExhYmVsc1tjbC5jYXJkX2lkXSA/PyBbXTtcbiAgICAgICAgYnlDYXJkTGFiZWxzW2NsLmNhcmRfaWRdLnB1c2goe1xuICAgICAgICAgIGlkOiBsYWIuaWQsXG4gICAgICAgICAgbmFtZTogbGFiLm5hbWUsXG4gICAgICAgICAgY29sb3I6IGxhYi5jb2xvcixcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBzZXRMYWJlbHNCeUNhcmQoYnlDYXJkTGFiZWxzKTtcblxuICAgICAgLy8gZmV0Y2ggYXR0YWNobWVudHMgY291bnQgcGVyIGNhcmRcbiAgICAgIGNvbnN0IHsgZGF0YTogYXR0cyB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJhdHRhY2htZW50c1wiKVxuICAgICAgICAuc2VsZWN0KFwiY2FyZF9pZFwiKTtcbiAgICAgIGNvbnN0IGNvdW50TWFwOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XG4gICAgICBmb3IgKGNvbnN0IGEgb2YgYXR0cyA/PyBbXSkge1xuICAgICAgICBjb3VudE1hcFthLmNhcmRfaWRdID0gKGNvdW50TWFwW2EuY2FyZF9pZF0gPz8gMCkgKyAxO1xuICAgICAgfVxuICAgICAgc2V0QXR0YWNobWVudHNDb3VudEJ5Q2FyZChjb3VudE1hcCk7XG5cbiAgICAgIC8vIGZldGNoIGNvbW1lbnRzIGNvdW50IHBlciBjYXJkXG4gICAgICBjb25zdCB7IGRhdGE6IGNtcyB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJjYXJkX2NvbW1lbnRzXCIpXG4gICAgICAgIC5zZWxlY3QoXCJjYXJkX2lkXCIpO1xuICAgICAgY29uc3QgY0NvdW50OiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XG4gICAgICBmb3IgKGNvbnN0IGMgb2YgY21zID8/IFtdKSB7XG4gICAgICAgIGNDb3VudFtjLmNhcmRfaWRdID0gKGNDb3VudFtjLmNhcmRfaWRdID8/IDApICsgMTtcbiAgICAgIH1cbiAgICAgIHNldENvbW1lbnRzQ291bnRCeUNhcmQoY0NvdW50KTtcblxuICAgICAgLy8gc2V0dGluZ3NcbiAgICAgIGNvbnN0IHsgZGF0YTogc3QgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwiYm9hcmRfc2V0dGluZ3NcIilcbiAgICAgICAgLnNlbGVjdChcIipcIilcbiAgICAgICAgLmVxKFwiYm9hcmRfaWRcIiwgYm9hcmRJZClcbiAgICAgICAgLm1heWJlU2luZ2xlKCk7XG4gICAgICBpZiAoc3QpXG4gICAgICAgIHNldFNldHRpbmdzKHtcbiAgICAgICAgICBhdXRvX3N0YXJ0X29uX2NyZWF0ZTogc3QuYXV0b19zdGFydF9vbl9jcmVhdGUsXG4gICAgICAgICAgZHVlX29mZnNldF9taW51dGVzOiBzdC5kdWVfb2Zmc2V0X21pbnV0ZXMsXG4gICAgICAgICAgZHVlX3Nvb25fdGhyZXNob2xkX21pbnV0ZXM6IHN0LmR1ZV9zb29uX3RocmVzaG9sZF9taW51dGVzLFxuICAgICAgICB9KTtcbiAgICB9KSgpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBtb3VudGVkID0gZmFsc2U7XG4gICAgfTtcbiAgfSwgW2JvYXJkSWQsIHN1cGFiYXNlXSk7XG5cbiAgLy8gUmVhbHRpbWVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBjaGFubmVsID0gc3VwYWJhc2VcbiAgICAgIC5jaGFubmVsKGBib2FyZDoke2JvYXJkSWR9YClcbiAgICAgIC5vbihcbiAgICAgICAgXCJwb3N0Z3Jlc19jaGFuZ2VzXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBldmVudDogXCIqXCIsXG4gICAgICAgICAgc2NoZW1hOiBcInB1YmxpY1wiLFxuICAgICAgICAgIHRhYmxlOiBcImxpc3RzXCIsXG4gICAgICAgICAgZmlsdGVyOiBgYm9hcmRfaWQ9ZXEuJHtib2FyZElkfWAsXG4gICAgICAgIH0sXG4gICAgICAgIChwYXlsb2FkOiBSZWFsdGltZVBvc3RncmVzQ2hhbmdlc1BheWxvYWQ8TGlzdD4pID0+IHtcbiAgICAgICAgICBzZXRMaXN0cygocHJldikgPT4ge1xuICAgICAgICAgICAgaWYgKHBheWxvYWQuZXZlbnRUeXBlID09PSBcIklOU0VSVFwiKVxuICAgICAgICAgICAgICByZXR1cm4gWy4uLnByZXYsIHBheWxvYWQubmV3XS5zb3J0KFxuICAgICAgICAgICAgICAgIChhLCBiKSA9PiBhLnBvc2l0aW9uIC0gYi5wb3NpdGlvblxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKHBheWxvYWQuZXZlbnRUeXBlID09PSBcIlVQREFURVwiKVxuICAgICAgICAgICAgICByZXR1cm4gcHJldlxuICAgICAgICAgICAgICAgIC5tYXAoKGwpID0+IChsLmlkID09PSBwYXlsb2FkLm5ldy5pZCA/IHBheWxvYWQubmV3IDogbCkpXG4gICAgICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IGEucG9zaXRpb24gLSBiLnBvc2l0aW9uKTtcbiAgICAgICAgICAgIGlmIChwYXlsb2FkLmV2ZW50VHlwZSA9PT0gXCJERUxFVEVcIilcbiAgICAgICAgICAgICAgcmV0dXJuIHByZXYuZmlsdGVyKChsKSA9PiBsLmlkICE9PSBwYXlsb2FkLm9sZC5pZCk7XG4gICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgKVxuICAgICAgLm9uKFxuICAgICAgICBcInBvc3RncmVzX2NoYW5nZXNcIixcbiAgICAgICAge1xuICAgICAgICAgIGV2ZW50OiBcIipcIixcbiAgICAgICAgICBzY2hlbWE6IFwicHVibGljXCIsXG4gICAgICAgICAgdGFibGU6IFwiY2FyZHNcIixcbiAgICAgICAgICBmaWx0ZXI6IGBib2FyZF9pZD1lcS4ke2JvYXJkSWR9YCxcbiAgICAgICAgfSxcbiAgICAgICAgKHBheWxvYWQ6IFJlYWx0aW1lUG9zdGdyZXNDaGFuZ2VzUGF5bG9hZDxDYXJkPikgPT4ge1xuICAgICAgICAgIHNldENhcmRzQnlMaXN0KChwcmV2KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkID0geyAuLi5wcmV2IH07XG4gICAgICAgICAgICBpZiAocGF5bG9hZC5ldmVudFR5cGUgPT09IFwiSU5TRVJUXCIpIHtcbiAgICAgICAgICAgICAgaWYgKChwYXlsb2FkLm5ldyBhcyBhbnkpPy5hcmNoaXZlZF9hdCkgcmV0dXJuIHVwZGF0ZWQ7XG4gICAgICAgICAgICAgIGNvbnN0IGxpc3RJZCA9IHBheWxvYWQubmV3Lmxpc3RfaWQ7XG4gICAgICAgICAgICAgIHVwZGF0ZWRbbGlzdElkXSA9IFsuLi4odXBkYXRlZFtsaXN0SWRdID8/IFtdKSwgcGF5bG9hZC5uZXddLnNvcnQoXG4gICAgICAgICAgICAgICAgKGEsIGIpID0+IGEucG9zaXRpb24gLSBiLnBvc2l0aW9uXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuZXZlbnRUeXBlID09PSBcIlVQREFURVwiKSB7XG4gICAgICAgICAgICAgIC8vIHJlbW92ZSBmcm9tIG9sZCBsaXN0IGlmIG1vdmVkXG4gICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHVwZGF0ZWQpKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlZFtrZXldID0gKHVwZGF0ZWRba2V5XSA/PyBbXSkuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgKGMpID0+IGMuaWQgIT09IHBheWxvYWQubmV3LmlkXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoKHBheWxvYWQubmV3IGFzIGFueSk/LmFyY2hpdmVkX2F0KSB7XG4gICAgICAgICAgICAgICAgLy8gYXJxdWl2YWRvOiBuw6NvIHJlaW50cm9kdXppclxuICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGVkO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnN0IGxpc3RJZCA9IHBheWxvYWQubmV3Lmxpc3RfaWQ7XG4gICAgICAgICAgICAgIHVwZGF0ZWRbbGlzdElkXSA9IFsuLi4odXBkYXRlZFtsaXN0SWRdID8/IFtdKSwgcGF5bG9hZC5uZXddLnNvcnQoXG4gICAgICAgICAgICAgICAgKGEsIGIpID0+IGEucG9zaXRpb24gLSBiLnBvc2l0aW9uXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBheWxvYWQuZXZlbnRUeXBlID09PSBcIkRFTEVURVwiKSB7XG4gICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHVwZGF0ZWQpKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlZFtrZXldID0gKHVwZGF0ZWRba2V5XSA/PyBbXSkuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgKGMpID0+IGMuaWQgIT09IHBheWxvYWQub2xkLmlkXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZWQ7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIClcbiAgICAgIC5zdWJzY3JpYmUoKTtcblxuICAgIC8vIGNhcmRfbGFiZWxzIHJlYWx0aW1lXG4gICAgY29uc3QgY2hhbm5lbDIgPSBzdXBhYmFzZVxuICAgICAgLmNoYW5uZWwoYGxhYmVsczoke2JvYXJkSWR9YClcbiAgICAgIC5vbihcbiAgICAgICAgXCJwb3N0Z3Jlc19jaGFuZ2VzXCIsXG4gICAgICAgIHsgZXZlbnQ6IFwiKlwiLCBzY2hlbWE6IFwicHVibGljXCIsIHRhYmxlOiBcImNhcmRfbGFiZWxzXCIgfSxcbiAgICAgICAgKHBheWxvYWQ6IGFueSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNhcmRJZCA9IChwYXlsb2FkLm5ldz8uY2FyZF9pZCA/P1xuICAgICAgICAgICAgcGF5bG9hZC5vbGQ/LmNhcmRfaWQpIGFzIHN0cmluZztcbiAgICAgICAgICAvLyBhdHVhbGl6YSBzb21lbnRlIHNlIG8gY2FyZCBleGlzdGUgbmVzdGUgYm9hcmRcbiAgICAgICAgICBjb25zdCBleGlzdHMgPSBPYmplY3QudmFsdWVzKGNhcmRzQnlMaXN0KS5zb21lKChhcnIpID0+XG4gICAgICAgICAgICAoYXJyID8/IFtdKS5zb21lKChjKSA9PiBjLmlkID09PSBjYXJkSWQpXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoIWV4aXN0cykgcmV0dXJuO1xuICAgICAgICAgIHNldExhYmVsc0J5Q2FyZCgocHJldikgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29weSA9IHsgLi4ucHJldiB9O1xuICAgICAgICAgICAgaWYgKHBheWxvYWQuZXZlbnRUeXBlID09PSBcIklOU0VSVFwiKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGxhYiA9IGxhYmVsc0luZGV4W3BheWxvYWQubmV3LmxhYmVsX2lkXTtcbiAgICAgICAgICAgICAgaWYgKGxhYikge1xuICAgICAgICAgICAgICAgIGNvcHlbY2FyZElkXSA9IFsuLi4oY29weVtjYXJkSWRdID8/IFtdKSwgbGFiXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkLmV2ZW50VHlwZSA9PT0gXCJERUxFVEVcIikge1xuICAgICAgICAgICAgICBjb3B5W2NhcmRJZF0gPSAoY29weVtjYXJkSWRdID8/IFtdKS5maWx0ZXIoXG4gICAgICAgICAgICAgICAgKGwpID0+IGwuaWQgIT09IHBheWxvYWQub2xkLmxhYmVsX2lkXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29weTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgKVxuICAgICAgLnN1YnNjcmliZSgpO1xuICAgIC8vIGF0dGFjaG1lbnRzIHJlYWx0aW1lXG4gICAgY29uc3QgY2hhbm5lbDMgPSBzdXBhYmFzZVxuICAgICAgLmNoYW5uZWwoYGF0dGFjaG1lbnRzOiR7Ym9hcmRJZH1gKVxuICAgICAgLm9uKFxuICAgICAgICBcInBvc3RncmVzX2NoYW5nZXNcIixcbiAgICAgICAgeyBldmVudDogXCIqXCIsIHNjaGVtYTogXCJwdWJsaWNcIiwgdGFibGU6IFwiYXR0YWNobWVudHNcIiB9LFxuICAgICAgICAocGF5bG9hZDogYW55KSA9PiB7XG4gICAgICAgICAgY29uc3QgY2FyZElkID0gKHBheWxvYWQubmV3Py5jYXJkX2lkID8/XG4gICAgICAgICAgICBwYXlsb2FkLm9sZD8uY2FyZF9pZCkgYXMgc3RyaW5nO1xuICAgICAgICAgIHNldEF0dGFjaG1lbnRzQ291bnRCeUNhcmQoKHByZXYpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvcHkgPSB7IC4uLnByZXYgfTtcbiAgICAgICAgICAgIGlmIChwYXlsb2FkLmV2ZW50VHlwZSA9PT0gXCJJTlNFUlRcIikge1xuICAgICAgICAgICAgICBjb3B5W2NhcmRJZF0gPSAoY29weVtjYXJkSWRdID8/IDApICsgMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5ldmVudFR5cGUgPT09IFwiREVMRVRFXCIpIHtcbiAgICAgICAgICAgICAgY29weVtjYXJkSWRdID0gTWF0aC5tYXgoMCwgKGNvcHlbY2FyZElkXSA/PyAxKSAtIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvcHk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIClcbiAgICAgIC5zdWJzY3JpYmUoKTtcbiAgICAvLyBjb21tZW50cyByZWFsdGltZVxuICAgIGNvbnN0IGNoYW5uZWw0ID0gc3VwYWJhc2VcbiAgICAgIC5jaGFubmVsKGBjb21tZW50czoke2JvYXJkSWR9YClcbiAgICAgIC5vbihcbiAgICAgICAgXCJwb3N0Z3Jlc19jaGFuZ2VzXCIsXG4gICAgICAgIHsgZXZlbnQ6IFwiKlwiLCBzY2hlbWE6IFwicHVibGljXCIsIHRhYmxlOiBcImNhcmRfY29tbWVudHNcIiB9LFxuICAgICAgICAocGF5bG9hZDogYW55KSA9PiB7XG4gICAgICAgICAgY29uc3QgY2FyZElkID0gKHBheWxvYWQubmV3Py5jYXJkX2lkID8/XG4gICAgICAgICAgICBwYXlsb2FkLm9sZD8uY2FyZF9pZCkgYXMgc3RyaW5nO1xuICAgICAgICAgIHNldENvbW1lbnRzQ291bnRCeUNhcmQoKHByZXYpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvcHkgPSB7IC4uLnByZXYgfTtcbiAgICAgICAgICAgIGlmIChwYXlsb2FkLmV2ZW50VHlwZSA9PT0gXCJJTlNFUlRcIilcbiAgICAgICAgICAgICAgY29weVtjYXJkSWRdID0gKGNvcHlbY2FyZElkXSA/PyAwKSArIDE7XG4gICAgICAgICAgICBlbHNlIGlmIChwYXlsb2FkLmV2ZW50VHlwZSA9PT0gXCJERUxFVEVcIilcbiAgICAgICAgICAgICAgY29weVtjYXJkSWRdID0gTWF0aC5tYXgoMCwgKGNvcHlbY2FyZElkXSA/PyAxKSAtIDEpO1xuICAgICAgICAgICAgcmV0dXJuIGNvcHk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIClcbiAgICAgIC5zdWJzY3JpYmUoKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgc3VwYWJhc2UucmVtb3ZlQ2hhbm5lbChjaGFubmVsKTtcbiAgICAgIHN1cGFiYXNlLnJlbW92ZUNoYW5uZWwoY2hhbm5lbDIpO1xuICAgICAgc3VwYWJhc2UucmVtb3ZlQ2hhbm5lbChjaGFubmVsMyk7XG4gICAgICBzdXBhYmFzZS5yZW1vdmVDaGFubmVsKGNoYW5uZWw0KTtcbiAgICB9O1xuICB9LCBbYm9hcmRJZCwgc3VwYWJhc2UsIGNhcmRzQnlMaXN0LCBsYWJlbHNJbmRleF0pO1xuXG4gIC8vIExpc3RlbmVyIG9wY2lvbmFsIHBhcmEgZm9yw6dhciByZWZyZXNoIGRlIG1ldGEgKGxhYmVscy9jb21lbnTDoXJpb3MpIGRlIHVtIGNhcnTDo29cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBhc3luYyBmdW5jdGlvbiBvblJlZnJlc2hNZXRhKGU6IGFueSkge1xuICAgICAgY29uc3QgY2FyZElkID0gZT8uZGV0YWlsPy5jYXJkSWQgYXMgc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgaWYgKCFjYXJkSWQpIHJldHVybjtcbiAgICAgIGNvbnN0IHsgZGF0YTogY2xzIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcImNhcmRfbGFiZWxzXCIpXG4gICAgICAgIC5zZWxlY3QoXCJsYWJlbF9pZFwiKVxuICAgICAgICAuZXEoXCJjYXJkX2lkXCIsIGNhcmRJZCk7XG4gICAgICBjb25zdCBsYWJzID0gKGNscyA/PyBbXSlcbiAgICAgICAgLm1hcCgoeDogYW55KSA9PiBsYWJlbHNJbmRleFt4LmxhYmVsX2lkXSlcbiAgICAgICAgLmZpbHRlcihCb29sZWFuKTtcbiAgICAgIHNldExhYmVsc0J5Q2FyZCgocHJldikgPT4gKHsgLi4ucHJldiwgW2NhcmRJZF06IGxhYnMgYXMgYW55IH0pKTtcbiAgICAgIGNvbnN0IHsgY291bnQgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwiY2FyZF9jb21tZW50c1wiKVxuICAgICAgICAuc2VsZWN0KFwiKlwiLCB7IGNvdW50OiBcImV4YWN0XCIsIGhlYWQ6IHRydWUgfSlcbiAgICAgICAgLmVxKFwiY2FyZF9pZFwiLCBjYXJkSWQpO1xuICAgICAgc2V0Q29tbWVudHNDb3VudEJ5Q2FyZCgocHJldikgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgW2NhcmRJZF06IHR5cGVvZiBjb3VudCA9PT0gXCJudW1iZXJcIiA/IGNvdW50IDogcHJldltjYXJkSWRdID8/IDAsXG4gICAgICB9KSk7XG4gICAgfVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2FyZDpyZWZyZXNoLW1ldGFcIiwgb25SZWZyZXNoTWV0YSBhcyBhbnkpO1xuICAgIHJldHVybiAoKSA9PlxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjYXJkOnJlZnJlc2gtbWV0YVwiLCBvblJlZnJlc2hNZXRhIGFzIGFueSk7XG4gIH0sIFtzdXBhYmFzZSwgbGFiZWxzSW5kZXhdKTtcblxuICBhc3luYyBmdW5jdGlvbiBhZGRMaXN0KCkge1xuICAgIGNvbnN0IG5hbWUgPSBwcm9tcHQoXCJOb21lIGRhIGxpc3RhOlwiKT8udHJpbSgpO1xuICAgIGlmICghbmFtZSkgcmV0dXJuO1xuICAgIGNvbnN0IG1heFBvcyA9IGxpc3RzLmxlbmd0aCA/IE1hdGgubWF4KC4uLmxpc3RzLm1hcCgobCkgPT4gbC5wb3NpdGlvbikpIDogMDtcbiAgICBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJsaXN0c1wiKVxuICAgICAgLmluc2VydCh7IG5hbWUsIGJvYXJkX2lkOiBib2FyZElkLCBwb3NpdGlvbjogbWF4UG9zICsgMTAwIH0pO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gYWRkQ2FyZChsaXN0SWQ6IHN0cmluZywgdGl0bGU6IHN0cmluZykge1xuICAgIGNvbnN0IHQgPSB0aXRsZS50cmltKCk7XG4gICAgaWYgKCF0KSByZXR1cm47XG4gICAgY29uc3QgY2FyZHMgPSBjYXJkc0J5TGlzdFtsaXN0SWRdID8/IFtdO1xuICAgIGNvbnN0IG1heFBvcyA9IGNhcmRzLmxlbmd0aCA/IE1hdGgubWF4KC4uLmNhcmRzLm1hcCgoYykgPT4gYy5wb3NpdGlvbikpIDogMDtcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IHN0YXJ0X2RhdGUgPSBzZXR0aW5ncy5hdXRvX3N0YXJ0X29uX2NyZWF0ZSA/IG5vdy50b0lTT1N0cmluZygpIDogbnVsbDtcbiAgICBjb25zdCBkdWVfZGF0ZSA9XG4gICAgICBzZXR0aW5ncy5kdWVfb2Zmc2V0X21pbnV0ZXMgPiAwXG4gICAgICAgID8gbmV3IERhdGUoXG4gICAgICAgICAgICBub3cuZ2V0VGltZSgpICsgc2V0dGluZ3MuZHVlX29mZnNldF9taW51dGVzICogNjAwMDBcbiAgICAgICAgICApLnRvSVNPU3RyaW5nKClcbiAgICAgICAgOiBudWxsO1xuICAgIGF3YWl0IGZldGNoKFwiL2FwaS9jYXJkc1wiLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0aXRsZTogdCxcbiAgICAgICAgYm9hcmRfaWQ6IGJvYXJkSWQsXG4gICAgICAgIGxpc3RfaWQ6IGxpc3RJZCxcbiAgICAgICAgcG9zaXRpb246IG1heFBvcyArIDEwMCxcbiAgICAgICAgZGVzY3JpcHRpb246IG51bGwsXG4gICAgICAgIGR1ZV9kYXRlLFxuICAgICAgfSksXG4gICAgfSk7XG4gIH1cblxuICAvLyBGaWx0cm9zIGRvIHF1YWRyb1xuICBjb25zdCBbZmlsdGVycywgc2V0RmlsdGVyc10gPSB1c2VTdGF0ZTx7XG4gICAgcXVlcnk6IHN0cmluZztcbiAgICBsYWJlbElkczogc3RyaW5nW107XG4gICAgbWVtYmVySWRzOiBzdHJpbmdbXTtcbiAgICBkdWU6IFwiYWxsXCIgfCBcIm92ZXJkdWVcIiB8IFwidG9kYXlcIiB8IFwid2Vla1wiIHwgXCJub25lXCI7XG4gIH0+KHtcbiAgICBxdWVyeTogXCJcIixcbiAgICBsYWJlbElkczogW10sXG4gICAgbWVtYmVySWRzOiBbXSxcbiAgICBkdWU6IFwiYWxsXCIsXG4gIH0pO1xuICBjb25zdCBsYWJlbHNBbmNob3JSZWYgPSBSZWFjdC51c2VSZWY8SFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgbWVtYmVyc0FuY2hvclJlZiA9IFJlYWN0LnVzZVJlZjxIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbbGFiZWxzT3Blbiwgc2V0TGFiZWxzT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFttZW1iZXJzT3Blbiwgc2V0TWVtYmVyc09wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIGNvbnN0IGFsbE1lbWJlcnMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBtYXAgPSBuZXcgTWFwPHN0cmluZywgeyBpZDogc3RyaW5nOyBuYW1lOiBzdHJpbmcgfCBudWxsIH0+KCk7XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMobWVtYmVyc0J5Q2FyZCkpIHtcbiAgICAgIGNvbnN0IGFyciA9IChtZW1iZXJzQnlDYXJkIGFzIGFueSlba2V5XSBhcyBhbnlbXTtcbiAgICAgIGZvciAoY29uc3QgbSBvZiBhcnIgPz8gW10pIHtcbiAgICAgICAgaWYgKCFtPy5pZCkgY29udGludWU7XG4gICAgICAgIGlmICghbWFwLmhhcyhtLmlkKSkgbWFwLnNldChtLmlkLCB7IGlkOiBtLmlkLCBuYW1lOiBtLm5hbWUgPz8gbnVsbCB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIEFycmF5LmZyb20obWFwLnZhbHVlcygpKTtcbiAgfSwgW21lbWJlcnNCeUNhcmRdKTtcblxuICBmdW5jdGlvbiBjYXJkTWF0Y2hlc0ZpbHRlcnMoY2FyZDogQ2FyZCkge1xuICAgIGNvbnN0IHEgPSBmaWx0ZXJzLnF1ZXJ5LnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChxKSB7XG4gICAgICBjb25zdCB0aXRsZSA9IChjYXJkLnRpdGxlID8/IFwiXCIpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBjb25zdCBkZXNjID0gKGNhcmQuZGVzY3JpcHRpb24gPz8gXCJcIikudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmICghdGl0bGUuaW5jbHVkZXMocSkgJiYgIWRlc2MuaW5jbHVkZXMocSkpIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGZpbHRlcnMubGFiZWxJZHMubGVuZ3RoKSB7XG4gICAgICBjb25zdCBsYWJzID0gbGFiZWxzQnlDYXJkW2NhcmQuaWRdID8/IFtdO1xuICAgICAgY29uc3QgbGFiU2V0ID0gbmV3IFNldChsYWJzLm1hcCgobCkgPT4gbC5pZCkpO1xuICAgICAgY29uc3QgbWF0Y2ggPSBmaWx0ZXJzLmxhYmVsSWRzLnNvbWUoKGlkKSA9PiBsYWJTZXQuaGFzKGlkKSk7XG4gICAgICBpZiAoIW1hdGNoKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChmaWx0ZXJzLm1lbWJlcklkcy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IG1zID0gbWVtYmVyc0J5Q2FyZFtjYXJkLmlkXSA/PyBbXTtcbiAgICAgIGNvbnN0IG1TZXQgPSBuZXcgU2V0KG1zLm1hcCgobSkgPT4gbS5pZCkuZmlsdGVyKEJvb2xlYW4pIGFzIHN0cmluZ1tdKTtcbiAgICAgIGNvbnN0IG1hdGNoID0gZmlsdGVycy5tZW1iZXJJZHMuc29tZSgoaWQpID0+IG1TZXQuaGFzKGlkKSk7XG4gICAgICBpZiAoIW1hdGNoKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChmaWx0ZXJzLmR1ZSAhPT0gXCJhbGxcIikge1xuICAgICAgY29uc3QgZCA9IGNhcmQuZHVlX2RhdGUgPyBuZXcgRGF0ZShjYXJkLmR1ZV9kYXRlKSA6IG51bGw7XG4gICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgY29uc3Qgc3RhcnRPZlRvZGF5ID0gbmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIG5vdy5nZXRNb250aCgpLCBub3cuZ2V0RGF0ZSgpKTtcbiAgICAgIGNvbnN0IGVuZE9mVG9kYXkgPSBuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgbm93LmdldE1vbnRoKCksIG5vdy5nZXREYXRlKCksIDIzLCA1OSwgNTksIDk5OSk7XG4gICAgICBpZiAoZmlsdGVycy5kdWUgPT09IFwibm9uZVwiKSB7XG4gICAgICAgIGlmIChkKSByZXR1cm4gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKCFkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAoZmlsdGVycy5kdWUgPT09IFwib3ZlcmR1ZVwiKSB7XG4gICAgICAgIGlmIChkLmdldFRpbWUoKSA+PSBub3cuZ2V0VGltZSgpKSByZXR1cm4gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKGZpbHRlcnMuZHVlID09PSBcInRvZGF5XCIpIHtcbiAgICAgICAgaWYgKGQuZ2V0VGltZSgpIDwgc3RhcnRPZlRvZGF5LmdldFRpbWUoKSB8fCBkLmdldFRpbWUoKSA+IGVuZE9mVG9kYXkuZ2V0VGltZSgpKSByZXR1cm4gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKGZpbHRlcnMuZHVlID09PSBcIndlZWtcIikge1xuICAgICAgICBjb25zdCBpbjcgPSBuZXcgRGF0ZShub3cuZ2V0VGltZSgpICsgNyAqIDI0ICogNjAgKiA2MCAqIDEwMDApO1xuICAgICAgICBpZiAoZC5nZXRUaW1lKCkgPCBzdGFydE9mVG9kYXkuZ2V0VGltZSgpIHx8IGQuZ2V0VGltZSgpID4gaW43LmdldFRpbWUoKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmRDYXJkTG9jYXRpb24oXG4gICAgY2FyZElkOiBzdHJpbmdcbiAgKTogeyBsaXN0SW5kZXg6IG51bWJlcjsgY2FyZEluZGV4OiBudW1iZXIgfSB8IG51bGwge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNzID0gY2FyZHNCeUxpc3RbbGlzdHNbaV0uaWRdID8/IFtdO1xuICAgICAgY29uc3QgaWR4ID0gY3MuZmluZEluZGV4KChjKSA9PiBjLmlkID09PSBjYXJkSWQpO1xuICAgICAgaWYgKGlkeCA+PSAwKSByZXR1cm4geyBsaXN0SW5kZXg6IGksIGNhcmRJbmRleDogaWR4IH07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gY29tcHV0ZVBvc2l0aW9uKHByZXY/OiBudW1iZXIsIG5leHQ/OiBudW1iZXIpIHtcbiAgICBpZiAocHJldiAhPSBudWxsICYmIG5leHQgIT0gbnVsbCkgcmV0dXJuIChwcmV2ICsgbmV4dCkgLyAyO1xuICAgIGlmIChwcmV2ICE9IG51bGwpIHJldHVybiBwcmV2ICsgMTAwO1xuICAgIGlmIChuZXh0ICE9IG51bGwpIHJldHVybiBuZXh0IC0gMTAwO1xuICAgIHJldHVybiAxMDA7XG4gIH1cblxuICBmdW5jdGlvbiBvbkRyYWdTdGFydChldmVudDogRHJhZ1N0YXJ0RXZlbnQpIHtcbiAgICBjb25zdCBpZCA9IFN0cmluZyhldmVudC5hY3RpdmUuaWQpO1xuICAgIHNldEFjdGl2ZURyYWdJZChpZCk7XG4gICAgaWYgKGlkLnN0YXJ0c1dpdGgoXCJjb250YWluZXI6XCIpKSB7XG4gICAgICBzZXREcmFnZ2luZ0xpc3RJZChpZC5yZXBsYWNlKFwiY29udGFpbmVyOlwiLCBcIlwiKSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25EcmFnT3ZlcihldmVudDogYW55KSB7XG4gICAgY29uc3Qgb3ZlcklkID0gZXZlbnQub3Zlcj8uaWQgPyBTdHJpbmcoZXZlbnQub3Zlci5pZCkgOiBudWxsO1xuICAgIGNvbnN0IGFjdGl2ZUlkID0gZXZlbnQuYWN0aXZlPy5pZCA/IFN0cmluZyhldmVudC5hY3RpdmUuaWQpIDogbnVsbDtcbiAgICBpZiAoIW92ZXJJZCB8fCAhYWN0aXZlSWQpIHJldHVybjtcbiAgICBpZiAoYWN0aXZlSWQuc3RhcnRzV2l0aChcImNvbnRhaW5lcjpcIikpIHtcbiAgICAgIGxldCB0b0xpc3RJZCA9IG92ZXJJZDtcbiAgICAgIGlmIChvdmVySWQuc3RhcnRzV2l0aChcImNvbnRhaW5lcjpcIikpXG4gICAgICAgIHRvTGlzdElkID0gb3ZlcklkLnJlcGxhY2UoXCJjb250YWluZXI6XCIsIFwiXCIpO1xuICAgICAgZWxzZSBpZiAob3ZlcklkLnN0YXJ0c1dpdGgoXCJsaXN0OlwiKSlcbiAgICAgICAgdG9MaXN0SWQgPSBvdmVySWQucmVwbGFjZShcImxpc3Q6XCIsIFwiXCIpO1xuICAgICAgc2V0T3Zlckxpc3RJZCh0b0xpc3RJZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldE92ZXJMaXN0SWQobnVsbCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gb25EcmFnRW5kKGV2ZW50OiBEcmFnRW5kRXZlbnQpIHtcbiAgICBzZXRBY3RpdmVEcmFnSWQobnVsbCk7XG4gICAgc2V0RHJhZ2dpbmdMaXN0SWQobnVsbCk7XG4gICAgc2V0T3Zlckxpc3RJZChudWxsKTtcbiAgICBjb25zdCB7IGFjdGl2ZSwgb3ZlciB9ID0gZXZlbnQ7XG4gICAgaWYgKCFvdmVyKSByZXR1cm47XG4gICAgY29uc3QgYWN0aXZlSWQgPSBTdHJpbmcoYWN0aXZlLmlkKTsgLy8gZm9ybWF0OiA8bGlzdElkPjo8Y2FyZElkPlxuICAgIGNvbnN0IG92ZXJJZCA9IFN0cmluZyhvdmVyLmlkKTsgLy8gcG9kZSBzZXIgbGlzdDo8bGlzdElkPiBPVSA8bGlzdElkPjo8Y2FyZElkPlxuICAgIC8vIFJlb3JkZW5hciBsaXN0YXMgKG1lc21vIHF1YW5kbyBvdmVyIMOpIG8gZHJvcHBhYmxlIGludGVybm8gZGEgbGlzdGEpXG4gICAgaWYgKGFjdGl2ZUlkLnN0YXJ0c1dpdGgoXCJjb250YWluZXI6XCIpKSB7XG4gICAgICBjb25zdCBmcm9tTGlzdElkID0gYWN0aXZlSWQucmVwbGFjZShcImNvbnRhaW5lcjpcIiwgXCJcIik7XG4gICAgICBsZXQgdG9MaXN0SWQgPSBvdmVySWQ7XG4gICAgICBpZiAob3ZlcklkLnN0YXJ0c1dpdGgoXCJjb250YWluZXI6XCIpKVxuICAgICAgICB0b0xpc3RJZCA9IG92ZXJJZC5yZXBsYWNlKFwiY29udGFpbmVyOlwiLCBcIlwiKTtcbiAgICAgIGVsc2UgaWYgKG92ZXJJZC5zdGFydHNXaXRoKFwibGlzdDpcIikpXG4gICAgICAgIHRvTGlzdElkID0gb3ZlcklkLnJlcGxhY2UoXCJsaXN0OlwiLCBcIlwiKTtcbiAgICAgIGVsc2UgdG9MaXN0SWQgPSBvdmVySWQ7XG4gICAgICBpZiAoIXRvTGlzdElkIHx8IGZyb21MaXN0SWQgPT09IHRvTGlzdElkKSByZXR1cm47XG4gICAgICBjb25zdCBmcm9tSW5kZXggPSBsaXN0cy5maW5kSW5kZXgoKGwpID0+IGwuaWQgPT09IGZyb21MaXN0SWQpO1xuICAgICAgY29uc3QgdG9JbmRleCA9IGxpc3RzLmZpbmRJbmRleCgobCkgPT4gbC5pZCA9PT0gdG9MaXN0SWQpO1xuICAgICAgaWYgKGZyb21JbmRleCA8IDAgfHwgdG9JbmRleCA8IDApIHJldHVybjtcbiAgICAgIGNvbnN0IG5leHQgPSBbLi4ubGlzdHNdO1xuICAgICAgY29uc3QgW21vdmVkXSA9IG5leHQuc3BsaWNlKGZyb21JbmRleCwgMSk7XG4gICAgICBuZXh0LnNwbGljZSh0b0luZGV4LCAwLCBtb3ZlZCk7XG4gICAgICBzZXRMaXN0cyhuZXh0KTtcbiAgICAgIGNvbnN0IHByZXZQb3MgPSB0b0luZGV4ID4gMCA/IG5leHRbdG9JbmRleCAtIDFdLnBvc2l0aW9uIDogdW5kZWZpbmVkO1xuICAgICAgY29uc3QgbmV4dFBvcyA9XG4gICAgICAgIHRvSW5kZXggPCBuZXh0Lmxlbmd0aCAtIDEgPyBuZXh0W3RvSW5kZXggKyAxXS5wb3NpdGlvbiA6IHVuZGVmaW5lZDtcbiAgICAgIGNvbnN0IG5ld1BvcyA9IGNvbXB1dGVQb3NpdGlvbihwcmV2UG9zLCBuZXh0UG9zKTtcbiAgICAgIGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwibGlzdHNcIilcbiAgICAgICAgLnVwZGF0ZSh7IHBvc2l0aW9uOiBuZXdQb3MgfSlcbiAgICAgICAgLmVxKFwiaWRcIiwgbW92ZWQuaWQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBSZW9yZGVuYXIgbGlzdGFzXG4gICAgaWYgKGFjdGl2ZUlkLnN0YXJ0c1dpdGgoXCJjb250YWluZXI6XCIpICYmIG92ZXJJZC5zdGFydHNXaXRoKFwiY29udGFpbmVyOlwiKSkge1xuICAgICAgY29uc3QgZnJvbUxpc3RJZCA9IGFjdGl2ZUlkLnJlcGxhY2UoXCJjb250YWluZXI6XCIsIFwiXCIpO1xuICAgICAgY29uc3QgdG9MaXN0SWQgPSBvdmVySWQucmVwbGFjZShcImNvbnRhaW5lcjpcIiwgXCJcIik7XG4gICAgICBpZiAoZnJvbUxpc3RJZCAhPT0gdG9MaXN0SWQpIHtcbiAgICAgICAgY29uc3QgZnJvbUluZGV4ID0gbGlzdHMuZmluZEluZGV4KChsKSA9PiBsLmlkID09PSBmcm9tTGlzdElkKTtcbiAgICAgICAgY29uc3QgdG9JbmRleCA9IGxpc3RzLmZpbmRJbmRleCgobCkgPT4gbC5pZCA9PT0gdG9MaXN0SWQpO1xuICAgICAgICBpZiAoZnJvbUluZGV4ID49IDAgJiYgdG9JbmRleCA+PSAwKSB7XG4gICAgICAgICAgY29uc3QgbmV4dCA9IFsuLi5saXN0c107XG4gICAgICAgICAgY29uc3QgW21vdmVkXSA9IG5leHQuc3BsaWNlKGZyb21JbmRleCwgMSk7XG4gICAgICAgICAgbmV4dC5zcGxpY2UodG9JbmRleCwgMCwgbW92ZWQpO1xuICAgICAgICAgIHNldExpc3RzKG5leHQpO1xuICAgICAgICAgIGNvbnN0IHByZXZQb3MgPSB0b0luZGV4ID4gMCA/IG5leHRbdG9JbmRleCAtIDFdLnBvc2l0aW9uIDogdW5kZWZpbmVkO1xuICAgICAgICAgIGNvbnN0IG5leHRQb3MgPVxuICAgICAgICAgICAgdG9JbmRleCA8IG5leHQubGVuZ3RoIC0gMSA/IG5leHRbdG9JbmRleCArIDFdLnBvc2l0aW9uIDogdW5kZWZpbmVkO1xuICAgICAgICAgIGNvbnN0IG5ld1BvcyA9IGNvbXB1dGVQb3NpdGlvbihwcmV2UG9zLCBuZXh0UG9zKTtcbiAgICAgICAgICBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgICAgLmZyb20oXCJsaXN0c1wiKVxuICAgICAgICAgICAgLnVwZGF0ZSh7IHBvc2l0aW9uOiBuZXdQb3MgfSlcbiAgICAgICAgICAgIC5lcShcImlkXCIsIG1vdmVkLmlkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBhY3RpdmVQYXJ0cyA9IGFjdGl2ZUlkLnNwbGl0KFwiOlwiKTtcbiAgICBjb25zdCBmcm9tTGlzdElkID0gYWN0aXZlUGFydHNbMF07XG4gICAgY29uc3QgY2FyZElkID0gYWN0aXZlUGFydHNbMV07XG4gICAgbGV0IHRvTGlzdElkOiBzdHJpbmc7XG4gICAgaWYgKG92ZXJJZC5zdGFydHNXaXRoKFwibGlzdDpcIikpIHtcbiAgICAgIHRvTGlzdElkID0gb3ZlcklkLnJlcGxhY2UoXCJsaXN0OlwiLCBcIlwiKTtcbiAgICB9IGVsc2UgaWYgKG92ZXJJZC5zdGFydHNXaXRoKFwiY29udGFpbmVyOlwiKSkge1xuICAgICAgLy8gcXVhbmRvIG8gYWx2byDDqSBvIGNvbnRhaW5lciBleHRlcm5vIGRhIGxpc3RhIChzb3J0YWJsZSBkYXMgbGlzdGFzKVxuICAgICAgdG9MaXN0SWQgPSBvdmVySWQucmVwbGFjZShcImNvbnRhaW5lcjpcIiwgXCJcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGZvcm1hdG8gPGxpc3RJZD46PGNhcmRJZD5cbiAgICAgIHRvTGlzdElkID0gb3ZlcklkLnNwbGl0KFwiOlwiKVswXTtcbiAgICB9XG4gICAgLy8gc2FuaXR5OiBnYXJhbnRlIHF1ZSDDqSB1bWEgbGlzdGEgdsOhbGlkYVxuICAgIGlmICghbGlzdHMuc29tZSgobCkgPT4gbC5pZCA9PT0gdG9MaXN0SWQpKSByZXR1cm47XG4gICAgY29uc3QgdGFyZ2V0TGlzdENhcmRzID0gKGNhcmRzQnlMaXN0W3RvTGlzdElkXSA/PyBbXSkuZmlsdGVyKFxuICAgICAgKGMpID0+IGMuaWQgIT09IGNhcmRJZFxuICAgICk7XG5cbiAgICAvLyDDrW5kaWNlIGRlIGluc2Vyw6fDo286IHNlIGVzdGl2ZXIgc29icmUgdW0gY2FyZCwgYW50ZXMgZGVsZTsgc2Ugc29icmUgYSBsaXN0YSwgbm8gZmluYWxcbiAgICBsZXQgaW5zZXJ0SW5kZXggPSB0YXJnZXRMaXN0Q2FyZHMubGVuZ3RoO1xuICAgIGlmICghb3ZlcklkLnN0YXJ0c1dpdGgoXCJsaXN0OlwiKSAmJiAhb3ZlcklkLnN0YXJ0c1dpdGgoXCJjb250YWluZXI6XCIpKSB7XG4gICAgICBjb25zdCBvdmVyQ2FyZElkID0gb3ZlcklkLnNwbGl0KFwiOlwiKVsxXTtcbiAgICAgIGNvbnN0IGlkeCA9IHRhcmdldExpc3RDYXJkcy5maW5kSW5kZXgoKGMpID0+IGMuaWQgPT09IG92ZXJDYXJkSWQpO1xuICAgICAgaWYgKGlkeCA+PSAwKSBpbnNlcnRJbmRleCA9IGlkeDtcbiAgICB9XG4gICAgLy8gY2FsY3VsYSBwb3Npw6fDo28gbm92YSBwZWxhIG3DqWRpYSBkb3Mgdml6aW5ob3NcbiAgICBjb25zdCBwcmV2UG9zID1cbiAgICAgIGluc2VydEluZGV4ID4gMCA/IHRhcmdldExpc3RDYXJkc1tpbnNlcnRJbmRleCAtIDFdLnBvc2l0aW9uIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IG5leHRQb3MgPVxuICAgICAgaW5zZXJ0SW5kZXggPCB0YXJnZXRMaXN0Q2FyZHMubGVuZ3RoXG4gICAgICAgID8gdGFyZ2V0TGlzdENhcmRzW2luc2VydEluZGV4XT8ucG9zaXRpb25cbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgbmV3UG9zID0gY29tcHV0ZVBvc2l0aW9uKHByZXZQb3MsIG5leHRQb3MpO1xuXG4gICAgLy8gVUkgb3RpbWlzdGEgY29tIHBvc3NpYmlsaWRhZGUgZGUgcm9sbGJhY2tcbiAgICBjb25zdCBwcmV2U3RhdGUgPSBjYXJkc0J5TGlzdDtcbiAgICBjb25zdCBuZXh0U3RhdGU6IFJlY29yZDxzdHJpbmcsIENhcmRbXT4gPSB7fTtcbiAgICBmb3IgKGNvbnN0IGsgb2YgT2JqZWN0LmtleXMocHJldlN0YXRlKSlcbiAgICAgIG5leHRTdGF0ZVtrXSA9IFsuLi4ocHJldlN0YXRlW2tdID8/IFtdKV07XG4gICAgLy8gcmVtb3ZlIGRvIGFudGlnb1xuICAgIGZvciAoY29uc3QgayBvZiBPYmplY3Qua2V5cyhuZXh0U3RhdGUpKSB7XG4gICAgICBuZXh0U3RhdGVba10gPSAobmV4dFN0YXRlW2tdID8/IFtdKS5maWx0ZXIoKGMpID0+IGMuaWQgIT09IGNhcmRJZCk7XG4gICAgfVxuICAgIC8vIHBlZ2EgZGFkb3MgZG8gY2FyZCBwYXJhIG1hbnRlciBtZXRhZGFkb3NcbiAgICBjb25zdCBtb3ZlZCA9IChwcmV2U3RhdGVbZnJvbUxpc3RJZF0gPz8gW10pLmZpbmQoKGMpID0+IGMuaWQgPT09IGNhcmRJZCk7XG4gICAgaWYgKCFtb3ZlZCkgcmV0dXJuO1xuICAgIGNvbnN0IG5ld0NhcmQ6IENhcmQgPSB7IC4uLm1vdmVkLCBsaXN0X2lkOiB0b0xpc3RJZCwgcG9zaXRpb246IG5ld1BvcyB9O1xuICAgIGNvbnN0IGFyciA9IG5leHRTdGF0ZVt0b0xpc3RJZF0gPz8gW107XG4gICAgYXJyLnNwbGljZShpbnNlcnRJbmRleCwgMCwgbmV3Q2FyZCk7XG4gICAgbmV4dFN0YXRlW3RvTGlzdElkXSA9IGFycjtcbiAgICBzZXRDYXJkc0J5TGlzdChuZXh0U3RhdGUpO1xuXG4gICAgLy8gcGVyc2lzdMOqbmNpYSB2aWEgQVBJIChzZXJ2aWNlIHJvbGUpIOKAlCBldml0YSBibG9xdWVpb3MgZGUgUkxTXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFwiL2FwaS9jYXJkcy9tb3ZlXCIsIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgaWQ6IGNhcmRJZCxcbiAgICAgICAgICBsaXN0X2lkOiB0b0xpc3RJZCxcbiAgICAgICAgICBwb3NpdGlvbjogbmV3UG9zLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXMub2spIHtcbiAgICAgICAgLy8gcm9sbGJhY2sgc2UgZmFsaGFyXG4gICAgICAgIHNldENhcmRzQnlMaXN0KHByZXZTdGF0ZSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCB7XG4gICAgICBzZXRDYXJkc0J5TGlzdChwcmV2U3RhdGUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJweC02IG10LTQgaC1mdWxsIGZsZXggZmxleC1jb2wgZ2FwLTNcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGJnLXdoaXRlLzgwIGJhY2tkcm9wLWJsdXIgYm9yZGVyIGJvcmRlci1uZXV0cmFsLTIwMCByb3VuZGVkLXhsIHB4LTMgcHktMiBzaGFkb3ctc21cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgPEZpbHRlciBzaXplPXsxNn0gLz5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW1cIj5GaWx0cm9zPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYm9yZGVyIHJvdW5kZWQgcHgtMiBweS0xIHRleHQtc21cIlxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJCdXNjYXIgKHTDrXR1bG8gb3UgZGVzY3Jpw6fDo28pXCJcbiAgICAgICAgICAgIHZhbHVlPXtmaWx0ZXJzLnF1ZXJ5fVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRGaWx0ZXJzKChmKSA9PiAoeyAuLi5mLCBxdWVyeTogZS50YXJnZXQudmFsdWUgfSkpfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgcmVmPXtsYWJlbHNBbmNob3JSZWZ9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJweC0yIHB5LTEgdGV4dC1zbSByb3VuZGVkIGJvcmRlciBob3ZlcjpiZy1uZXV0cmFsLTUwXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldExhYmVsc09wZW4odHJ1ZSl9XG4gICAgICAgICAgICB0aXRsZT1cIkZpbHRyYXIgcG9yIGV0aXF1ZXRhc1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgRXRpcXVldGFzXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPFBvcG92ZXJcbiAgICAgICAgICAgIG9wZW49e2xhYmVsc09wZW59XG4gICAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRMYWJlbHNPcGVuKGZhbHNlKX1cbiAgICAgICAgICAgIGFuY2hvclJlY3Q9e2xhYmVsc0FuY2hvclJlZi5jdXJyZW50Py5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKX1cbiAgICAgICAgICAgIHdpZHRoPXsyNjB9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTIgc3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHB4LTFcIj5FdGlxdWV0YXM8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtaC02MCBvdmVyZmxvdy1hdXRvIHByLTFcIj5cbiAgICAgICAgICAgICAgICB7T2JqZWN0LnZhbHVlcyhsYWJlbHNJbmRleCkubGVuZ3RoID09PSAwICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LW5ldXRyYWwtNTAwIHB4LTEgcHktMVwiPk5lbmh1bWEgZXRpcXVldGE8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIHtPYmplY3QudmFsdWVzKGxhYmVsc0luZGV4KS5tYXAoKGwpID0+IChcbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBrZXk9e2wuaWR9IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHB4LTEgcHktMSB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17ZmlsdGVycy5sYWJlbElkcy5pbmNsdWRlcyhsLmlkKX1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEZpbHRlcnMoKGYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2V0ID0gbmV3IFNldChmLmxhYmVsSWRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQpIHNldC5hZGQobC5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Ugc2V0LmRlbGV0ZShsLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZiwgbGFiZWxJZHM6IEFycmF5LmZyb20oc2V0KSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpbmxpbmUtYmxvY2sgaC0zIHctNiByb3VuZGVkLWZ1bGwgYm9yZGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6IGwuY29sb3IgfX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidHJ1bmNhdGVcIj57bC5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9Qb3BvdmVyPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIHJlZj17bWVtYmVyc0FuY2hvclJlZn1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTIgcHktMSB0ZXh0LXNtIHJvdW5kZWQgYm9yZGVyIGhvdmVyOmJnLW5ldXRyYWwtNTBcIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0TWVtYmVyc09wZW4odHJ1ZSl9XG4gICAgICAgICAgICB0aXRsZT1cIkZpbHRyYXIgcG9yIG1lbWJyb3NcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIE1lbWJyb3NcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8UG9wb3ZlclxuICAgICAgICAgICAgb3Blbj17bWVtYmVyc09wZW59XG4gICAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRNZW1iZXJzT3BlbihmYWxzZSl9XG4gICAgICAgICAgICBhbmNob3JSZWN0PXttZW1iZXJzQW5jaG9yUmVmLmN1cnJlbnQ/LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpfVxuICAgICAgICAgICAgd2lkdGg9ezI2MH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMiBzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgcHgtMVwiPk1lbWJyb3M8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtaC02MCBvdmVyZmxvdy1hdXRvIHByLTFcIj5cbiAgICAgICAgICAgICAgICB7YWxsTWVtYmVycy5sZW5ndGggPT09IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtbmV1dHJhbC01MDAgcHgtMSBweS0xXCI+TmVuaHVtIG1lbWJybzwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAge2FsbE1lbWJlcnMubWFwKChtKSA9PiAoXG4gICAgICAgICAgICAgICAgICA8bGFiZWwga2V5PXttLmlkfSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBweC0xIHB5LTEgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2ZpbHRlcnMubWVtYmVySWRzLmluY2x1ZGVzKG0uaWQpfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0RmlsdGVycygoZikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXQgPSBuZXcgU2V0KGYubWVtYmVySWRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQpIHNldC5hZGQobS5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Ugc2V0LmRlbGV0ZShtLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZiwgbWVtYmVySWRzOiBBcnJheS5mcm9tKHNldCkgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRydW5jYXRlXCI+e20ubmFtZSA/PyBtLmlkfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9Qb3BvdmVyPlxuICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJvcmRlciByb3VuZGVkIHB4LTIgcHktMSB0ZXh0LXNtXCJcbiAgICAgICAgICAgIHZhbHVlPXtmaWx0ZXJzLmR1ZX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0RmlsdGVycygoZikgPT4gKHsgLi4uZiwgZHVlOiBlLnRhcmdldC52YWx1ZSBhcyBhbnkgfSkpfVxuICAgICAgICAgICAgdGl0bGU9XCJWZW5jaW1lbnRvXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiYWxsXCI+VG9kYXMgYXMgZGF0YXM8L29wdGlvbj5cbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJvdmVyZHVlXCI+QXRyYXNhZG9zPC9vcHRpb24+XG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwidG9kYXlcIj5Ib2plPC9vcHRpb24+XG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwid2Vla1wiPlByw7N4aW1vcyA3IGRpYXM8L29wdGlvbj5cbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJub25lXCI+U2VtIGRhdGE8L29wdGlvbj5cbiAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0RmlsdGVycyh7IHF1ZXJ5OiBcIlwiLCBsYWJlbElkczogW10sIG1lbWJlcklkczogW10sIGR1ZTogXCJhbGxcIiB9KX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBMaW1wYXJcbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC00IG92ZXJmbG93LXgtYXV0byBvdmVyZmxvdy15LWhpZGRlbiBwYi02IGgtZnVsbFwiPlxuICAgICAgPERuZENvbnRleHRcbiAgICAgICAgc2Vuc29ycz17c2Vuc29yc31cbiAgICAgICAgY29sbGlzaW9uRGV0ZWN0aW9uPXtyZWN0SW50ZXJzZWN0aW9ufVxuICAgICAgICBvbkRyYWdTdGFydD17b25EcmFnU3RhcnR9XG4gICAgICAgIG9uRHJhZ092ZXI9e29uRHJhZ092ZXJ9XG4gICAgICAgIG9uRHJhZ0VuZD17b25EcmFnRW5kfVxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgZ2FwLTRcIj5cbiAgICAgICAgICA8U29ydGFibGVDb250ZXh0XG4gICAgICAgICAgICBpdGVtcz17bGlzdHMubWFwKChsKSA9PiBgY29udGFpbmVyOiR7bC5pZH1gKX1cbiAgICAgICAgICAgIHN0cmF0ZWd5PXtob3Jpem9udGFsTGlzdFNvcnRpbmdTdHJhdGVneX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7bGlzdHMubWFwKChsKSA9PiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAge2RyYWdnaW5nTGlzdElkICYmIG92ZXJMaXN0SWQgPT09IGwuaWQgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTgwIG1pbi13LVsyMHJlbV0gcm91bmRlZC14bCBib3JkZXItMiBib3JkZXItZGFzaGVkIGJvcmRlci1za3ktNDAwIGJnLXNreS0xMDAvMzAgaC0xMiBzZWxmLXN0cmV0Y2hcIiAvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPEthbmJhbkxpc3RcbiAgICAgICAgICAgICAgICAgIGtleT17bC5pZH1cbiAgICAgICAgICAgICAgICAgIGxpc3Q9e2x9XG4gICAgICAgICAgICAgICAgICBib2FyZElkPXtib2FyZElkfVxuICAgICAgICAgICAgICAgICAgd29ya3NwYWNlSWQ9e3dvcmtzcGFjZUlkfVxuICAgICAgICAgICAgICAgICAgY2FyZHM9e1xuICAgICAgICAgICAgICAgICAgICAoY2FyZHNCeUxpc3RbbC5pZF0gPz8gW10pXG4gICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihjYXJkTWF0Y2hlc0ZpbHRlcnMpXG4gICAgICAgICAgICAgICAgICAgICAgLm1hcCgoYykgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAuLi5jLFxuICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbjogKCkgPT4gc2V0T3BlbkNhcmRJZChjLmlkKSxcbiAgICAgICAgICAgICAgICAgICAgICBtZW1iZXJzOiBtZW1iZXJzQnlDYXJkW2MuaWRdID8/IFtdLFxuICAgICAgICAgICAgICAgICAgICAgIGxhYmVsczogbGFiZWxzQnlDYXJkW2MuaWRdID8/IFtdLFxuICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRzQ291bnQ6IGF0dGFjaG1lbnRzQ291bnRCeUNhcmRbYy5pZF0gPz8gMCxcbiAgICAgICAgICAgICAgICAgICAgICBjb21tZW50c0NvdW50OiBjb21tZW50c0NvdW50QnlDYXJkW2MuaWRdID8/IDAsXG4gICAgICAgICAgICAgICAgICAgIH0pKSBhcyBhbnlcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIG9uQWRkQ2FyZD17KHRpdGxlKSA9PiBhZGRDYXJkKGwuaWQsIHRpdGxlKX1cbiAgICAgICAgICAgICAgICAgIGFsbExpc3RzPXtsaXN0c31cbiAgICAgICAgICAgICAgICAgIG9uTW92ZUxpc3Q9e2FzeW5jIChkaXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4ID0gbGlzdHMuZmluZEluZGV4KCh4KSA9PiB4LmlkID09PSBsLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3dhcElkeCA9IGRpciA9PT0gXCJsZWZ0XCIgPyBpZHggLSAxIDogaWR4ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN3YXBJZHggPCAwIHx8IHN3YXBJZHggPj0gbGlzdHMubGVuZ3RoKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGEgPSBsaXN0c1tpZHhdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBiID0gbGlzdHNbc3dhcElkeF07XG4gICAgICAgICAgICAgICAgICAgIC8vIFVJIG90aW1pc3RhXG4gICAgICAgICAgICAgICAgICAgIHNldExpc3RzKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29weSA9IFsuLi5wcmV2XTtcbiAgICAgICAgICAgICAgICAgICAgICBjb3B5W2lkeF0gPSBiO1xuICAgICAgICAgICAgICAgICAgICAgIGNvcHlbc3dhcElkeF0gPSBhO1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb3B5O1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdHJvY2EgcG9zacOnw7VlcyBubyBiYW5jb1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgc3VwYWJhc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC5mcm9tKFwibGlzdHNcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC51cGRhdGUoeyBwb3NpdGlvbjogYi5wb3NpdGlvbiB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmVxKFwiaWRcIiwgYS5pZCksXG4gICAgICAgICAgICAgICAgICAgICAgc3VwYWJhc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC5mcm9tKFwibGlzdHNcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC51cGRhdGUoeyBwb3NpdGlvbjogYS5wb3NpdGlvbiB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmVxKFwiaWRcIiwgYi5pZCksXG4gICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIG9uQ29weUxpc3Q9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgZmV0Y2goXCIvYXBpL2xpc3RzL2NvcHlcIiwge1xuICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RfaWQ6IGwuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRfYm9hcmRfaWQ6IGJvYXJkSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBgJHtsLm5hbWV9IChDw7NwaWEpYCxcbiAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgb25Nb3ZlTGlzdFRvPXthc3luYyAoXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldEJvYXJkSWQ6IHN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25JbmRleDogbnVtYmVyXG4gICAgICAgICAgICAgICAgICApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVUkgb3RpbWlzdGFcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldkxpc3RzID0gbGlzdHM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZDYXJkc0J5TGlzdCA9IGNhcmRzQnlMaXN0O1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRCb2FyZElkID09PSBib2FyZElkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtb3ZlciBkZW50cm8gZG8gbWVzbW8gcXVhZHJvOiByZW9yZGVuYXIgbG9jYWxtZW50ZSBwZWxvIMOtbmRpY2UgZXNjb2xoaWRvXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmcm9tSWR4ID0gbGlzdHMuZmluZEluZGV4KCh4KSA9PiB4LmlkID09PSBsLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvSWR4ID0gTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KHBvc2l0aW9uSW5kZXggLSAxLCAwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdHMubGVuZ3RoIC0gMVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmcm9tSWR4ICE9PSAtMSAmJiB0b0lkeCAhPT0gZnJvbUlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gWy4uLmxpc3RzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgW21vdmVkXSA9IG5leHQuc3BsaWNlKGZyb21JZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0LnNwbGljZSh0b0lkeCwgMCwgbW92ZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRMaXN0cyhuZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbW92ZXIgcGFyYSBvdXRybyBxdWFkcm86IHJlbW92ZSBsb2NhbG1lbnRlXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRMaXN0cygocHJldikgPT4gcHJldi5maWx0ZXIoKHgpID0+IHguaWQgIT09IGwuaWQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgW2wuaWRdOiBfcmVtb3ZlZCwgLi4ucmVzdCB9ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZHNCeUxpc3QgYXMgYW55O1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2FyZHNCeUxpc3QocmVzdCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIC8vIHBlcnNpc3RpciBubyBzZXJ2aWRvclxuICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGZldGNoKFwiL2FwaS9saXN0cy9tb3ZlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RfaWQ6IGwuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldF9ib2FyZF9pZDogdGFyZ2V0Qm9hcmRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25JbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyByb2xsYmFja1xuICAgICAgICAgICAgICAgICAgICAgIHNldExpc3RzKHByZXZMaXN0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0Q2FyZHNCeUxpc3QocHJldkNhcmRzQnlMaXN0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIG9uTW92ZUFsbENhcmRzPXthc3luYyAodGFyZ2V0TGlzdElkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyb21DYXJkcyA9IChjYXJkc0J5TGlzdFtsLmlkXSA/PyBbXSlcbiAgICAgICAgICAgICAgICAgICAgICAuc2xpY2UoKVxuICAgICAgICAgICAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBhLnBvc2l0aW9uIC0gYi5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIC8vIFVJIG90aW1pc3RhXG4gICAgICAgICAgICAgICAgICAgIHNldENhcmRzQnlMaXN0KChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29weTogUmVjb3JkPHN0cmluZywgQ2FyZFtdPiA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgayBvZiBPYmplY3Qua2V5cyhwcmV2KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcHlba10gPSBbLi4uKHByZXZba10gPz8gW10pXTtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb3ZpbmcgPSBjb3B5W2wuaWRdID8/IFtdO1xuICAgICAgICAgICAgICAgICAgICAgIGNvcHlbdGFyZ2V0TGlzdElkXSA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLihjb3B5W3RhcmdldExpc3RJZF0gPz8gW10pLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4ubW92aW5nLm1hcCgoYywgaSkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdF9pZDogdGFyZ2V0TGlzdElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogKGkgKyAxKSAqIDEwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgIGNvcHlbbC5pZF0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29weTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZnJvbUNhcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC5mcm9tKFwiY2FyZHNcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC51cGRhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0X2lkOiB0YXJnZXRMaXN0SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAoaSArIDEpICogMTAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5lcShcImlkXCIsIGZyb21DYXJkc1tpXS5pZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBvblNvcnRMaXN0PXthc3luYyAobW9kZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXJkcyA9IChjYXJkc0J5TGlzdFtsLmlkXSA/PyBbXSkuc2xpY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGUgPT09IFwiY3JlYXRlZFwiIHx8IG1vZGUgPT09IFwiY3JlYXRlZF9kZXNjXCIpXG4gICAgICAgICAgICAgICAgICAgICAgY2FyZHMuc29ydCgoYTogYW55LCBiOiBhbnkpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlID09PSBcImNyZWF0ZWRfZGVzY1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gbmV3IERhdGUoYi5jcmVhdGVkX2F0KS5nZXRUaW1lKCkgLVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBEYXRlKGEuY3JlYXRlZF9hdCkuZ2V0VGltZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogbmV3IERhdGUoYS5jcmVhdGVkX2F0KS5nZXRUaW1lKCkgLVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBEYXRlKGIuY3JlYXRlZF9hdCkuZ2V0VGltZSgpXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGUgPT09IFwiZHVlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgY2FyZHMuc29ydChcbiAgICAgICAgICAgICAgICAgICAgICAgIChhOiBhbnksIGI6IGFueSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKGEuZHVlX2RhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG5ldyBEYXRlKGEuZHVlX2RhdGUpLmdldFRpbWUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogSW5maW5pdHkpIC1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKGIuZHVlX2RhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG5ldyBEYXRlKGIuZHVlX2RhdGUpLmdldFRpbWUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogSW5maW5pdHkpXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGUgPT09IFwiYWxwaGFcIilcbiAgICAgICAgICAgICAgICAgICAgICBjYXJkcy5zb3J0KChhOiBhbnksIGI6IGFueSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIChhLnRpdGxlIHx8IFwiXCIpLmxvY2FsZUNvbXBhcmUoYi50aXRsZSB8fCBcIlwiLCBcInB0LUJSXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vuc2l0aXZpdHk6IFwiYmFzZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAvLyBVSSBvdGltaXN0YVxuICAgICAgICAgICAgICAgICAgICBzZXRDYXJkc0J5TGlzdCgocHJldikgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgICAgICAgICAgIFtsLmlkXTogY2FyZHMubWFwKChjLCBpKSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uYyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAoaSArIDEpICogMTAwLFxuICAgICAgICAgICAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAvLyBwZXJzaXN0aXJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjYXJkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAuZnJvbShcImNhcmRzXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAudXBkYXRlKHsgcG9zaXRpb246IChpICsgMSkgKiAxMDAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5lcShcImlkXCIsIGNhcmRzW2ldLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIG9uQXJjaGl2ZUxpc3Q9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb25maXJtKFwiQXJxdWl2YXIgZXN0YSBsaXN0YSBlIHNldXMgY2FydMO1ZXM/XCIpKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBjYXJ0w7VlcyBwcmltZWlyb1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXJkcyA9IGNhcmRzQnlMaXN0W2wuaWRdID8/IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGMgb2YgY2FyZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdXBhYmFzZS5mcm9tKFwiY2FyZHNcIikuZGVsZXRlKCkuZXEoXCJpZFwiLCBjLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBVSSBvdGltaXN0YTogcmVtb3ZlIGEgbGlzdGEgbG9jYWxtZW50ZVxuICAgICAgICAgICAgICAgICAgICBzZXRMaXN0cygocHJldikgPT4gcHJldi5maWx0ZXIoKHgpID0+IHguaWQgIT09IGwuaWQpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBbbC5pZF06IF9yZW1vdmVkLCAuLi5yZXN0IH0gPSBjYXJkc0J5TGlzdCBhcyBhbnk7XG4gICAgICAgICAgICAgICAgICAgIHNldENhcmRzQnlMaXN0KHJlc3QpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdXBhYmFzZS5mcm9tKFwibGlzdHNcIikuZGVsZXRlKCkuZXEoXCJpZFwiLCBsLmlkKTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBvbkFyY2hpdmVBbGxDYXJkcz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXJkcyA9IChjYXJkc0J5TGlzdFtsLmlkXSA/PyBbXSkuc2xpY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVUkgb3RpbWlzdGE6IGVzdmF6aWEgYSBsaXN0YSBsb2NhbFxuICAgICAgICAgICAgICAgICAgICBzZXRDYXJkc0J5TGlzdCgocHJldikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvcHkgPSB7IC4uLnByZXYgfTtcbiAgICAgICAgICAgICAgICAgICAgICBjb3B5W2wuaWRdID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvcHk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAvLyBwZXJzaXN0aXI6IHNvZnQgZGVsZXRlIChhcnF1aXZhcilcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWRzID0gY2FyZHMubWFwKChjKSA9PiBjLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlkcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC5mcm9tKFwiY2FyZHNcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC51cGRhdGUoeyBhcmNoaXZlZF9hdDogbm93IH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuaW4oXCJpZFwiLCBpZHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9Tb3J0YWJsZUNvbnRleHQ+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17YWRkTGlzdH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctODAgbWluLXctWzIwcmVtXSBoLWZpdCBiZy13aGl0ZS84MCBiYWNrZHJvcC1ibHVyIGJvcmRlciBib3JkZXItZGFzaGVkIGJvcmRlci1uZXV0cmFsLTMwMCBob3Zlcjpib3JkZXItbmV1dHJhbC00MDAgaG92ZXI6Ymctd2hpdGUgdHJhbnNpdGlvbiByb3VuZGVkLXhsIHAtNCB0ZXh0LWxlZnQgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxQbHVzIHNpemU9ezE4fSAvPlxuICAgICAgICAgICAgPHNwYW4+Tm92YSBsaXN0YTwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxEcmFnT3ZlcmxheT5cbiAgICAgICAgICB7YWN0aXZlRHJhZ0lkPy5zdGFydHNXaXRoKFwiY29udGFpbmVyOlwiKSA/IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy04MCBwb2ludGVyLWV2ZW50cy1ub25lXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZC14bCBib3JkZXIgYmctd2hpdGUgc2hhZG93LWxnXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcHgtMyBweS0yIGJvcmRlci1iXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+TW92ZXIgbGlzdGE8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMyB0ZXh0LXNtIHRleHQtbmV1dHJhbC01MDBcIj4uLi48L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApIDogYWN0aXZlT3ZlcmxheSA/IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy04MCBwb2ludGVyLWV2ZW50cy1ub25lXCI+XG4gICAgICAgICAgICAgIDxLYW5iYW5DYXJkXG4gICAgICAgICAgICAgICAgY2FyZD17YWN0aXZlT3ZlcmxheS5jYXJkIGFzIGFueX1cbiAgICAgICAgICAgICAgICBsaXN0SWQ9e2FjdGl2ZU92ZXJsYXkubGlzdElkfVxuICAgICAgICAgICAgICAgIGR1ZVNvb25UaHJlc2hvbGRNaW51dGVzPXtzZXR0aW5ncy5kdWVfc29vbl90aHJlc2hvbGRfbWludXRlc31cbiAgICAgICAgICAgICAgICBpc092ZXJsYXlcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICA8L0RyYWdPdmVybGF5PlxuICAgICAgPC9EbmRDb250ZXh0PlxuICAgICAgPENhcmRNb2RhbFxuICAgICAgICBjYXJkSWQ9e29wZW5DYXJkSWQgPz8gXCJcIn1cbiAgICAgICAgYm9hcmRJZD17Ym9hcmRJZH1cbiAgICAgICAgb3Blbj17ISFvcGVuQ2FyZElkfVxuICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRPcGVuQ2FyZElkKG51bGwpfVxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJEbmRDb250ZXh0IiwiUG9pbnRlclNlbnNvciIsInJlY3RJbnRlcnNlY3Rpb24iLCJ1c2VTZW5zb3IiLCJ1c2VTZW5zb3JzIiwiRHJhZ092ZXJsYXkiLCJTb3J0YWJsZUNvbnRleHQiLCJob3Jpem9udGFsTGlzdFNvcnRpbmdTdHJhdGVneSIsInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VTdGF0ZSIsIkthbmJhbkxpc3QiLCJLYW5iYW5DYXJkIiwiZ2V0U3VwYWJhc2VCcm93c2VyQ2xpZW50IiwiUGx1cyIsIkZpbHRlciIsIkNhcmRNb2RhbCIsInNldENhY2hlZFNpZ25lZFVybCIsIlBvcG92ZXIiLCJCdXR0b24iLCJSZWFjdCIsIkthbmJhbkJvYXJkIiwiYm9hcmRJZCIsIndvcmtzcGFjZUlkIiwibGFiZWxzQW5jaG9yUmVmIiwibWVtYmVyc0FuY2hvclJlZiIsInN1cGFiYXNlIiwibGlzdHMiLCJzZXRMaXN0cyIsImNhcmRzQnlMaXN0Iiwic2V0Q2FyZHNCeUxpc3QiLCJzZW5zb3JzIiwiYWN0aXZhdGlvbkNvbnN0cmFpbnQiLCJkaXN0YW5jZSIsIm9wZW5DYXJkSWQiLCJzZXRPcGVuQ2FyZElkIiwibWVtYmVyc0J5Q2FyZCIsInNldE1lbWJlcnNCeUNhcmQiLCJsYWJlbHNJbmRleCIsInNldExhYmVsc0luZGV4IiwiYXR0YWNobWVudHNDb3VudEJ5Q2FyZCIsInNldEF0dGFjaG1lbnRzQ291bnRCeUNhcmQiLCJjb21tZW50c0NvdW50QnlDYXJkIiwic2V0Q29tbWVudHNDb3VudEJ5Q2FyZCIsInNldHRpbmdzIiwic2V0U2V0dGluZ3MiLCJhdXRvX3N0YXJ0X29uX2NyZWF0ZSIsImR1ZV9vZmZzZXRfbWludXRlcyIsImR1ZV9zb29uX3RocmVzaG9sZF9taW51dGVzIiwibGFiZWxzQnlDYXJkIiwic2V0TGFiZWxzQnlDYXJkIiwiYWN0aXZlRHJhZ0lkIiwic2V0QWN0aXZlRHJhZ0lkIiwib3Zlckxpc3RJZCIsInNldE92ZXJMaXN0SWQiLCJkcmFnZ2luZ0xpc3RJZCIsInNldERyYWdnaW5nTGlzdElkIiwiYWN0aXZlT3ZlcmxheSIsImxJZCIsImNJZCIsInNwbGl0IiwiYXJyIiwiYmFzZSIsImZpbmQiLCJjIiwiaWQiLCJsaXN0SWQiLCJjYXJkIiwibWVtYmVycyIsImxhYmVscyIsImF0dGFjaG1lbnRzQ291bnQiLCJjb21tZW50c0NvdW50IiwibW91bnRlZCIsImRhdGEiLCJscyIsImZyb20iLCJzZWxlY3QiLCJlcSIsIm9yZGVyIiwiYXNjZW5kaW5nIiwiY3MiLCJpcyIsIm1hcCIsImwiLCJmaWx0ZXIiLCJsaXN0X2lkIiwiY292ZXJQYXRocyIsImNvdmVyX3BhdGgiLCJCb29sZWFuIiwibGVuZ3RoIiwiUHJvbWlzZSIsImFsbCIsInAiLCJvbmUiLCJzdG9yYWdlIiwiY3JlYXRlU2lnbmVkVXJsIiwic2lnbmVkVXJsIiwiY2FyZElkcyIsImNtIiwiaW4iLCJ1c2VySWRzIiwiQXJyYXkiLCJTZXQiLCJtIiwidXNlcl9pZCIsInByb2ZpbGVzIiwicE1hcCIsIk1hcCIsImJ5Q2FyZCIsImNhcmRfaWQiLCJwcm9mIiwiZ2V0IiwicHVzaCIsIm5hbWUiLCJkaXNwbGF5X25hbWUiLCJhdmF0YXJfdXJsIiwid3NtcyIsIndzVXNlcklkcyIsIngiLCJ3c1Byb2ZpbGVzIiwiZXh0cmFzIiwicHJldiIsImNvcHkiLCJhbGxMYWJlbHMiLCJjYXJkTGFiZWxzIiwibGFiZWxNYXAiLCJPYmplY3QiLCJmcm9tRW50cmllcyIsImNvbG9yIiwiYnlDYXJkTGFiZWxzIiwiY2wiLCJsYWIiLCJsYWJlbF9pZCIsImF0dHMiLCJjb3VudE1hcCIsImEiLCJjbXMiLCJjQ291bnQiLCJzdCIsIm1heWJlU2luZ2xlIiwiY2hhbm5lbCIsIm9uIiwiZXZlbnQiLCJzY2hlbWEiLCJ0YWJsZSIsInBheWxvYWQiLCJldmVudFR5cGUiLCJuZXciLCJzb3J0IiwiYiIsInBvc2l0aW9uIiwib2xkIiwidXBkYXRlZCIsImFyY2hpdmVkX2F0Iiwia2V5Iiwia2V5cyIsInN1YnNjcmliZSIsImNoYW5uZWwyIiwiY2FyZElkIiwiZXhpc3RzIiwidmFsdWVzIiwic29tZSIsImNoYW5uZWwzIiwiTWF0aCIsIm1heCIsImNoYW5uZWw0IiwicmVtb3ZlQ2hhbm5lbCIsIm9uUmVmcmVzaE1ldGEiLCJlIiwiZGV0YWlsIiwiY2xzIiwibGFicyIsImNvdW50IiwiaGVhZCIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYWRkTGlzdCIsInByb21wdCIsInRyaW0iLCJtYXhQb3MiLCJpbnNlcnQiLCJib2FyZF9pZCIsImFkZENhcmQiLCJ0aXRsZSIsInQiLCJjYXJkcyIsIm5vdyIsIkRhdGUiLCJzdGFydF9kYXRlIiwidG9JU09TdHJpbmciLCJkdWVfZGF0ZSIsImdldFRpbWUiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImRlc2NyaXB0aW9uIiwiZmlsdGVycyIsInNldEZpbHRlcnMiLCJxdWVyeSIsImxhYmVsSWRzIiwibWVtYmVySWRzIiwiZHVlIiwidXNlUmVmIiwibGFiZWxzT3BlbiIsInNldExhYmVsc09wZW4iLCJtZW1iZXJzT3BlbiIsInNldE1lbWJlcnNPcGVuIiwiYWxsTWVtYmVycyIsImhhcyIsInNldCIsImNhcmRNYXRjaGVzRmlsdGVycyIsInEiLCJ0b0xvd2VyQ2FzZSIsImRlc2MiLCJpbmNsdWRlcyIsImxhYlNldCIsIm1hdGNoIiwibXMiLCJtU2V0IiwiZCIsInN0YXJ0T2ZUb2RheSIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwiZW5kT2ZUb2RheSIsImluNyIsImZpbmRDYXJkTG9jYXRpb24iLCJpIiwiaWR4IiwiZmluZEluZGV4IiwibGlzdEluZGV4IiwiY2FyZEluZGV4IiwiY29tcHV0ZVBvc2l0aW9uIiwibmV4dCIsIm9uRHJhZ1N0YXJ0IiwiU3RyaW5nIiwiYWN0aXZlIiwic3RhcnRzV2l0aCIsInJlcGxhY2UiLCJvbkRyYWdPdmVyIiwib3ZlcklkIiwib3ZlciIsImFjdGl2ZUlkIiwidG9MaXN0SWQiLCJvbkRyYWdFbmQiLCJ0YXJnZXRMaXN0Q2FyZHMiLCJmcm9tTGlzdElkIiwiZnJvbUluZGV4IiwidG9JbmRleCIsIm1vdmVkIiwic3BsaWNlIiwicHJldlBvcyIsInVuZGVmaW5lZCIsIm5leHRQb3MiLCJuZXdQb3MiLCJ1cGRhdGUiLCJhY3RpdmVQYXJ0cyIsImluc2VydEluZGV4Iiwib3ZlckNhcmRJZCIsInByZXZTdGF0ZSIsIm5leHRTdGF0ZSIsImsiLCJuZXdDYXJkIiwicmVzIiwib2siLCJkaXYiLCJjbGFzc05hbWUiLCJzaXplIiwic3BhbiIsImlucHV0IiwicGxhY2Vob2xkZXIiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwiZiIsInRhcmdldCIsImJ1dHRvbiIsInJlZiIsIm9uQ2xpY2siLCJvcGVuIiwib25DbG9zZSIsImFuY2hvclJlY3QiLCJjdXJyZW50IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwid2lkdGgiLCJsYWJlbCIsInR5cGUiLCJjaGVja2VkIiwiYWRkIiwiZGVsZXRlIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJvcHRpb24iLCJ2YXJpYW50IiwiY29sbGlzaW9uRGV0ZWN0aW9uIiwiaXRlbXMiLCJzdHJhdGVneSIsImxpc3QiLCJvbk9wZW4iLCJvbkFkZENhcmQiLCJhbGxMaXN0cyIsIm9uTW92ZUxpc3QiLCJkaXIiLCJzd2FwSWR4Iiwib25Db3B5TGlzdCIsInRhcmdldF9ib2FyZF9pZCIsIm9uTW92ZUxpc3RUbyIsInRhcmdldEJvYXJkSWQiLCJwb3NpdGlvbkluZGV4IiwicHJldkxpc3RzIiwicHJldkNhcmRzQnlMaXN0IiwiZnJvbUlkeCIsInRvSWR4IiwibWluIiwiX3JlbW92ZWQiLCJyZXN0Iiwib25Nb3ZlQWxsQ2FyZHMiLCJ0YXJnZXRMaXN0SWQiLCJmcm9tQ2FyZHMiLCJzbGljZSIsIm1vdmluZyIsIm9uU29ydExpc3QiLCJtb2RlIiwiY3JlYXRlZF9hdCIsIkluZmluaXR5IiwibG9jYWxlQ29tcGFyZSIsInNlbnNpdGl2aXR5Iiwib25BcmNoaXZlTGlzdCIsImNvbmZpcm0iLCJvbkFyY2hpdmVBbGxDYXJkcyIsImlkcyIsImR1ZVNvb25UaHJlc2hvbGRNaW51dGVzIiwiaXNPdmVybGF5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/KanbanBoard.tsx\n"));

/***/ })

});